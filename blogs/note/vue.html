<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue学习笔记 | 小董的Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.webp">
    <meta name="description" content="my-blog">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.2952188d.css" as="style"><link rel="preload" href="/assets/js/app.44e57090.js" as="script"><link rel="preload" href="/assets/js/4.181f235c.js" as="script"><link rel="preload" href="/assets/js/1.e6e6e62e.js" as="script"><link rel="preload" href="/assets/js/20.2e07e79b.js" as="script"><link rel="prefetch" href="/assets/js/10.c8d85fba.js"><link rel="prefetch" href="/assets/js/100.29e5a701.js"><link rel="prefetch" href="/assets/js/101.4f40739d.js"><link rel="prefetch" href="/assets/js/102.f697a91e.js"><link rel="prefetch" href="/assets/js/103.2c979fa8.js"><link rel="prefetch" href="/assets/js/104.8a38bc4b.js"><link rel="prefetch" href="/assets/js/105.93d7875e.js"><link rel="prefetch" href="/assets/js/106.5c897974.js"><link rel="prefetch" href="/assets/js/107.9500c294.js"><link rel="prefetch" href="/assets/js/108.8332ad1a.js"><link rel="prefetch" href="/assets/js/109.d5e5789e.js"><link rel="prefetch" href="/assets/js/11.39d4a944.js"><link rel="prefetch" href="/assets/js/110.8c2654cb.js"><link rel="prefetch" href="/assets/js/111.f1612c23.js"><link rel="prefetch" href="/assets/js/112.94c2333b.js"><link rel="prefetch" href="/assets/js/113.7d661084.js"><link rel="prefetch" href="/assets/js/114.2b84bb3e.js"><link rel="prefetch" href="/assets/js/115.e5c0f91d.js"><link rel="prefetch" href="/assets/js/116.3b654025.js"><link rel="prefetch" href="/assets/js/117.1830d956.js"><link rel="prefetch" href="/assets/js/118.d4497ef9.js"><link rel="prefetch" href="/assets/js/119.69f684d8.js"><link rel="prefetch" href="/assets/js/12.5b9b3182.js"><link rel="prefetch" href="/assets/js/120.f8d967ec.js"><link rel="prefetch" href="/assets/js/121.6681920c.js"><link rel="prefetch" href="/assets/js/122.787f3e38.js"><link rel="prefetch" href="/assets/js/123.207842df.js"><link rel="prefetch" href="/assets/js/124.e6a16d6d.js"><link rel="prefetch" href="/assets/js/125.dc95c7f2.js"><link rel="prefetch" href="/assets/js/126.ef81e5b4.js"><link rel="prefetch" href="/assets/js/127.4b8507a4.js"><link rel="prefetch" href="/assets/js/128.289b0b3c.js"><link rel="prefetch" href="/assets/js/129.b367618a.js"><link rel="prefetch" href="/assets/js/13.4a127d99.js"><link rel="prefetch" href="/assets/js/130.e16fbbc2.js"><link rel="prefetch" href="/assets/js/131.21883156.js"><link rel="prefetch" href="/assets/js/132.75a93cf2.js"><link rel="prefetch" href="/assets/js/14.02dea18c.js"><link rel="prefetch" href="/assets/js/15.8a9d91ab.js"><link rel="prefetch" href="/assets/js/16.37449adb.js"><link rel="prefetch" href="/assets/js/17.32882eba.js"><link rel="prefetch" href="/assets/js/18.4c5df92e.js"><link rel="prefetch" href="/assets/js/19.d1504b81.js"><link rel="prefetch" href="/assets/js/21.3b38edda.js"><link rel="prefetch" href="/assets/js/22.317eedd4.js"><link rel="prefetch" href="/assets/js/23.ee57cd26.js"><link rel="prefetch" href="/assets/js/24.ae236bbf.js"><link rel="prefetch" href="/assets/js/25.54c278a4.js"><link rel="prefetch" href="/assets/js/26.854f7b14.js"><link rel="prefetch" href="/assets/js/27.80f70d43.js"><link rel="prefetch" href="/assets/js/28.f313f88e.js"><link rel="prefetch" href="/assets/js/29.e344a089.js"><link rel="prefetch" href="/assets/js/3.3c13277f.js"><link rel="prefetch" href="/assets/js/30.7717fdc3.js"><link rel="prefetch" href="/assets/js/31.8a305c5f.js"><link rel="prefetch" href="/assets/js/32.6fa6351f.js"><link rel="prefetch" href="/assets/js/33.410948d6.js"><link rel="prefetch" href="/assets/js/34.3d77ee42.js"><link rel="prefetch" href="/assets/js/35.66e331d0.js"><link rel="prefetch" href="/assets/js/36.a4d89403.js"><link rel="prefetch" href="/assets/js/37.0149a18a.js"><link rel="prefetch" href="/assets/js/38.945d7a78.js"><link rel="prefetch" href="/assets/js/39.80d88a49.js"><link rel="prefetch" href="/assets/js/40.afb1308f.js"><link rel="prefetch" href="/assets/js/41.fcc700eb.js"><link rel="prefetch" href="/assets/js/42.a400cc97.js"><link rel="prefetch" href="/assets/js/43.16b60b18.js"><link rel="prefetch" href="/assets/js/44.f23e4bb2.js"><link rel="prefetch" href="/assets/js/45.4765e39c.js"><link rel="prefetch" href="/assets/js/46.6510bdc9.js"><link rel="prefetch" href="/assets/js/47.36346415.js"><link rel="prefetch" href="/assets/js/48.a2791c5b.js"><link rel="prefetch" href="/assets/js/49.f5a05df6.js"><link rel="prefetch" href="/assets/js/5.09b7ad81.js"><link rel="prefetch" href="/assets/js/50.021bf924.js"><link rel="prefetch" href="/assets/js/51.bc1a1272.js"><link rel="prefetch" href="/assets/js/52.43bf7ec1.js"><link rel="prefetch" href="/assets/js/53.97c3d3d9.js"><link rel="prefetch" href="/assets/js/54.ed004346.js"><link rel="prefetch" href="/assets/js/55.bda51b90.js"><link rel="prefetch" href="/assets/js/56.766faf3e.js"><link rel="prefetch" href="/assets/js/57.40800b12.js"><link rel="prefetch" href="/assets/js/58.8aef5cbc.js"><link rel="prefetch" href="/assets/js/59.d33422f8.js"><link rel="prefetch" href="/assets/js/6.30e5caff.js"><link rel="prefetch" href="/assets/js/60.a39d57ab.js"><link rel="prefetch" href="/assets/js/61.4c3b401d.js"><link rel="prefetch" href="/assets/js/62.01820346.js"><link rel="prefetch" href="/assets/js/63.312109f7.js"><link rel="prefetch" href="/assets/js/64.3bbce5e3.js"><link rel="prefetch" href="/assets/js/65.09ff035a.js"><link rel="prefetch" href="/assets/js/66.87db8b40.js"><link rel="prefetch" href="/assets/js/67.8ff57a43.js"><link rel="prefetch" href="/assets/js/68.8a9e739f.js"><link rel="prefetch" href="/assets/js/69.987e0b58.js"><link rel="prefetch" href="/assets/js/7.116d0637.js"><link rel="prefetch" href="/assets/js/70.2c5bdd94.js"><link rel="prefetch" href="/assets/js/71.410368c7.js"><link rel="prefetch" href="/assets/js/72.ef36877c.js"><link rel="prefetch" href="/assets/js/73.f17a9018.js"><link rel="prefetch" href="/assets/js/74.cc084c72.js"><link rel="prefetch" href="/assets/js/75.b3b9958d.js"><link rel="prefetch" href="/assets/js/76.b988e77c.js"><link rel="prefetch" href="/assets/js/77.b96e55be.js"><link rel="prefetch" href="/assets/js/78.b002af8a.js"><link rel="prefetch" href="/assets/js/79.680c4175.js"><link rel="prefetch" href="/assets/js/8.1df091c6.js"><link rel="prefetch" href="/assets/js/80.c7360bad.js"><link rel="prefetch" href="/assets/js/81.cce30482.js"><link rel="prefetch" href="/assets/js/82.ed183431.js"><link rel="prefetch" href="/assets/js/83.41848223.js"><link rel="prefetch" href="/assets/js/84.b5b180d0.js"><link rel="prefetch" href="/assets/js/85.a0e0d335.js"><link rel="prefetch" href="/assets/js/86.d2ce768b.js"><link rel="prefetch" href="/assets/js/87.3ae08535.js"><link rel="prefetch" href="/assets/js/88.c3d0e4d5.js"><link rel="prefetch" href="/assets/js/89.170dbc71.js"><link rel="prefetch" href="/assets/js/9.ed0384c2.js"><link rel="prefetch" href="/assets/js/90.e1324af3.js"><link rel="prefetch" href="/assets/js/91.960a8ead.js"><link rel="prefetch" href="/assets/js/92.aaf7cd2b.js"><link rel="prefetch" href="/assets/js/93.177ea42d.js"><link rel="prefetch" href="/assets/js/94.2b910bf0.js"><link rel="prefetch" href="/assets/js/95.09ef84f8.js"><link rel="prefetch" href="/assets/js/96.61c994d0.js"><link rel="prefetch" href="/assets/js/97.9031e223.js"><link rel="prefetch" href="/assets/js/98.3d99e80d.js"><link rel="prefetch" href="/assets/js/99.12cb9b83.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2952188d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-6853d236><div data-v-6853d236><div class="password-shadow password-wrapper-out" style="display:none;" data-v-2d5d5590 data-v-6853d236 data-v-6853d236><h3 class="title" data-v-2d5d5590>小董的Blog</h3> <p class="description" data-v-2d5d5590>my-blog</p> <label id="box" class="inputBox" data-v-2d5d5590><input type="password" value="" data-v-2d5d5590> <span data-v-2d5d5590>Konck! Knock!</span> <button data-v-2d5d5590>OK</button></label> <div class="footer" data-v-2d5d5590><span data-v-2d5d5590><i class="iconfont reco-theme" data-v-2d5d5590></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-2d5d5590>vuePress-theme-reco</a></span> <span data-v-2d5d5590><i class="iconfont reco-copyright" data-v-2d5d5590></i> <a data-v-2d5d5590><span data-v-2d5d5590>小董</span>
          
        <span data-v-2d5d5590>2017 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-6853d236><header class="navbar" data-v-6853d236><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/favicon.webp" alt="小董的Blog" class="logo"> <span class="site-name">小董的Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/categories/工具类/" class="nav-link"><i class="undefined"></i>
  工具类
</a></li><li class="dropdown-item"><!----> <a href="/categories/神奇的API/" class="nav-link"><i class="undefined"></i>
  神奇的API
</a></li><li class="dropdown-item"><!----> <a href="/categories/css小知识/" class="nav-link"><i class="undefined"></i>
  css小知识
</a></li><li class="dropdown-item"><!----> <a href="/categories/css-demo/" class="nav-link"><i class="undefined"></i>
  css-demo
</a></li><li class="dropdown-item"><!----> <a href="/categories/js小知识/" class="nav-link"><i class="undefined"></i>
  js小知识
</a></li><li class="dropdown-item"><!----> <a href="/categories/es6/" class="nav-link"><i class="undefined"></i>
  es6
</a></li><li class="dropdown-item"><!----> <a href="/categories/面试细节/" class="nav-link"><i class="undefined"></i>
  面试细节
</a></li><li class="dropdown-item"><!----> <a href="/categories/笔记/" class="nav-link"><i class="undefined"></i>
  笔记
</a></li><li class="dropdown-item"><!----> <a href="/categories/踩坑/" class="nav-link"><i class="undefined"></i>
  踩坑
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/liuhuakawaii/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-6853d236></div> <aside class="sidebar" data-v-6853d236><div class="personal-info-wrapper" data-v-3c280276 data-v-6853d236><img src="/favicon.webp" alt="author-avatar" class="personal-img" data-v-3c280276> <h3 class="name" data-v-3c280276>
    小董
  </h3> <div class="num" data-v-3c280276><div data-v-3c280276><h3 data-v-3c280276>122</h3> <h6 data-v-3c280276>Articles</h6></div> <div data-v-3c280276><h3 data-v-3c280276>21</h3> <h6 data-v-3c280276>Tags</h6></div></div> <ul class="social-links" data-v-3c280276></ul> <hr data-v-3c280276></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/categories/工具类/" class="nav-link"><i class="undefined"></i>
  工具类
</a></li><li class="dropdown-item"><!----> <a href="/categories/神奇的API/" class="nav-link"><i class="undefined"></i>
  神奇的API
</a></li><li class="dropdown-item"><!----> <a href="/categories/css小知识/" class="nav-link"><i class="undefined"></i>
  css小知识
</a></li><li class="dropdown-item"><!----> <a href="/categories/css-demo/" class="nav-link"><i class="undefined"></i>
  css-demo
</a></li><li class="dropdown-item"><!----> <a href="/categories/js小知识/" class="nav-link"><i class="undefined"></i>
  js小知识
</a></li><li class="dropdown-item"><!----> <a href="/categories/es6/" class="nav-link"><i class="undefined"></i>
  es6
</a></li><li class="dropdown-item"><!----> <a href="/categories/面试细节/" class="nav-link"><i class="undefined"></i>
  面试细节
</a></li><li class="dropdown-item"><!----> <a href="/categories/笔记/" class="nav-link"><i class="undefined"></i>
  笔记
</a></li><li class="dropdown-item"><!----> <a href="/categories/踩坑/" class="nav-link"><i class="undefined"></i>
  踩坑
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/liuhuakawaii/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-2d5d5590 data-v-6853d236><h3 class="title" data-v-2d5d5590>Vue学习笔记</h3> <!----> <label id="box" class="inputBox" data-v-2d5d5590><input type="password" value="" data-v-2d5d5590> <span data-v-2d5d5590>Konck! Knock!</span> <button data-v-2d5d5590>OK</button></label> <div class="footer" data-v-2d5d5590><span data-v-2d5d5590><i class="iconfont reco-theme" data-v-2d5d5590></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-2d5d5590>vuePress-theme-reco</a></span> <span data-v-2d5d5590><i class="iconfont reco-copyright" data-v-2d5d5590></i> <a data-v-2d5d5590><span data-v-2d5d5590>小董</span>
          
        <span data-v-2d5d5590>2017 - </span>
        2023
      </a></span></div></div> <div data-v-6853d236><div data-v-6853d236><main class="page" style="padding-right:0;"><section style="display:;"><div class="page-title"><h1 class="title">Vue学习笔记</h1> <div data-v-305db890><i class="iconfont reco-account" data-v-305db890><span data-v-305db890>小董</span></i> <i class="iconfont reco-date" data-v-305db890><span data-v-305db890>1/12/2021</span></i> <i class="iconfont reco-eye" data-v-305db890><span id="/blogs/note/vue.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-305db890><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-305db890><span class="tag-item" data-v-305db890>Vue</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="vue学习笔记-一-基础概念、基本指令"><a href="#vue学习笔记-一-基础概念、基本指令" class="header-anchor">#</a> Vue学习笔记(一)--基础概念、基本指令</h2> <h3 id="基础概念"><a href="#基础概念" class="header-anchor">#</a> 基础概念</h3> <ol><li>vue特性
<ol><li><strong><font color="red">数据驱动视图</font></strong> <ul><li>数据的变化会驱动视图自动更新</li> <li>好处:程序员只管把数据维护好，那么页面结构会被vue自动渲染出来!</li> <li>注意:数据驱动视图是<font color="red"><strong>单向的数据绑定</strong></font>。</li></ul></li> <li><strong><font color="red">双向数据绑定</font></strong> <ul><li>在网页中，form表单负责采集数据，Ajax负责提交数据。</li> <li>好处:开发者<strong>不再需要手动操作DOM元素</strong>，来获取表单元素最新的值!<br> <img src="/assets/img/01.d37672cc.jpg" alt=""></li></ul></li></ol></li> <li>MVVM
<ul><li>MVVM是vue实现数据驱动视图和双向数据绑定的核心原理。MVVM指的是Model、View和ViewModel</li> <li>Model表示当前页面渲染时所依赖的数据源。</li> <li>View表示当前页面所渲染的DOM结构。</li> <li>ViewModel表示vue的实例，它是MVVM的核心。</li></ul></li> <li>vue的基本使用
<ol><li>导入vue.js 的script脚本文件</li> <li>在页面中声明一个将要被vue所控制的DOM区域</li> <li>创建vm 实例对象（vue 实例对象)</li></ol></li></ol> <h3 id="常用指令"><a href="#常用指令" class="header-anchor">#</a> 常用指令</h3> <ol><li>内容渲染指令
<ul><li><code>v-text</code>:会覆盖元素原有内容</li> <li><code>v-html</code>:可以把带标签的字符串，渲染真正的html内容，<strong>会有XSS风险，会覆盖子组件</strong></li> <li><code></code>: 插值表达式,内容占位符 (只能用在元素的内容节点,不能用于属性节点)</li> <li>在插值语法和属性绑定里，可以使用JS表达式<div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token punctuation">{</span>number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>ok <span class="token operator">?</span> <span class="token string">&quot;YES&quot;</span> <span class="token operator">:</span><span class="token string">&quot;NO&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li> <li>属性绑定指令
<ul><li><code>v-bind:属性名</code>	为元素的属性动态绑定值（可以简写成<code>:</code>）<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//在使用v-bind属性绑定期间，如果绑定内容需要进行动态拼接，则字符串的外面应该包裹单引号，例如;</span>
    <span class="token operator">&lt;</span>div <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;'box' + index&quot;</span><span class="token operator">&gt;</span>这是一个div<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li>事件绑定指令
<ul><li><code>v-on:事件名称=&quot;事件处理函数(定义在methods中)&quot;</code>，可以简写成<code>@</code></li> <li>事件修饰符：		示例：<code>@click.prevent=''</code>  修饰符可以连续写<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token punctuation">.</span>prevent <span class="token comment">//阻止默认行为（例如:阻止a连接的跳转、阻止表单的提交等)</span>
    <span class="token punctuation">.</span>stop <span class="token comment">//阻止事件冒泡</span>
    <span class="token punctuation">.</span>capture<span class="token comment">//以捕获模式触发当前的事件处理函数</span>
    <span class="token punctuation">.</span>once <span class="token comment">//绑定的事件只触发1次</span>
    <span class="token punctuation">.</span>self <span class="token comment">//只有在event.target是当前元素自身时触发事件处理函数</span>
    <span class="token punctuation">.</span>passive<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>事件的默认行为立即执行，无需等待事件回调执行完毕<span class="token operator">:</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li>按键修饰符：    示例：<code>@keyup.enter=''</code><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">delete</span> <span class="token comment">//(“删除”和“退格”键)</span>
    tab<span class="token comment">//(特殊，必须配合keydown去使用)</span>
    <span class="token comment">//系统修饰健（用法特殊）:ctrl、alt、 shift、 meta</span>
    @click<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>exact  <span class="token comment">//只有ctrl被按下的时候触发       </span>
    @click<span class="token punctuation">.</span>exact  <span class="token comment">//没有任何系统按键按下的收触发</span>
    <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>配合keyup使用<span class="token operator">:</span><span class="token function">按下修饰健的同时，再按其他健，随后释放，事件才触发</span>
    <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>配合keydown使用<span class="token operator">:</span>正常触发事件。  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul></li> <li>双向绑定指令（表单元素使用才有意义）
<ul><li><code>v-model=''</code> 用来辅助开发者在不操作DOM的前提下，快速获取表单的数据。</li></ul> <ol><li><code>&lt;input type=&quot;text&quot;/&gt;</code>，则v-model收集的是value值，用户输入的就是value值。</li> <li><code>&lt;input type=&quot;radio&quot;/&gt;</code>，则v-model收集的是value值，且要给标签配置value值。</li> <li><code>&lt;input type=&quot;checkbox&quot;/&gt;</code> <ol><li>没有配置input的value属性，那么收集的就是checked（是布尔值)</li> <li>配置input的value属性:
<ol><li>v-model的初始值是非数组，那么收集的就是checked(是布尔值)</li> <li>v-model的初始值是数组，那么收集的的就是value组成的数组</li></ol></li></ol></li> <li>v-model的三个修饰符:<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token punctuation">.</span>lazy<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>失去焦点再收集数据
    <span class="token punctuation">.</span>number<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>输入字符串转为有效的数字
    <span class="token punctuation">.</span>trim<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>输入首尾空格过滤  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li>自定义v-model<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//父组件中      </span>
    <span class="token operator">&lt;</span>HelloWorld v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;showFlag&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;showFlag&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>HelloWorld<span class="token operator">&gt;</span>        

    <span class="token comment">//子组件中</span>
    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;$emit('change', false)&quot;</span><span class="token operator">&gt;</span>关闭组件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">'checked'</span><span class="token punctuation">,</span> <span class="token comment">//对应props:中的checked</span>
            <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token string">'change'</span>  <span class="token comment">//对应触发事件</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">checked</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li></ol></li> <li><strong>条件渲染指令（按需控制DOM的显示与隐藏）v-if / v-show 的区别</strong> <ol><li>实现原理不同:
<ul><li>v-if 指令会动态地创建或移除DOM元素</li> <li>v-show指令会动态为元素添加或移除<code>style=&quot; display: none;&quot;</code>样式</li></ul></li> <li>性能消耗不同:
<ul><li>v-if有更高的切换开销，而v-show有更高的初始渲染开销。因此:</li> <li>如果需要非常频繁地切换，则使用v-show较好</li> <li>如果在运行时条件很少改变，则使用v-if 较好</li></ul></li> <li>v-if、v-else-if、v-else不需要加条件判断，三者可以配合使用</li></ol></li> <li>列表渲染指令 (基于一个数组来循环渲染一个列表结构)<div class="language-js line-numbers-mode"><pre class="language-js"><code>    v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item,index)in xxx&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.id&quot;</span>   <span class="token comment">//遍历数组</span>
    v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(value,key,index) in xxx&quot;</span>   <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;key&quot;</span><span class="token comment">//遍历对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>加key的作用：
<ol><li>正确维护列表的状态</li> <li>复用现有的DOM元素，提升渲染的性能</li></ol></li> <li><strong><font color="red">key的注意事项:</font></strong> <ol><li>key的值只能是<strong>字符串</strong>或<strong>数字</strong>类型</li> <li>key的值<strong>必须具有唯一性</strong>（即:key的值不能重复)</li> <li>建议把<strong>数据项id属性的值</strong>作为key的值（因为id属性的值具有唯一性)</li> <li>使用<strong>index的值</strong>当作key的值<strong>没有任何意义</strong>（因为index的值不具有唯一性)</li> <li>建议使用v-for指令时要<strong>指定key的值</strong>（既<strong>提升性能、又防止列表状态紊乱</strong>)</li></ol></li> <li><strong><font color="red">面试题:react. vue中的key有什么作用?(key的内部原理)</font></strong> <ol><li>虚拟DOM中key的作用:
<ul><li>key是虚拟DOM对象的标识，当数据发生变化时，Vue会根据【新数据】生成【新的虚拟Ddl,随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下:</li></ul></li> <li>对比规则:
<ol><li>旧虚拟DOM中找到了与新虚拟DOM相同的key:
<ul><li>若虚拟DOM中内容没变,直接使用之前的真实DOM!</li> <li>若虚拟DOM中内容变了，则生成新的真实DOM，随后替换掉页面中之前的真实DON.</li></ul></li> <li>旧虚拟DOM中未找到与新虚拟DOM相同的key
<ul><li>创建新的真实DOM，随后渲染到到页面。</li></ul></li></ol></li> <li>用index作为key可能会引发的问题:
<ol><li>若对数据进行:逆序添加、逆序删除等破坏顺序操作:
<ul><li>会产生没有必要的真实DOM更新==&gt;界面效果没问题,但效率低。</li></ul></li> <li>如果结构中还包含输入类的DOM:
<ul><li>会产生错误DOM更新==〉界面有问题。</li></ul></li></ol></li> <li>开发中如何选择key? :
<ol><li>最好使用每条数据的唯一标识作为key，比如id、手机号、身份证号、学号等唯一值。</li> <li>如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，使用index作为key是没有问题的。</li></ol></li></ol></li></ul></li> <li>其他指令
<ol><li><code>v-cloak</code>指令（没有值）
<ul><li>本质是一个特殊属性,Vue实例创建完毕并接管容器后，会删掉v-cloak属性。</li> <li>使用css配合v-cloak可以解决网速慢时页面展示出<code></code>的<strong>页面闪烁问题</strong>。</li></ul></li> <li><code>v-once</code>指令（没有值）
<ul><li><code>v-once</code>所在节点在初次动态渲染后，就视为静态内容了。</li> <li><strong>以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能</strong>。</li></ul></li> <li><code>v-pre</code>指令（没有值）
<ul><li>跳过其所在节点的编译过程。</li> <li>可利用它跳过:没有使用指令语法、没有使用插值语法的节点会加快编译。</li></ul></li></ol></li> <li><strong>自定义指令</strong> <ol><li>定义语法:
<ol><li>局部指令:  一个自定义指令由一个包含类似组件生命周期钩子的对象来定义</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>      <span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">focus</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">//vue2</span>

              <span class="token comment">//bind：只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置。</span>
              <span class="token comment">//inserted：被绑定元素插入父节点时调用 (仅保证父节点存在，但不一定已被插入文档中)。</span>
              <span class="token comment">//update：所在组件的 VNode 更新时调用，但是可能发生在其子 VNode 更新之前。</span>
              <span class="token comment">//componentUpdated：指令所在组件的 VNode 及其子 VNode 全部更新后调用。</span>
              <span class="token comment">//unbind：只调用一次，指令与元素解绑时调用。</span>
               <span class="token function-variable function">inserted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span>
              <span class="token comment">//binding是一个多属性对象 name value oldValue(仅在update和componentUpdated可用) expression  arg modifiers</span>

              <span class="token comment">//vue3 提供的钩子函数就是自身的钩子函数</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ol start="2"><li>全局指令:</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>      app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token comment">//app.directive('',{})   指令名，配置对象</span>
          <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">//挂载在实例上，我们可以在对应的生命周期执行操作</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> app<span class="token punctuation">,</span><span class="token string">'mounted'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li>配置对象中常用的3个回调:
<ol><li><code>.bind</code>:指令与元素成功绑定时调用。（<strong>bind函数只调用1次</strong>）</li> <li><code>.inserted</code>:指令所在元素被插入页面时调用。</li> <li><code>.update</code>:指令所在模板结构被重新解析时调用。</li></ol></li> <li>备注:
<ol><li>指令定义时不加<code>v-</code>，但使用时要加<code>v-</code>;</li> <li>指令名如果是多个单词，要使用kebab-case命名方式，不要用camelCase命名。</li> <li>回调中第一个形参<strong>el</strong>表示当前指令所<strong>绑定到的那个真实DOM对象</strong>，形参中的<strong>第二个参数binding，来接收参数</strong></li> <li>如果<strong>bind</strong>和<strong>update</strong>函数中的<strong>逻辑完全相同</strong>，则<strong>对象格式的指令</strong>可以写成<strong>函数格式</strong>:</li></ol></li></ol></li></ol> <h3 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h3> <ol><li>el属性是固定的写法，表示当前vm 实例要控制页面上的哪个区域</li> <li>data对象就是要渲染到页面上的数据</li> <li>methods的作用，就是定义事件的处理函数</li></ol> <div class="language- extra-class"><pre><code>+ methods中的方法可以写成`add:function( ){ }`,也可以简写成`add( ){ }`,可以传参  
</code></pre></div><ol start="4"><li>vue提供了内置变量，名字叫做<code>$event</code>，它就是原生DOM的事件对象e,如果传参的话，注意写成<code>@click='add(n，$event)'</code>,如果不传参直接在methods中用e即可</li> <li>给checkbox绑定v-model时可以用<font color="red"><strong>for+id的组合</strong></font>提升用户体验，但是要注意这里要用<font color="red"><strong>动态拼接</strong></font>，不然只有第一行的checkbox生效</li></ol> <h3 id="vue监视数据的原理"><a href="#vue监视数据的原理" class="header-anchor">#</a> Vue监视数据的原理</h3> <ul><li>用户data数据--&gt;<code>_data</code>数据进行代理，并且给每一项数据进行包装，设置<code>getter、setter</code>--&gt;数据在vm实例上可以直接找到--&gt;当数据发生变化--&gt;对应<code>setter</code>调用（数据劫持）--&gt;形成虚拟DOM--&gt;新旧DOM比对复用--&gt;更新页面</li></ul> <ol><li>vue会监视data中所有层次的数据。</li> <li>如何监测对象中的数据?
<ul><li>通过setter实现监视，且要在new Vue时就传入要监测的数据。
<ol><li><strong><font color="red">对象中后追加的属性，Vue默认不做响应式处理</font></strong></li> <li>如需给后添加的属性做响应式，请使用如下API:</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>targe，propertyName<span class="token operator">/</span>index，value<span class="token punctuation">)</span>
    vm<span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span>target，propertyName<span class="token operator">/</span>index，value<span class="token punctuation">)</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li>如何监测数组中的数据?
<ul><li>通过包裹数组更新元素的方法实现,本质就是做了两件事:
<ol><li>调用原生对应的方法对数组进行更新。</li> <li>重新解析模板，进而更新页面。</li></ol></li></ul></li> <li>在Vue修改数组中的某个元素一定要用如下方法:
<ul><li><strong><font color="red">直接对数组的索引操作，不会有响应式变化，但是对索引下的属性操作可以</font></strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    使用这些<span class="token constant">API</span><span class="token function">：push</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>、 <span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、splice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>或vm<span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong><font color="red">特别注意:Vue.set()和vm.$set()不能给vm或 vm的根数据对象添加属性!!!</font></strong></li></ul></li></ol> <h3 id="过滤器"><a href="#过滤器" class="header-anchor">#</a> 过滤器</h3> <ol><li>基本使用
<ul><li>过滤器（Filters）是vue为开发者提供的功能，常用于文本的格式化。过滤器可以用在两个地方:<strong>插值表达式</strong>和<strong>v-bind属性绑定</strong>。(<strong>返回过滤器函数的新值</strong>)</li> <li>过滤器应该被添加在<strong>JavaScript表达式的尾部</strong>，由管道符<code>|</code>进行调用</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//在双花括号中通过&quot;管道符&quot;调用capitalize过滤器，对message的值进行格式化</span>
     <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token operator">|</span> capitalize <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li>过滤器的注意点：
<ol><li>要定义到filters节点下，本质是—个函数</li> <li>在过滤器函数中，一定要有return值</li> <li>在过滤器的形参val中，就可以获取到&quot;管道符&quot;前面待处理的那个值</li> <li>如果全局过滤器和私有过滤器名字一致，按照&quot;就近原则”，调用的是&quot;私有过滤器”</li></ol></li> <li>私有过滤器：它只能在当前vm 实例所控制的el区域内使用。（filters节点下定义的）</li> <li>全局过滤器：多个vue实例之间共享过滤器<div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">// Vue.filter()方法接收两个参数:</span>
  <span class="token comment">//第1个参数，是全局过滤器的&quot;名字&quot;</span>
  <span class="token comment">//第2个参数，是全局过滤器的&quot;处理函数&quot;</span>
  Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'capitalize'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'~~'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li>连续调用多个过滤器<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//把 message的值，交给filterA 进行处理</span>
    <span class="token comment">//把 filterA处理的结果，再交给filterB进行处理</span>
    <span class="token comment">//最终把 filterB处理的结果，作为最终的值渲染到页面上</span>
      <span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token operator">|</span> filterA <span class="token operator">|</span> filterB <span class="token punctuation">}</span><span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li>过滤器传参<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">// arg1 和arg2是传递给filterA 的参数</span>
    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>i<span class="token punctuation">{</span> message l <span class="token function">filterA</span><span class="token punctuation">(</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token comment">//过滤器处理函数的形参列表中:</span>
    <span class="token comment">//第一个参数:永远都是&quot;管道符“前面待处理的值</span>
    <span class="token comment">//从第二个参数开始，才是调用过滤器时传递过来的arg1 和 arg2参数</span>
    Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'filterA'</span><span class="token function">，</span><span class="token punctuation">(</span><span class="token parameter">msg，arg1<span class="token punctuation">,</span>arg2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//过滤器的代码逻辑...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li>Dayjs的使用<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//直接调用dayjs()得到的是当前时间ll dayjs(给定的日期时间)得到指定的日期</span>
    <span class="token keyword">const</span> dtstr <span class="token operator">=</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token punctuation">.</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH: mm: ss'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> dtstr  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol> <h3 id="侦听器"><a href="#侦听器" class="header-anchor">#</a> 侦听器</h3> <ol><li>可以通过new实例时用watch配置，也可以用<code>Vue.$watch(''，{对象配置})</code></li> <li>侦听器的格式
<ul><li><strong>方法格式的侦听器</strong><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">newVaule，oldValue</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token comment">//不能使用immediate和deep  </span>
    <span class="token punctuation">}</span>   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><strong>对象格式的侦听器</strong><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newVaule，oldValue</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>好处1:可以通过<code>immediate:true</code>选项，初始化时调用一次<code>handler</code></li> <li>好处2:可以通过<code>deep:true</code>选项，让侦听器深度监听对象中每个属性的变化! ! !</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">//如果要侦听的是对象的子属性的变化，则必须包裹一层单引号</span>
  <span class="token string">'info.username'</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>watch可以开启一些异步任务，里面的定时器<font color="red">必须使用箭头函数</font></strong></li></ul></li></ul></li></ol> <h3 id="计算属性"><a href="#计算属性" class="header-anchor">#</a> 计算属性</h3> <ol><li>计算属性指的是通过一系列运算之后，最终得到一个属性值。这个动态计算出来的属性值可以被模板结构或 methods方法使用。</li> <li>原理:底层借助了<code>objcet.defineproperty</code>方法提供的<code>getter</code>和<code>setter</code>.</li> <li>所有的计算属性，都要定义到<code>computed</code>节点之下计算属性在定义的时候，要定义成<strong>方法格式</strong></li> <li>特点：
<ul><li>虽然计算属性在声明的时候被<strong>定义为方法</strong>，但是计算属性的<strong>本质是一个属性</strong></li> <li><strong>计算属性会缓存计算的结果，只有计算属性依赖的数据变化时，才会重新进行运算</strong><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">*</span> <span class="token number">2</span> 
        <span class="token punctuation">}</span>       
        <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">*</span> <span class="token number">2</span> <span class="token comment">//这种写法如果绑定给v-model  那么get必须和set搭配使用</span>
            <span class="token punctuation">}</span>
            <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">=</span> val <span class="token operator">/</span> <span class="token number">2</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>     
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ul></li></ol> <h3 id="axios的基本使用"><a href="#axios的基本使用" class="header-anchor">#</a> axios的基本使用</h3> <ol><li>调用axios 方法得到的返回值是 Promise 对象</li> <li>axios在请求到数据之后，把真正的数据包装成了一个大对象</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>   <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
       <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token string">'GET'</span><span class="token punctuation">,</span>
       <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">'http://liulongbin.top:3006/api/getbooks'</span><span class="token punctuation">,</span>
       <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//url中的查询参数</span>
       <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//post请求的参数</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span><span class="token literal-property property">config，data，headers，request，status，statusText</span><span class="token operator">:</span><span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="3"><li>如果调用某个方法的返回值是<code>Promise</code> 实例，则前面可以添加<code>await</code>!</li> <li>await只能用在被async“修饰”的方法中</li> <li>利用解构赋值的思想直接获取<div class="language-js line-numbers-mode"><pre class="language-js"><code>    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btnGet'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//解构赋值的时候，使用:进行重命名</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> res<span class="token punctuation">}</span> <span class="token operator">=</span>  <span class="token keyword">await</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">'GET'</span>，
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://www.liulongbin.top:3006/api/getbooks'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><code>axios.get()</code>与<code>axios.post()</code><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'http://www.liulongbin.top:3006/api/getbooks'</span>，<span class="token punctuation">{</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>  
    <span class="token comment">// axios.post( 'url', { /* POST请求体数据*/ })</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'http://w.liulongbin.top:3006/api/post'</span><span class="token punctuation">,</span><span class="token punctuation">{</span> 
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'女'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li>axios挂载在原型上使用
<ol><li>在main.js中<code>axios.defaults.baseURL ='请求根路径'</code>   全局配置axios请求根路径</li> <li>在main.js中 <code>Vue.prototype.$http = axios</code></li> <li>今后,在每个.vue 组件中要发起请求,直接调用<code>this.$http.xxx</code></li> <li>缺点：不利用API接口的复用</li></ol></li></ol> <h3 id="class和style写法"><a href="#class和style写法" class="header-anchor">#</a> class和style写法</h3> <ul><li>class和style写法<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token operator">&lt;</span>p <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{black : isBlack, yellow: isYellow}&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> 
    <span class="token operator">&lt;</span>p <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;[black,yellow]&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;styleData&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>  
    
      <span class="token literal-property property">styleData</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">fontSize</span><span class="token operator">:</span><span class="token string">'40px'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'red'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul> <h2 id="vue学习笔记-二-生命周期、组件化开发"><a href="#vue学习笔记-二-生命周期、组件化开发" class="header-anchor">#</a> Vue学习笔记(二)--生命周期、组件化开发</h2> <h3 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h3> <ul><li>生命周期(Life Cycle）是指一个组件从创建→挂载→运行→销毁的整个阶段，强调的是一个时间段。</li> <li>注意:生命周期强调的是时间段，生命周期函数强调的是时间点。<br> <img src="/assets/img/01.d37672cc.jpg" alt=""></li></ul> <ol><li>组件创建阶段
<ul><li><code>beforeCreate</code>: 组件的<code>props/data/methods</code>尚未被创建，都处于<font color="red"><strong>不可用状态</strong></font></li> <li><code>created</code>: 组件的<code>porps/data/methods</code>已创建好，都处于<font color="red"><strong>可用的状态</strong></font> 。但是组件的<font color="red"><strong>模板结构尚未生成</strong></font>   这个阶段可以用来发起Ajax请求，获取数据</li> <li>基于数据和模板,在内存中编译生成HTML结构（虚拟DOM）</li> <li><code>beforeMount</code>: 呈现的是未经Vue编译的DOM结构，所有对DOM的操作不奏效</li> <li>将内存中的虚拟DOM转为真实DOM插入页面</li> <li><code>mounted</code>: 页面中呈现的是经过Vue编译的DOM，对DOM的操作均有效(尽可能避免)，至此初始化过程结束，一般在此进行:开启定时器、发送网络请求、订阅消息、绑定自定义事件、等初始化操作。</li></ul></li> <li>组件运行阶段（当数据改变时）
<ul><li><code>beforeUpdate</code>：此时:<font color="red"><strong>数据是新的，但页面是旧的</strong></font>，即:页面尚未和数据保持同步。</li> <li>根据新数据，生成新的虚拟DOM，新旧虚拟DOM进行比较，最终完成页面更新，即:完成了Model View的更新</li> <li><code>updated</code>：此时:<font color="red"><strong>数据是新的，页面也是新的</strong></font>，即:页面和数据保持同步。（新DOM）</li></ul></li> <li>组件销毁阶段
<ul><li><code>beforeDestroy</code>： vm中所有的: data、methods、指令等等，都处于可用状态，但是<font color="red"><strong>所有对数据的更新都不会生效，不会进入update</strong></font>，马上要执行销毁过程,一般在此阶段:关闭定时器、取消订阅消息、解绑自定义事件等收尾操作</li> <li><code>destroy</code>: 组件已经被销毁，此组件在浏览器中对应的DOM结构已被完全移除!</li></ul></li></ol> <h3 id="vue-cli-脚手架-的使用"><a href="#vue-cli-脚手架-的使用" class="header-anchor">#</a> Vue-cli（脚手架）的使用</h3> <ol><li>vue项目中src目录的构成:
<ul><li>assets文件夹:存放项目中用到的静态资源文件，例如: css样式表、图片资源</li> <li>components文件夹:程序员封装的、可复用的组件，都要放到components目录下</li> <li>main.js 是项目的入口文件。整个项目的运行，要先执行main.js</li> <li>App .vue是项目的根组件。</li></ul></li> <li>vue项目的运行流程
<ul><li>在工程化的项目中,vue通过main.js把App.vue渲染到index.html的指定区域中!
<ul><li>App.vue用来编写待渲染的模板结构</li> <li>index.html中需要预留一个el区域</li> <li>main.js把 App.vue渲染到了index.html所预留的区域中</li></ul></li></ul></li> <li>组件和组件工程化
<ul><li>组件就是用来实现局部(特定)功能效果的代码集合</li> <li>组件化开发指的是:根据封装的思想，把页面上可重用的UI结构封装为组件，从而方便项目的开发和维护。</li></ul></li> <li>注意事项<div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">const</span> school <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> 可简写为<span class="token operator">:</span> <span class="token keyword">const</span> school <span class="token operator">=</span> options
  <span class="token comment">//一个重要的内置关系:</span>
  <span class="token class-name">VueComponent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token operator">===</span> <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol><li>关于不同版本的Vue:
<ol><li>vue.js与vue.runtime.xxx.js的区别:
<ul><li><code>vue.js</code>是完整版的Vue，包含:核心功能+模板解析器。</li> <li><code>vue.runtime.xxx,js</code>是运行版的Vue，只包含:核心功能;没有模板解析器。</li></ul></li> <li>因为<code>vue.runtime.xxx.js</code>没有模板解析器，所以不能使用template配置项，需要使用render函数接收到的createElement函数去指定具体内容。</li></ol></li> <li>使用<code>vue inspect &gt; output.js</code>可以查看到Vue脚手架的默认配置。</li> <li>使用<code>vue.config.js</code>可以对脚手架进行个性化定制，详情见: <a href="https://cli.vuejs.org/zh" target="_blank" rel="noopener noreferrer"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol></li> <li>mixin混入
<ol><li>功能:可以一些公共逻辑抽离出来<code>data数据、methods、生命周期等等</code>，其他组件可以直接混入合并自身使用</li> <li>使用方式:
<ol><li>第一步在mixin.js文件中定义混合，例如:</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token punctuation">{</span> <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>第二步在要使用的组件中引入，例如:</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span>xxx<span class="token punctuation">)</span>   <span class="token comment">//全局混入</span>

  <span class="token keyword">import</span> myMixin <span class="token keyword">from</span> <span class="token string">'../..mixin'</span>
  <span class="token literal-property property">mixins</span><span class="token operator">:</span><span class="token punctuation">[</span>myMixin<span class="token punctuation">]</span>   <span class="token comment">//局部混入 可以使用mixin中的data、methods、生命周期也会合并执行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li>缺陷：变量来源不明确，不利于阅读；<strong>watch和生命周期优先直执行mixin中的，其他的默认选择原组件的同名属性</strong></li></ol></li> <li>插件
<ol><li>功能:用于增强Vue</li> <li>本质:包含install方法的一个对象，install的第一个参数是Vue，第二个以后的参数是插件使用者传递的数据。</li> <li>定义插件:<div class="language-js line-numbers-mode"><pre class="language-js"><code>    对象<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">Vue<span class="token punctuation">,</span>options</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span>  <span class="token comment">// 1，添加全局过滤器  </span>
        Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span>  <span class="token comment">//2．添加全局指令</span>
        Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span>  <span class="token comment">//3．配置全局混入(合)</span>
        <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$myMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>   <span class="token comment">//4 . 添加实例方法</span>
        <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$myProperty <span class="token operator">=</span> xxXxX  
      <span class="token punctuation">}</span>
    Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//使用插件  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol></li></ol> <h3 id="组件使用"><a href="#组件使用" class="header-anchor">#</a> 组件使用!!!</h3> <ol><li>私有子组件和全局组件
<ul><li>通过components注册的是私有子组件</li> <li>在vue项目的main.js入口文件中，通过Vue.component()方法，可以注册全局组件<div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">//导入需要全局注册的组件</span>
  <span class="token keyword">import</span> Count <span class="token keyword">from</span> <span class="token string">'@/components/Count.vue '</span>
  <span class="token comment">//参数1。字符串格式，表示组件的&quot;注册名称&quot;&quot;</span>
  <span class="token comment">//参数2。需要被全局注册的那个组件</span>
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'MyCount'</span><span class="token punctuation">,</span>Count<span class="token punctuation">)</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li> <li><strong>组件里的props(自定义属性)</strong><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token comment">// 第一种方式（只接收）</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token punctuation">,</span><span class="token keyword">default</span><span class="token operator">:</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span>  <span class="token comment">//第三种方式: (限制类型、限制必要性、指定默认值)</span>
    <span class="token operator">&gt;</span> props是只读的，Vue底层会监测你对props的修改
    <span class="token operator">&gt;</span>需要修改，可以把 props的值转存到data中  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li>组件中的样式冲突问题
<ol><li>导致组件之间样式冲突的根本原因是:单页面应用程序中，多个组件的样式都是<font color="red"><strong>基于唯一的index.html页面</strong></font> 呈现的</li> <li>style节点的scoped属性：让样式在局部生效,防止冲突。</li> <li>/deep/样式穿透
<ul><li>如果给当前组件的style节点添加了scoped属性，则<font color="red"><strong>当前组件的样式对其子组件是不生效</strong></font>的。如果想让某些样式对子组件生效，可以<font color="red"><strong>使用/deep/深度选择器</strong></font>。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>title <span class="token punctuation">{</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> blue<span class="token punctuation">;</span> <span class="token comment">//加上 /deep/时，生成的选择器格式为[data-v-052242de] .title</span>
    <span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol></li> <li>组件之间的数据共享
<ol><li><strong><font color="red">父组件向子组件共享数据需要使用自定义属性,注意要绑定要传值的属性</font></strong><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token operator">&lt;</span>Left <span class="token operator">:</span>mSg<span class="token operator">=</span><span class="token string">&quot;message&quot;</span> <span class="token operator">:</span>user<span class="token operator">=</span><span class="token string">&quot;userinfo&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Left<span class="token operator">&gt;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><strong><font color="red">子组件向父组件共享数据调用父组件事件</font></strong> <ul><li>使用场景:A是父组件，B是子组件，B想给A传数据，那么就要在A中给B绑定父组件事件（事件的回调在A中)</li></ul> <ol><li>利用hack，父组件给子组件穿一个函数形式的props属性，在子组件触发传值</li> <li>在父组件中给子组件绑定一个自定义事件（实际是绑在了子组件的vc实例上），然后子组件在合适的时候利用this.$emit触发此事件，并把参数传给父组件<div class="language-js line-numbers-mode"><pre class="language-js"><code>     <span class="token comment">//父组件中</span>
    <span class="token operator">&lt;</span>child  @myEvent <span class="token operator">=</span> <span class="token string">'getStudentName'</span><span class="token operator">/</span><span class="token operator">&gt;</span>  <span class="token comment">//绑定事件</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token function">getStudentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//this指向当前组件</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//子组件中</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'myEvent'</span><span class="token punctuation">,</span>数据<span class="token punctuation">)</span>   <span class="token comment">//因为事件时绑定在子组件的实例对象上的，所以可以直接通过this进行触发  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li>在父组件中给子组件加ref，然后通过ref拿到子组件实例，并且可以再mounted时用$on给其注册自定义事件，并且穿一个回调函数来处理收到的参数,后续步骤同②，这样的好处是注册自定义事件的时候可以异步操作.</li></ol> <ul><li><strong><font color="red">注意: 回调要么配置在methods中，要么用箭头函数，直接写回调this指向子组件!</font></strong><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//父组件中 </span>
    <span class="token operator">&lt;</span>Student ref<span class="token operator">=</span><span class="token string">'student'</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token comment">//使用 $on 为组件实例对象绑定自定义事件myEvent</span>
      <span class="token comment">//1.在methods中定义回调函数</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>student<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'myEvent'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>getStudentName<span class="token punctuation">)</span>
      
      <span class="token comment">//2.箭头函数写法</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>student<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'myEvent'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token comment">//this指向当前组件</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token comment">//3.直接定义回调的写法</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>student<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'myEvent'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//this指向触发该自定义事件的子组件</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token function">getStudentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//this指向当前组件</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

     <span class="token comment">//子组件中</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'myEvent'</span><span class="token punctuation">,</span>数据<span class="token punctuation">)</span>  <span class="token comment">//触发</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></li></ul> <ol start="4"><li><p>使用event注册自定义事件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    event<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'onAdd'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handler<span class="token punctuation">)</span>  <span class="token comment">//callback最好使用函数名字，方便解绑</span>
    event<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'onAdd'</span><span class="token punctuation">,</span> 参数数据<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>解绑自定义事件:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>     event<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'atguigu'</span><span class="token punctuation">)</span> <span class="token comment">//解绑一个自定义事件  不及时解绑会造成内存泄漏</span>
     event<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">''</span>，<span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//利用数组解绑多个自定义事件</span>
     event<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//解绑所有自定义事件  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>销毁组件实例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//销毁当前组件实例，原生事件可以触发（但不会有响应式），自定义事件全都会失效  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>组件上可以绑定原生事件，需要native修饰符。<code>&lt;Student @click.native='getStudentName'/&gt;</code>，<strong>不然认作自定义事件</strong></p></li></ol></li> <li><strong><font color="red">在vue2.x中，兄弟组件之间数据共享的方案是EventBus(事件总线)。</font></strong><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//1.安装全局事件总线，$bus就是当前应用的vm</span>
    <span class="token keyword">new</span> <span class="token class-name">vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>
      <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">this</span> 
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token operator">...</span>  
      <span class="token punctuation">}</span><span class="token punctuation">)</span>  
    <span class="token comment">//2.接收数据:A组件想接收数据，则在A组件中给$bus绑定自定义事件，事件的回调留在A组件自身。</span>
    <span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'xxxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>  
    <span class="token comment">//3.提供数据:</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'xxxx'</span><span class="token punctuation">,</span>数据<span class="token punctuation">)</span>  
    <span class="token comment">//4.最好在beforeDestroy钩子中，用$off去解绑当前组件所用到的事件  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li> <li><strong><font color="red">消息订阅与发布(pubsub)</font></strong><div class="language-js line-numbers-mode"><pre class="language-js"><code>    npm i pubsub<span class="token operator">-</span>js  <span class="token comment">//安装pubsub</span>
    <span class="token keyword">import</span> pubsub <span class="token keyword">from</span> <span class="token string">'pubsub-js'</span>  
    <span class="token comment">//接收数据:A组件想接收数据，则在A组件中订阅消息，订阅的回调留在A组件自身。</span>
    <span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
      <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>  
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>pid <span class="token operator">=</span> pubsub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span>   <span class="token comment">////订阅消息</span>
    <span class="token punctuation">}</span>  
    pubsub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span>数据<span class="token punctuation">)</span>  <span class="token comment">//提供数据:</span>
    PubSub<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span>pid<span class="token punctuation">)</span>   <span class="token comment">//最好在beforeDestroy钩子中，去取消订阅。  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li>依赖注入：<code>inject provide</code> <ul><li>父组件可以直接向子孙组件传值<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//父组件</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
          <span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">{</span>
                <span class="token literal-property property">val</span><span class="token operator">:</span><span class="token string">'这是home的依赖'</span>  <span class="token comment">//依赖</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>   
    <span class="token comment">//孙组件        </span>
     <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">inject</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'val'</span><span class="token punctuation">]</span>  <span class="token comment">//注入</span>
     <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li>开发组件库可以使用，其他场景不建议使用，导致数据来源不明确</li></ul></li></ol></li> <li>$refs引用
<ol><li>被用来给元素或子组件注册引用信息(id的替代者)</li> <li>应用在htm1标签上获取的是真实DOM元素，应用在组件标签上是组件实例对象(vc)</li> <li>使用方式:<div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token operator">&lt;</span>h1 ref<span class="token operator">=</span><span class="token string">&quot;xxx&quot;</span><span class="token operator">&gt;</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>或<span class="token operator">&lt;</span>School ref<span class="token operator">=</span><span class="token string">&quot;xxx&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>School<span class="token operator">&gt;</span>  <span class="token comment">//打标识  </span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>xxx   <span class="token comment">//获取  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol></li> <li><code>inputVisible</code>：控制输入框和按钮的按需切换; 默认值为 false，表示默认展示按钮，隐藏输入框</li> <li><code>this.$nextTick(cb)</code>方法
<ul><li>Vue是异步渲染，data改变之后，DOM不会立即渲染</li> <li>页面渲染会将data的修改做整合，多次相同的data修改只会渲染一次</li> <li><code>$nextTick</code>会在DOM渲染之后再去触发，以获取最新的DOM节点</li></ul></li></ol> <h3 id="动态组件"><a href="#动态组件" class="header-anchor">#</a> 动态组件</h3> <ol><li>动态组件指的是<font color="red"><strong>动态切换组件的显示与隐藏</strong></font></li> <li>vue提供了一个内置的<code>&lt;component&gt;</code>组件，<font color="red"><strong>专门用来实现动态组件的渲染</strong></font><div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token comment">&lt;!--2．通过is 属性，动态指定要渲染的组件--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!--配置楼层的时候comName可以由内管配置好，然后后端返回，前端进行遍历即可--&gt;</span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>(item,index) in list<span class="token punctuation">'</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>index<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.T_CODE<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!--配置楼层的时候list可以由内管配置好，然后后端返回，前端进行遍历即可--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  
    <span class="token comment">&lt;!--必须是动态的:is  不能是is+确切值--&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li>动态组件切换时默认会<font color="red"><strong>销毁原组件</strong></font>重新创建新组件</li> <li>组件名称默认使用注册名，可以提供一个name属性给组件来使用
<ol><li>注册名称是在使用标签时使用</li> <li>name名称在调试工具和添加属性时使用</li></ol></li></ol> <h3 id="异步组件"><a href="#异步组件" class="header-anchor">#</a> 异步组件</h3> <ol><li>如何使用<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token operator">&lt;</span>FormDemo v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">'showFormDemo'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>FormDemo<span class="token operator">&gt;</span>  <span class="token comment">//异步组件 </span>
    
    <span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
      <span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function-variable function">FormDemo</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span>   <span class="token comment">//异步引入</span>
      <span class="token punctuation">}</span>  
      <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 在mounted中将showFormDemo置为true，或者在某个操作之后将showFormDemo置为true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li>可用于首屏优化</li></ol> <h3 id="缓存组件"><a href="#缓存组件" class="header-anchor">#</a> 缓存组件</h3> <ol><li>需要频繁切换（tab切换），不需要重新渲染，Vue常见的性能优化之一</li> <li>可以使用vue内置的<code>&lt;keep-alive&gt;</code>组件<font color="red"><strong>让不展示的路由组件保持挂载，不被销毁</strong></font><br> <code>html &lt;keep-alive&gt; &lt;component :is=&quot;comName&quot;&gt;&lt;/component&gt; &lt;/keep-alive&gt;</code></li> <li><strong>keep-alive对应的生命周期函数</strong> <ol><li>当组件被<font color="red"><strong>缓存</strong></font>时，会自动触发组件的<code>deactivated</code>生命周期函数。</li> <li>当组件被<font color="red"><strong>激活</strong></font>时，会自动触发组件的<code>activated</code>生命周期函数</li></ol></li> <li><strong>keep-alive的include属性</strong> <ol><li><code>include</code>属性用来指定:只有名称匹配的组件会被缓存。多个组件之间用逗号分隔:</li> <li><code>exclude</code>属性指定：对应组件不会被缓存，两个属性只能用一个<div class="language-html line-numbers-mode"><pre class="language-html"><code>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Left,Right<span class="token punctuation">&quot;</span></span> <span class="token attr-name">exclude</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">;is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol></li></ol> <h3 id="插槽"><a href="#插槽" class="header-anchor">#</a> 插槽</h3> <ol><li>插槽的基本使用
<ul><li>插槽（Slot) 父组件引用子组件时，可以往子组件内部插入一部分html结构，在子组件要插入的部分用<code>&lt;slot&gt;</code>占位，这就是插槽</li> <li>每一个slot插槽，都要有一个name名称,如果省略则默认名称叫做<code>default</code></li> <li>要渲染到对应插槽内，要用<code>v-slot:name</code>，<strong>并用template包裹(无意义标签)</strong> <strong>slot-scope已废弃</strong></li> <li><code>v-slot：</code>的简写形式是<code>#</code></li></ul></li> <li>具名插槽<div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token comment">&lt;!--父组件--&gt;</span>   
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NamedSlot</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>header<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>将插入 header slot中<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--老式写法弃用--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#header</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!--除非只有默认插槽，否则要加在template上--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>将插入 header slot中<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>      
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>将插入到main slot中，即未命名的slot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>footer</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>将插入 footer slot中<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NameSlot</span><span class="token punctuation">&gt;</span></span>     

    <span class="token comment">&lt;!--NamedSlot组件--&gt;</span>    
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>container<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>header<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>footer<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></li> <li>作用域插槽
<ul><li>在封装组件的过程中，可以为预留的<code>&lt;slot&gt;</code>插槽绑定<code>props</code>数据，这种带有<code>props</code>数据的<code>&lt;slot&gt;</code>叫做“作用域插槽”。<div class="language-html line-numbers-mode"><pre class="language-html"><code>      <span class="token comment">&lt;!--父组件--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ScopedSlot</span> <span class="token attr-name">:url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>website.url<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!--父组件给子组件传值--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-slot</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>slotProps<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!--接收子组件的传值  slotProps自定义--&gt;</span>
          {{slotProps.slotData.title}}   <span class="token comment">&lt;!--使用子组件的传值--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ScopedSlot</span><span class="token punctuation">&gt;</span></span>
        
      <span class="token comment">&lt;!--作用域插槽对外提供的数据对象，可以使用解构赋值简化数据的接收过程 --&gt;</span>    
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-slot</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>{slotData}<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>  
          {{slotData.title}} 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>    

      <span class="token comment">&lt;!--子组件--&gt;</span>   
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">:slotData</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>website<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!--将子组件的website传给父组件使用--&gt;</span>
        {{website.subTitle}} <span class="token comment">&lt;!--父组件内部不定义的时候，默认展示自身的title--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li></ul></li> <li>组合使用<div class="language-html line-numbers-mode"><pre class="language-html"><code>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ScopedSlot</span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#slotData</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>{test1,test2}<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
              {{test1.xxx}}  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ScopedSlot</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>slotData</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>{test1,test2}<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>  
              {{test2.xxx}} 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>    

          <span class="token comment">&lt;!--子组件--&gt;</span>   
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>slotData<span class="token punctuation">'</span></span> <span class="token attr-name">:slotData</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>{test1,test2}<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span> 
            {{website.subTitle}} 
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li>动态插槽名<div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>[dyname]</span><span class="token punctuation">&gt;</span></span>
          This is Me.
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol> <h3 id="vue封装的过度与动画"><a href="#vue封装的过度与动画" class="header-anchor">#</a> Vue封装的过度与动画</h3> <ol><li>作用:在插入、更新或移除DOM元素时|在合适的时候给元素添加样式类名,<br> <img src="/assets/img/02.4a8b0eb6.jpg" alt=""></li> <li>使用<code>&lt;transition&gt;</code>包裹要过度的元素，并配置name属性:<div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isShow<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>你好啊!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li>备注:若有多个元素需要过度，则需要使用:<code>&lt;transition-group&gt;</code>，且每个元素都要指定key值</li></ol> <h3 id="vuex-状态管理模式"><a href="#vuex-状态管理模式" class="header-anchor">#</a> VueX（状态管理模式）</h3> <ol><li>了解vuex
<ul><li>什么时候使用vuex（中大型项目中）
<ul><li>多个视图依赖同一个状态</li> <li>来自不同视图的行为需要变更同一个状态</li> <li>把各个组件都需要依赖的同一个状态抽取出来，在全局使用单例模式进行管理。在这种模式下，任何组件都可以直接访问到这个状态，或者当状态发生改变时，所有的组件都获得更新。</li></ul></li></ul></li> <li>vuex基本使用
<ul><li><code>npm install vuex --save</code></li> <li>创建仓库文件并引入使用插件：<code>src/store/index.js</code><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token punctuation">;</span>

    Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 定义一个name，以供全局使用</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
        <span class="token comment">// 定义一个number，以供全局使用</span>
        <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token comment">// 定义一个list，以供全局使用</span>
        <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'111'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'222'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'333'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 获取修饰后的name，第一个参数state为必要参数，必须写在形参上</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 增加mutations属性</span>
        <span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 增加一个mutations的方法，方法的作用是让num从0变成5，state是必须默认参数</span>
          state<span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">setNumberIsWhat</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 增加一个带参数的mutations方法</span>
          state<span class="token punctuation">.</span>number <span class="token operator">=</span> number<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div></li> <li>修改<code>main.js</code><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span><span class="token punctuation">;</span> <span class="token comment">// 引入我们前面导出的store对象</span>

    Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
      router<span class="token punctuation">,</span>
      store<span class="token punctuation">,</span> <span class="token comment">// 把store对象添加到vue实例上</span>
      <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> App <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;App/&gt;'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li> <li>使用vuex数据<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>getName<span class="token punctuation">)</span><span class="token punctuation">;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>getMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//组件中使用getters属性</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setNumber'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//同步修改</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setNumberIsWhat'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">666</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用的时候也需要传递一个对象</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setNumberIsWhat</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">999</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//使用解构的mutations</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      
        <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">//官方建议1：操作this.$store.state.XXX最好放在计算属性中</span>
          <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">//官方建议2： 是不是每次都写this.$store.state.XXX让你感到厌烦，解决方案</span>
          <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 经过解构后，自动就添加到了计算属性中，此时就可以直接像访问计算属性一样访问它</span>

          <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">aliasName</span><span class="token operator">:</span> <span class="token string">'name'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// 赋别名的话，这里接收对象，而不是数组</span>
          <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'getMessage'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">aliasName</span><span class="token operator">:</span> <span class="token string">'getMessage'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// 赋别名的话，这里接收对象，而不是数组</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// 注意，mapMutations是解构到methods里面的，而不是计算属性了</span>
          <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'setNumberIsWhat'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">setNumberIsAlias</span><span class="token operator">:</span> <span class="token string">'setNumberIsWhat'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 赋别名的话，这里接收对象，而不是数组</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></li></ul></li> <li>vuex异步操作
<ul><li>store<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">setNumberIsWhat</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          state<span class="token punctuation">.</span>number <span class="token operator">=</span> payload<span class="token punctuation">.</span>number<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 增加actions属性</span>
        <span class="token function">setNum</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span>payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 增加setNum方法，默认第一个参数是content，其值是复制的一份store</span>
          <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 我们模拟一个异步操作，1秒后修改number为888</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              content<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setNumberIsWhat'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">number</span><span class="token operator">:</span> payload<span class="token punctuation">.</span>number <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>


          <span class="token function">setNum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 直接将content结构掉，解构出commit，下面就可以直接调用了</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'XXXX'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 直接调用</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div></li> <li>异步操作<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">async</span> <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">旧值：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>number<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'setNum'</span><span class="token punctuation">,</span><span class="token punctuation">{</span> <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">611</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">新值：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>number<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setNum</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 直接这样调用即可</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'setNum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 就像这样，解构到methods中</span>
        <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">setNumAlias</span><span class="token operator">:</span> <span class="token string">'setNum'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">// 赋别名的话，这里接收对象，而不是数组</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ul></li> <li>vuex拆分
<ol><li>按属性进行拆分
<ul><li>新建四个文件，分别是<code>state.js getters.js mutations.js actions.js</code></li> <li>组装到主文件里面<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span> state <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span> <span class="token comment">// 引入 state</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span> getters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./getters'</span><span class="token punctuation">;</span> <span class="token comment">// 引入 getters</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span> mutations <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./mutations'</span><span class="token punctuation">;</span> <span class="token comment">// 引入 mutations</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span> actions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./actions'</span><span class="token punctuation">;</span> <span class="token comment">// 引入 actions</span>

    Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">state</span><span class="token operator">:</span> state<span class="token punctuation">,</span>
      <span class="token literal-property property">getters</span><span class="token operator">:</span> getters<span class="token punctuation">,</span>
      <span class="token literal-property property">mutations</span><span class="token operator">:</span> mutations<span class="token punctuation">,</span>
      <span class="token literal-property property">actions</span><span class="token operator">:</span> actions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 可以简写成下面这样：</span>

    <span class="token comment">// const store = new Vuex.Store({ state, getters, mutations, actions });</span>

    <span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li></ul></li> <li>按功能进行拆分 - Module<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">const</span> countAbout <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">namespaced</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//开启命名空间</span>
      <span class="token literal-property property">state</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>，
      <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>，
      <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">bigSum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">return</span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span>
   
   <span class="token comment">// 3.开启命名空间后，组件中读取state数据:</span>
    <span class="token comment">//方式一。自己直接读取</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>personAbout<span class="token punctuation">.</span>list
    <span class="token comment">//方式二。借助mapState读取:</span>
    <span class="token operator">...</span><span class="token function">mapstate</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span> <span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&quot;sum&quot;</span><span class="token punctuation">,</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>，
   
   <span class="token comment">// 4.开启命名空间后，组件中读取getters数据:</span>
    <span class="token comment">//方式一。自己直接读取</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">[</span><span class="token string">'personAbout/firstPersonName'</span><span class="token punctuation">]</span>
    <span class="token comment">//方式二。借助mapGetters读取:</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'bigSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    
    <span class="token comment">//5.开启命名空间后，组件中调用dispatch</span>
    <span class="token comment">//方式一。自己直接dispatch</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&quot;personAbout/addPersonwang&quot;</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span>
    <span class="token comment">//方式二:借助mapActions:</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">incrementOdd</span><span class="token operator">:</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span><span class="token literal-property property">incrementwait</span><span class="token operator">:</span><span class="token string">'jiawait'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  

    <span class="token comment">//6.开启命名空间后，组件中调用commit</span>
    <span class="token comment">//方式一。自己直接commit</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;personAbout/ADD_PERSON&quot;</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span>
    <span class="token comment">//方式二。借助mapMutations:</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">increment</span><span class="token operator">:</span><span class="token string">'3IA'</span><span class="token punctuation">,</span><span class="token literal-property property">decrement</span><span class="token operator">:</span><span class="token string">'IAN'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  

    <span class="token literal-property property">备注</span><span class="token operator">:</span> mapActions与mapMutations使用时，若需要传递参数需要<span class="token operator">:</span>在模板中绑定事件时传递好参数，否则参数是事件对象。  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div></li></ol></li></ol> <h3 id="路由"><a href="#路由" class="header-anchor">#</a> 路由</h3> <ol><li><p>基本概念</p> <ul><li>前端路由指的是Hash地址与组件之间的对应关系。</li> <li>用户点击了页面上的路由链接,导致了URL地址栏中的Hash值发生了变化</li> <li>前端路由监听了到Hash地址的变化,把当前Hash地址对应的组件渲染都浏览器中</li> <li>只要当前的 App 组件一被创建，就立即监听window对象的<code>onhashchange</code>事件</li></ul></li> <li><p>基本使用步骤</p> <ol><li>在项目中安装<code>vue-router</code></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  npm i vue<span class="token operator">-</span>router@<span class="token number">3.5</span><span class="token number">.2</span> <span class="token operator">-</span><span class="token constant">S</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>在src源代码目录下，新建<code>router/index.js</code>路由模块，初始化代码 、<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> Routes <span class="token keyword">from</span> <span class="token string">'./routes.js'</span>

    Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//vue 的 第三方组件，都需要通过Vue.use( . . . )的方式去 install 组件。</span>

    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">base</span><span class="token operator">:</span><span class="token string">'/'</span><span class="token punctuation">,</span>  <span class="token comment">//按需自定义公共路径前缀</span>
      <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'hash'</span><span class="token punctuation">,</span>
      routes
    <span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li>在<code>src/main.js</code>入口文件中，导入并挂载路由模块<div class="language-js line-numbers-mode"><pre class="language-js"><code>      <span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
      <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        router<span class="token punctuation">,</span>  <span class="token comment">//注册路由模块</span>
        <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li>建立<code>routes.js</code><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../view/Home.vue'</span><span class="token punctuation">;</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>  <span class="token comment">// 重定向到home页面</span>
        <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'/home'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> Home
      <span class="token punctuation">}</span>
      <span class="token operator">...</span>
    <span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li><strong>注意点</strong> <ul><li><code>router</code>组件<code>install</code>的时候，会注册两个全局组件
<ul><li><code>router-link</code> : 跳转路由链接</li> <li><code>router-view</code> : 在什么地方显示内容，占位符</li></ul></li> <li>在<code>router-link</code>标签中加入<code>replace</code>属性开启，push是追加历史记录，replace是替换当前记录，默认为push</li> <li><code>$router</code> : 包含所有的方法
<ul><li><code>$router.push({path:'home'})</code></li> <li><code>$router.replace({path:'home'})//替换路由，没有历史记录</code></li></ul></li> <li><code>$route</code> : 包含所有的属性
<ul><li><code>path/query/params/meta...</code></li></ul></li> <li>实现切换(<code>active-class</code>可配置高亮样式)<br> <code>html &lt;router-link active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</code></li></ul></li></ol></li> <li><p>路由重定向和默认子路由</p> <ol><li>在<code>src/router/index.js</code>路由模块中，通过<code>routes</code>数组声明路由的匹配规则</li></ol> <ul><li><strong>路由重定向</strong>指的是: 用户在访问地址A的时候，强制用户跳转到地址C, 通过路由规则的<code>redirect</code>属性，指定一个新的路由地址</li> <li><font color="red"><strong>子路由规则最好不要/开头</strong></font></li> <li><strong>默认子路由</strong>:如果<code>children</code>数组中，某个路由规则的<code>path</code>值为空字符串，则这条路由规则，叫做“<font color="red"><strong>默认子路由</strong></font>”<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span> <span class="token punctuation">,</span><span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'/home'</span> <span class="token punctuation">}</span>，<span class="token comment">//当用户访问/的时候，通过 redirect属性跳转到/home对应的路由规则</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/home'</span> <span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../view/Home.vue'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">//路由懒加载</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/movie/:id'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Movie <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">//动态路由  只用配置一遍</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'labout '</span> <span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> About <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> 
          <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span><span class="token comment">// about页面的路由规则（父级路由规则&gt;</span>
          <span class="token literal-property property">component</span><span class="token operator">:</span> About<span class="token punctuation">,</span>
          <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 1．通过children属性，嵌套声明子级路由规则</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'tab1'</span> <span class="token literal-property property">，component</span><span class="token operator">:</span> Tab1 <span class="token punctuation">}</span>，<span class="token comment">//2．访问/about/tab1时，展示Tab1组件</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'tab2'</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span> Tab2 <span class="token punctuation">}</span><span class="token comment">// 3．访问/about/tab2时，展示 Tab2组件</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li></ul> <ol start="2"><li>跳转(要写完整路径):<div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/news<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>News<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol></li> <li><p>路由传参</p> <ol><li>query参数<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//跳转并携带query参数,to的字符串写法</span>
      <span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">'/home/message/detail?id=666&amp;title=你好'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
      <span class="token comment">//&lt;!--跳转并携带query参数,to的对象写法</span>
      <span class="token operator">&lt;</span>router<span class="token operator">-</span>link
        <span class="token operator">:</span>to<span class="token operator">=</span>&quot;<span class="token punctuation">{</span>
            <span class="token literal-property property">path</span> <span class="token operator">:</span> <span class="token string">'/home/message/detail'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">query</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">666</span><span class="token punctuation">,</span>
              <span class="token literal-property property">title</span> <span class="token operator">:</span><span class="token string">'你好'</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>&quot;
          <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>  
    <span class="token comment">//接收参数  </span>
      $route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id   
      $route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li> <li>params参数<div class="language-js line-numbers-mode"><pre class="language-js"><code>      <span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'detail/:id/:title'</span><span class="token punctuation">,</span><span class="token comment">//使用占位符声明接收params参数</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span>Detail  
      <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token comment">//跳转并携带params参数，to的字符串写法</span>
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;/home/message/detail/666/你好&quot;</span><span class="token operator">&gt;</span>跳转<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>  
  <span class="token comment">//跳转并携带params参数，to的对象写法</span>
  <span class="token operator">&lt;</span>router<span class="token operator">-</span>link
    <span class="token operator">:</span>to<span class="token operator">=</span>&quot;<span class="token punctuation">{</span>
      <span class="token literal-property property">name</span> <span class="token operator">:</span> <span class="token string">'xiangqing'</span> <span class="token punctuation">,</span>
      <span class="token literal-property property">params</span> <span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">666</span><span class="token punctuation">,</span>
        <span class="token literal-property property">title</span> <span class="token operator">:</span> <span class="token string">'你好'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>&quot;<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>  

    $route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id <span class="token comment">//接收参数</span>
    $route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>title  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li><strong><font color="red">特别注意:路由携带params参数时，若使用to的对象写法，则不能使用path配置项，必须使用name配置!</font></strong></li></ul></li> <li>命名路由（简化长路径路由跳转）<div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token comment">&lt;!--简化前，需要写完整的路径--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/demo/test/welcome<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--简化后，直接通过名字跳转--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{name : <span class="token punctuation">'</span>hello<span class="token punctuation">'</span>}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li>编程式导航跳转：<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'router1'</span><span class="token punctuation">,</span><span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> status <span class="token punctuation">,</span><span class="token literal-property property">id2</span><span class="token operator">:</span> status3<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">queryId</span><span class="token operator">:</span>  status2 <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//编程跳转写在一个函数里面，通过click等方法来触发</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'hash地址'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//跳转到指定hash地址，并增加一条历史记录</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'hash地址'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//跳转到指定的hash地址，并替换掉当前的历史记录</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span>数值n<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//实现导航历史前进、后退</span>
    $router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//在历史记录中，后退到上一个页面</span>
    $router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//在历史记录中，前进到下一个页面  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ol></li> <li><p>路由的props配置</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//第一种写法: props值为对象，该对象中所有的key-value的组合最终都会通过props传给Detail组件</span>
    <span class="token comment">// props:{a: 900}</span>
    <span class="token comment">//第二种写法:props值为布尔值，布尔值为true，则把路由收到的所有params参数通过props传给Detail组件</span>
    <span class="token comment">// props :true</span>
    <span class="token comment">//第三种写法: props值为函数，该函数返回的对象中每一组key-value都会通过props传给Detail组件</span>
    <span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter">route</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span> <span class="token operator">:</span> route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title
        <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>路由钩子<br> <img src="/assets/img/03.30382315.png" alt=""></p> <ol><li>全局守卫：在初始化和路由切换前后调用<div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">//全局前置守卫:初始化时执行、每次路由切换前执行</span>
  router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeEach'</span> <span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//判断当前路由是否需要进行权限控制</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//权限控制的具体规则</span>
          <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//放行</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'暂无权限查看'</span><span class="token punctuation">)</span>
          <span class="token comment">//next({name:'guanyu'})</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//放行</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">//全局后置守卫:初始化时执行、每次路由切换后执行</span>
  router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'afterEach'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">{</span>
      document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token comment">//修改网页的title}</span>
      <span class="token keyword">else</span><span class="token punctuation">{</span>
      document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;vue_test&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li> <li>独享路由守卫：写在某一个路由里面的独享配置项<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token function">beforeEnter</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeEnter'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//判断当前路由是否需要进行权限控制</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'atguigu '</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'暂无权限查看:'</span><span class="token punctuation">)</span>
          <span class="token comment">// next({name : ' guanyu'})</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li>组件内守卫<div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//进入守卫:通过路由规则，进入该组件时被调用</span>
    <span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to，from，next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//离开守卫:通过路由规则，离开该组件时被调用</span>
    <span class="token function">beforeRoutelLeave</span> <span class="token punctuation">(</span><span class="token parameter">to，from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li>页面权限优化<div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> pathArr <span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'/home'</span>，<span class="token string">'/home/users'</span>，<span class="token string">'/home/rights'</span><span class="token punctuation">]</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>pathArr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> localstorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li>路由器的两种工作模式
<ol><li>对于一个url来说，什么是hash值?——#及其后面的内容就是hash值。</li> <li>hash值不会包含在HTTP请求中，即: hash值不会带给服务器。</li> <li>hash模式:
<ul><li>地址中永远带着#号，不美观。</li> <li>若以后地址通过第三方手机app分享，若app校验严格，地址会被标记为不合法。</li> <li>兼容性较好。</li></ul></li> <li>history模式:
<ul><li>地址干净，美观。</li> <li>兼容性和hash模式相比略差。</li> <li>应用部署上线时需要后端人员支持，解决刷新页面服务端404的问题。</li></ul></li></ol></li></ol></li></ol></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">5/8/2023, 2:13:35 PM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:0;" data-v-070bf1cb></ul></main></div> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-65133105 data-v-65133105><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-65133105><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-65133105></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-65133105></path></svg></div><div class="kanbanniang" data-v-ee8d62e6><div class="banniang-container" style="display:;" data-v-ee8d62e6><div class="messageBox" style="right:68px;bottom:290px;display:none;" data-v-ee8d62e6>
      欢迎来到我的博客
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-ee8d62e6><i class="kbnfont kbn-ban-home ban-home" data-v-ee8d62e6></i> <i class="kbnfont kbn-ban-message message" data-v-ee8d62e6></i> <i class="kbnfont kbn-ban-close close" data-v-ee8d62e6></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-ee8d62e6><i class="kbnfont kbn-ban-info info" data-v-ee8d62e6></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:;" data-v-ee8d62e6></i></div> <canvas id="banniang" width="250" height="320" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-ee8d62e6></canvas></div> <div class="showBanNiang" style="display:none;" data-v-ee8d62e6>
    看板娘
  </div></div><canvas id="vuepress-canvas-cursor"></canvas><!----><div class="RibbonAnimation"></div></div></div>
    <script src="/assets/js/app.44e57090.js" defer></script><script src="/assets/js/4.181f235c.js" defer></script><script src="/assets/js/1.e6e6e62e.js" defer></script><script src="/assets/js/20.2e07e79b.js" defer></script>
  </body>
</html>
