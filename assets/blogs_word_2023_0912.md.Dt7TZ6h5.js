import{_ as s,c as i,o as a,a5 as t}from"./chunks/framework.BIhQMg0k.js";const c=JSON.parse('{"title":"解决科学上网后 Git 连接 GitHub 的问题","description":"","frontmatter":{"title":"解决科学上网后 Git 连接 GitHub 的问题","date":"2023-9-12","categories":["git","工作随记"]},"headers":[],"relativePath":"blogs/word/2023/0912.md","filePath":"blogs/word/2023/0912.md"}'),h={name:"blogs/word/2023/0912.md"},l=t(`<h1 id="解决科学上网后-git-连接-github-的问题-🔧" tabindex="-1">解决科学上网后 Git 连接 GitHub 的问题 🔧 <a class="header-anchor" href="#解决科学上网后-git-连接-github-的问题-🔧" aria-label="Permalink to &quot;解决科学上网后 Git 连接 GitHub 的问题 🔧&quot;">​</a></h1><p>在使用科学上网工具时，经常会遇到 Git 无法正常连接 GitHub 的情况。本文将介绍几种解决方案。</p><h2 id="问题表现-❌" tabindex="-1">问题表现 ❌ <a class="header-anchor" href="#问题表现-❌" aria-label="Permalink to &quot;问题表现 ❌&quot;">​</a></h2><p>当执行 git clone、pull 或 push 操作时，可能会遇到以下错误：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@github.com:username/repo.git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cloning</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> into</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;repo&#39;...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 22:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Connection</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> timed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> out</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fatal:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Could</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> read</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repository.</span></span></code></pre></div><h2 id="解决方案-✅" tabindex="-1">解决方案 ✅ <a class="header-anchor" href="#解决方案-✅" aria-label="Permalink to &quot;解决方案 ✅&quot;">​</a></h2><h3 id="_1-使用-443-端口替代-22-端口-🔄" tabindex="-1">1. 使用 443 端口替代 22 端口 🔄 <a class="header-anchor" href="#_1-使用-443-端口替代-22-端口-🔄" aria-label="Permalink to &quot;1. 使用 443 端口替代 22 端口 🔄&quot;">​</a></h3><p>这是最常用且推荐的解决方案：</p><ol><li>首先测试 443 端口是否可用：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -T</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 443</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@ssh.github.com</span></span></code></pre></div><ol start="2"><li>如果测试成功，编辑或创建 SSH 配置文件：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/config</span></span></code></pre></div><ol start="3"><li>添加以下配置：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh.github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 443</span></span></code></pre></div><ol start="4"><li>验证配置是否生效：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -T</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@github.com</span></span></code></pre></div><p>如果看到 &quot;Hi username! You&#39;ve successfully authenticated...&quot; 的提示，说明配置成功。</p><h3 id="_2-配置代理方案-🌐" tabindex="-1">2. 配置代理方案 🌐 <a class="header-anchor" href="#_2-配置代理方案-🌐" aria-label="Permalink to &quot;2. 配置代理方案 🌐&quot;">​</a></h3><p>如果你正在使用代理工具，可以配置 Git 使用代理：</p><ol><li>设置代理（端口号根据实际情况调整）：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http.proxy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://127.0.0.1:10809</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https.proxy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://127.0.0.1:10809</span></span></code></pre></div><ol start="2"><li>如需取消代理：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --unset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http.proxy</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --unset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https.proxy</span></span></code></pre></div><h3 id="_3-修改-hosts-文件方案-📝" tabindex="-1">3. 修改 hosts 文件方案 📝 <a class="header-anchor" href="#_3-修改-hosts-文件方案-📝" aria-label="Permalink to &quot;3. 修改 hosts 文件方案 📝&quot;">​</a></h3><p>如果上述方法都不奏效，可以尝试修改 hosts 文件：</p><ol><li>打开 <code>C:\\Windows\\System32\\drivers\\etc\\hosts</code>（Windows）或 <code>/etc/hosts</code>（Linux/Mac）</li><li>查询 GitHub 的 DNS：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nslookup</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com</span></span></code></pre></div><ol start="3"><li>将获取到的 IP 地址添加到 hosts 文件末尾：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">140.82.114.4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com</span></span></code></pre></div><ol start="4"><li>刷新 DNS 缓存：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ipconfig</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /flushdns</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Windows</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dscacheutil</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -flushcache</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Mac</span></span></code></pre></div><h2 id="注意事项-⚠️" tabindex="-1">注意事项 ⚠️ <a class="header-anchor" href="#注意事项-⚠️" aria-label="Permalink to &quot;注意事项 ⚠️&quot;">​</a></h2><ul><li>建议优先尝试 443 端口方案，这是最稳定的解决方案</li><li>使用代理时，请确保代理端口号与你的实际配置相符</li><li>修改 hosts 文件可能需要管理员权限</li><li>GitHub 的 IP 地址可能会变化，如果使用 hosts 方案需要及时更新</li></ul><h2 id="参考链接-🔗" tabindex="-1">参考链接 🔗 <a class="header-anchor" href="#参考链接-🔗" aria-label="Permalink to &quot;参考链接 🔗&quot;">​</a></h2><ul><li><a href="https://docs.github.com/en/authentication/troubleshooting-ssh/using-ssh-over-the-https-port" target="_blank" rel="noreferrer">GitHub 官方文档：Using SSH over the HTTPS port</a></li><li><a href="https://docs.github.com/cn/authentication/troubleshooting-ssh" target="_blank" rel="noreferrer">GitHub 连接问题故障排除</a></li></ul>`,35),e=[l];function n(p,k,o,d,r,g){return a(),i("div",null,e)}const u=s(h,[["render",n]]);export{c as __pageData,u as default};
