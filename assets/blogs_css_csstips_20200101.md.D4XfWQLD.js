import{_ as s,c as i,o as a,a5 as t}from"./chunks/framework.BIhQMg0k.js";const E=JSON.parse('{"title":"CSS选择器详解：权重与匹配模式","description":"","frontmatter":{"title":"CSS选择器详解：权重与匹配模式","date":"2020-1-01","categories":["css","css小知识"]},"headers":[],"relativePath":"blogs/css/csstips/20200101.md","filePath":"blogs/css/csstips/20200101.md"}'),h={name:"blogs/css/csstips/20200101.md"},l=t(`<h1 id="css选择器全面指南-🎯" tabindex="-1">CSS选择器全面指南 🎯 <a class="header-anchor" href="#css选择器全面指南-🎯" aria-label="Permalink to &quot;CSS选择器全面指南 🎯&quot;">​</a></h1><h2 id="选择器权重-specificity-💪" tabindex="-1">选择器权重（Specificity）💪 <a class="header-anchor" href="#选择器权重-specificity-💪" aria-label="Permalink to &quot;选择器权重（Specificity）💪&quot;">​</a></h2><h3 id="权重计算规则" tabindex="-1">权重计算规则 <a class="header-anchor" href="#权重计算规则" aria-label="Permalink to &quot;权重计算规则&quot;">​</a></h3><p>选择器权重使用 (x,y,z) 三元组表示：</p><ul><li>x：ID选择器（<code>#id</code>）的数量</li><li>y：类选择器（<code>.class</code>）、属性选择器（<code>[attr]</code>）、伪类（<code>:hover</code>）的数量</li><li>z：元素选择器（<code>div</code>）、伪元素选择器（<code>::before</code>）的数量</li></ul><blockquote><p>💡 <strong>重要提示</strong>：从左到右依次比较，数值大的优先级更高</p></blockquote><h3 id="权重示例" tabindex="-1">权重示例 <a class="header-anchor" href="#权重示例" aria-label="Permalink to &quot;权重示例&quot;">​</a></h3><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 以下是从低到高排序的选择器权重示例 */</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                                    /* (0,0,1) */</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.container</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                            /* (0,1,0) */</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.container</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> ul</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:hover</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                 /* (0,2,2) */</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.container</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> .form</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> input</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* (0,3,1) */</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">#list</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                                /* (1,0,0) */</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.container</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> #list::before</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">             /* (1,1,1) */</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.container</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> #list</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">::before</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           /* (1,1,2) */</span></span></code></pre></div><h3 id="特殊情况说明-⚠️" tabindex="-1">特殊情况说明 ⚠️ <a class="header-anchor" href="#特殊情况说明-⚠️" aria-label="Permalink to &quot;特殊情况说明 ⚠️&quot;">​</a></h3><ol><li><code>!important</code> 声明会覆盖任何其他声明</li><li>内联样式（style属性）的权重为 (1,0,0,0)</li><li>通配符选择器 (*) 和组合器 (+, &gt;, ~, &#39; &#39;) 不影响权重</li></ol><h2 id="选择器匹配模式-🔍" tabindex="-1">选择器匹配模式 🔍 <a class="header-anchor" href="#选择器匹配模式-🔍" aria-label="Permalink to &quot;选择器匹配模式 🔍&quot;">​</a></h2><h3 id="_1-后代选择器-e-f" tabindex="-1">1. 后代选择器 <code>E F</code> <a class="header-anchor" href="#_1-后代选择器-e-f" aria-label="Permalink to &quot;1. 后代选择器 \`E F\`&quot;">​</a></h3><p>选择E元素内部所有的F元素（包括孙子元素）</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.container</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 选择.container内所有p元素 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><h3 id="_2-子选择器-e-f" tabindex="-1">2. 子选择器 <code>E &gt; F</code> <a class="header-anchor" href="#_2-子选择器-e-f" aria-label="Permalink to &quot;2. 子选择器 \`E &gt; F\`&quot;">​</a></h3><p>只选择E元素的直接子元素F</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.nav</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> li</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 只选择.nav的直接子元素li */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><h3 id="_3-相邻兄弟选择器-e-f" tabindex="-1">3. 相邻兄弟选择器 <code>E + F</code> <a class="header-anchor" href="#_3-相邻兄弟选择器-e-f" aria-label="Permalink to &quot;3. 相邻兄弟选择器 \`E + F\`&quot;">​</a></h3><p>选择E元素后面紧邻的同级F元素</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 选择紧跟在h2后面的p元素 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><h3 id="_4-通用兄弟选择器-e-f" tabindex="-1">4. 通用兄弟选择器 <code>E ~ F</code> <a class="header-anchor" href="#_4-通用兄弟选择器-e-f" aria-label="Permalink to &quot;4. 通用兄弟选择器 \`E ~ F\`&quot;">​</a></h3><p>选择E元素后面所有同级的F元素</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ~</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 选择h2后面所有的同级p元素 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><h2 id="实用技巧与最佳实践-💡" tabindex="-1">实用技巧与最佳实践 💡 <a class="header-anchor" href="#实用技巧与最佳实践-💡" aria-label="Permalink to &quot;实用技巧与最佳实践 💡&quot;">​</a></h2><ol><li><p><strong>避免过度嵌套</strong></p><ul><li>选择器嵌套不要超过3层</li><li>过深的嵌套会降低性能并增加维护难度</li></ul></li><li><p><strong>CSS选择器性能优化</strong></p><ul><li>ID选择器 &gt; 类选择器 &gt; 标签选择器</li><li>避免使用通配符选择器作为开头</li></ul></li><li><p><strong>常见陷阱</strong></p><ul><li>权重相同时，后面的样式会覆盖前面的</li><li>组合选择器的权重是所有选择器权重的总和</li></ul></li></ol><h2 id="现代css选择器补充-🚀" tabindex="-1">现代CSS选择器补充 🚀 <a class="header-anchor" href="#现代css选择器补充-🚀" aria-label="Permalink to &quot;现代CSS选择器补充 🚀&quot;">​</a></h2><h3 id="属性选择器" tabindex="-1">属性选择器 <a class="header-anchor" href="#属性选择器" aria-label="Permalink to &quot;属性选择器&quot;">​</a></h3><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">data-type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;primary&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 选择特定属性值的元素 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">class</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;btn-&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 选择class包含&quot;btn-&quot;的元素 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><h3 id="伪类选择器" tabindex="-1">伪类选择器 <a class="header-anchor" href="#伪类选择器" aria-label="Permalink to &quot;伪类选择器&quot;">​</a></h3><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.header</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.footer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 选择.header和.footer中的p元素 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">section</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">article</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 类似:is但权重为0 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:has</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> img</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* 选择包含img子元素的元素（新特性） */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><blockquote><p>🌟 <strong>提示</strong>：现代浏览器支持更多强大的选择器，建议查看 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Selectors" target="_blank" rel="noreferrer">MDN</a> 获取最新特性</p></blockquote>`,31),e=[l];function n(p,k,r,d,o,c){return a(),i("div",null,e)}const y=s(h,[["render",n]]);export{E as __pageData,y as default};
