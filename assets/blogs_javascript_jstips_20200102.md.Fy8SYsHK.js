import{_ as s,c as i,o as a,a7 as h}from"./chunks/framework.DLSH1pMh.js";const c=JSON.parse('{"title":"JavaScriptä¸­çš„æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜","description":"","frontmatter":{"title":"JavaScriptä¸­çš„æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜","date":"2020-02-02T00:00:00.000Z","categories":["å·¥ä½œéšè®°","javascript"]},"headers":[],"relativePath":"blogs/javascript/jstips/20200102.md","filePath":"blogs/javascript/jstips/20200102.md"}'),l={name:"blogs/javascript/jstips/20200102.md"},t=h(`<h1 id="javascriptä¸­çš„æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜-ğŸ”¢" tabindex="-1">JavaScriptä¸­çš„æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ ğŸ”¢ <a class="header-anchor" href="#javascriptä¸­çš„æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜-ğŸ”¢" aria-label="Permalink to &quot;JavaScriptä¸­çš„æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ ğŸ”¢&quot;">â€‹</a></h1><h2 id="é—®é¢˜ç°è±¡-â“" tabindex="-1">é—®é¢˜ç°è±¡ â“ <a class="header-anchor" href="#é—®é¢˜ç°è±¡-â“" aria-label="Permalink to &quot;é—®é¢˜ç°è±¡ â“&quot;">â€‹</a></h2><p>åœ¨JavaScriptä¸­è¿›è¡Œæµ®ç‚¹æ•°è¿ç®—æ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€äº›ä»¤äººå›°æƒ‘çš„ç»“æœï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0.30000000000000004</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.4</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span></code></pre></div><h2 id="åŸå› åˆ†æ-ğŸ”" tabindex="-1">åŸå› åˆ†æ ğŸ” <a class="header-anchor" href="#åŸå› åˆ†æ-ğŸ”" aria-label="Permalink to &quot;åŸå› åˆ†æ ğŸ”&quot;">â€‹</a></h2><ol><li>JavaScriptä¸­çš„æ‰€æœ‰æ•°å­—éƒ½éµå¾ª IEEE 754 æ ‡å‡†ï¼Œä½¿ç”¨64ä½åŒç²¾åº¦æµ®ç‚¹æ•°å­˜å‚¨</li><li>è®¡ç®—æœºä½¿ç”¨äºŒè¿›åˆ¶å­˜å‚¨æ•°å­—ï¼ŒæŸäº›åè¿›åˆ¶å°æ•°åœ¨è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ—¶ä¼šå‡ºç°æ— é™å¾ªç¯</li></ol><h3 id="äºŒè¿›åˆ¶è½¬æ¢ç¤ºä¾‹-ğŸ“" tabindex="-1">äºŒè¿›åˆ¶è½¬æ¢ç¤ºä¾‹ ğŸ“ <a class="header-anchor" href="#äºŒè¿›åˆ¶è½¬æ¢ç¤ºä¾‹-ğŸ“" aria-label="Permalink to &quot;äºŒè¿›åˆ¶è½¬æ¢ç¤ºä¾‹ ğŸ“&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0.125çš„äºŒè¿›åˆ¶è½¬æ¢è¿‡ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.125</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.25</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å–æ•´æ•°éƒ¨åˆ†: 0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.25</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // å–æ•´æ•°éƒ¨åˆ†: 0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å–æ•´æ•°éƒ¨åˆ†: 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æœ€ç»ˆç»“æœ: 0.125(åè¿›åˆ¶) = 0.001(äºŒè¿›åˆ¶)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0.2çš„äºŒè¿›åˆ¶è½¬æ¢è¿‡ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.4</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å–æ•´æ•°éƒ¨åˆ†: 0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.4</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.8</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å–æ•´æ•°éƒ¨åˆ†: 0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.6</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å–æ•´æ•°éƒ¨åˆ†: 1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.6</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.2</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å–æ•´æ•°éƒ¨åˆ†: 1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.4</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å–æ•´æ•°éƒ¨åˆ†: 0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¾ªç¯ç»§ç»­...æœ€ç»ˆæ˜¯æ— é™å¾ªç¯çš„ 0.001100110011...(äºŒè¿›åˆ¶)</span></span></code></pre></div><h2 id="è§£å†³æ–¹æ¡ˆ-ğŸ’¡" tabindex="-1">è§£å†³æ–¹æ¡ˆ ğŸ’¡ <a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-ğŸ’¡" aria-label="Permalink to &quot;è§£å†³æ–¹æ¡ˆ ğŸ’¡&quot;">â€‹</a></h2><ol><li><strong>ä½¿ç”¨toFixed()è¿›è¡Œå››èˆäº”å…¥</strong></li></ol><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toFixed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0.30&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // true</span></span></code></pre></div><ol start="2"><li><strong>ä¹˜ä»¥å€æ•°è½¬ä¸ºæ•´æ•°è¿ç®—</strong></li></ol><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // true</span></span></code></pre></div><ol start="3"><li><strong>ä½¿ç”¨ä¸“ä¸šçš„æ•°å­¦åº“</strong></li></ol><ul><li><a href="https://github.com/MikeMcl/decimal.js" target="_blank" rel="noreferrer">decimal.js</a></li><li><a href="https://github.com/MikeMcl/big.js/" target="_blank" rel="noreferrer">big.js</a></li><li><a href="https://github.com/MikeMcl/bignumber.js/" target="_blank" rel="noreferrer">bignumber.js</a></li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Decimal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;decimal.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Decimal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equals</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span></code></pre></div><h2 id="æœ€ä½³å®è·µå»ºè®®-âœ¨" tabindex="-1">æœ€ä½³å®è·µå»ºè®® âœ¨ <a class="header-anchor" href="#æœ€ä½³å®è·µå»ºè®®-âœ¨" aria-label="Permalink to &quot;æœ€ä½³å®è·µå»ºè®® âœ¨&quot;">â€‹</a></h2><ol><li>é‡‘èè®¡ç®—å¿…é¡»ä½¿ç”¨ä¸“ä¸šçš„æ•°å­¦åº“</li><li>å±•ç¤ºé‡‘é¢æ—¶ï¼Œå§‹ç»ˆä½¿ç”¨toFixed()å›ºå®šå°æ•°ä½æ•°</li><li>å¯¹ç²¾åº¦è¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨Math.round()æˆ–toFixed()é€‚å½“å¤„ç†</li></ol><h2 id="æ³¨æ„äº‹é¡¹-âš ï¸" tabindex="-1">æ³¨æ„äº‹é¡¹ âš ï¸ <a class="header-anchor" href="#æ³¨æ„äº‹é¡¹-âš ï¸" aria-label="Permalink to &quot;æ³¨æ„äº‹é¡¹ âš ï¸&quot;">â€‹</a></h2><ul><li>ä¸è¦ç›´æ¥æ¯”è¾ƒæµ®ç‚¹æ•°æ˜¯å¦ç›¸ç­‰</li><li>éœ€è¦ç²¾ç¡®è®¡ç®—æ—¶ï¼Œå°†æ•°å€¼è½¬æ¢ä¸ºæ•´æ•°åå†è¿›è¡Œè®¡ç®—</li><li>å±•ç¤ºè´§å¸é‡‘é¢æ—¶ï¼Œæ¨èä½¿ç”¨ä¸“ä¸šçš„æ ¼å¼åŒ–åº“ï¼Œå¦‚Intl.NumberFormat</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è´§å¸æ ¼å¼åŒ–ç¤ºä¾‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> formatter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NumberFormat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;zh-CN&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  style: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;currency&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  currency: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;CNY&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(formatter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Â¥0.30</span></span></code></pre></div><p>å¸Œæœ›è¿™ç¯‡ä¼˜åŒ–åçš„åšå®¢å¯¹ä½ æœ‰å¸®åŠ©ï¼ğŸ‰</p>`,22),n=[t];function k(p,e,r,d,g,F){return a(),i("div",null,n)}const o=s(l,[["render",k]]);export{c as __pageData,o as default};
