import{_ as s,c as i,o as a,a7 as n}from"./chunks/framework.DLSH1pMh.js";const F=JSON.parse('{"title":"Shader è¿›é˜¶ - åˆ†å½¢ä¸ç¨‹åºåŒ–å›¾æ¡ˆçš„å¥¥ç§˜","description":"","frontmatter":{"title":"Shader è¿›é˜¶ - åˆ†å½¢ä¸ç¨‹åºåŒ–å›¾æ¡ˆçš„å¥¥ç§˜","date":"2025-10-25T00:00:00.000Z","categories":["ç¬”è®°","GLSL","shader"],"tags":["WebGL","ç¨‹åºåŒ–ç”Ÿæˆ","åˆ†å½¢è‰ºæœ¯"]},"headers":[],"relativePath":"blogs/note/20251025-shaderåˆ†å½¢ä¸ç¨‹åºåŒ–.md","filePath":"blogs/note/20251025-shaderåˆ†å½¢ä¸ç¨‹åºåŒ–.md"}'),h={name:"blogs/note/20251025-shaderåˆ†å½¢ä¸ç¨‹åºåŒ–.md"},l=n(`<h1 id="shader-è¿›é˜¶-åˆ†å½¢ä¸ç¨‹åºåŒ–å›¾æ¡ˆçš„å¥¥ç§˜" tabindex="-1">Shader è¿›é˜¶ - åˆ†å½¢ä¸ç¨‹åºåŒ–å›¾æ¡ˆçš„å¥¥ç§˜ <a class="header-anchor" href="#shader-è¿›é˜¶-åˆ†å½¢ä¸ç¨‹åºåŒ–å›¾æ¡ˆçš„å¥¥ç§˜" aria-label="Permalink to &quot;Shader è¿›é˜¶ - åˆ†å½¢ä¸ç¨‹åºåŒ–å›¾æ¡ˆçš„å¥¥ç§˜&quot;">â€‹</a></h1><h2 id="_1-ä»€ä¹ˆæ˜¯åˆ†å½¢-ä¸ºä»€ä¹ˆå®ƒå¦‚æ­¤é‡è¦" tabindex="-1">1. ä»€ä¹ˆæ˜¯åˆ†å½¢ï¼Ÿä¸ºä»€ä¹ˆå®ƒå¦‚æ­¤é‡è¦? <a class="header-anchor" href="#_1-ä»€ä¹ˆæ˜¯åˆ†å½¢-ä¸ºä»€ä¹ˆå®ƒå¦‚æ­¤é‡è¦" aria-label="Permalink to &quot;1. ä»€ä¹ˆæ˜¯åˆ†å½¢ï¼Ÿä¸ºä»€ä¹ˆå®ƒå¦‚æ­¤é‡è¦?&quot;">â€‹</a></h2><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­,æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ç”Ÿæˆå•ä¸€å±‚æ¬¡çš„å™ªå£°ã€‚ä½†è§‚å¯Ÿè‡ªç„¶ç•Œ,ä½ ä¼šå‘ç°ä¸€ä¸ªæƒŠäººçš„è§„å¾‹:</p><blockquote><p><strong>è‡ªç›¸ä¼¼æ€§ (Self-Similarity)</strong> - æ— è®ºä½ æ”¾å¤§å¤šå°‘å€,ç»“æ„çœ‹èµ·æ¥éƒ½æ˜¯ç›¸ä¼¼çš„!</p></blockquote><h3 id="_1-1-å…ˆç†è§£ä¸€ä¸ªé—®é¢˜-ä¸ºä»€ä¹ˆå•å±‚å™ªå£°ä¸å¤Ÿç”¨" tabindex="-1">1.1 å…ˆç†è§£ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆå•å±‚å™ªå£°ä¸å¤Ÿç”¨ï¼Ÿ <a class="header-anchor" href="#_1-1-å…ˆç†è§£ä¸€ä¸ªé—®é¢˜-ä¸ºä»€ä¹ˆå•å±‚å™ªå£°ä¸å¤Ÿç”¨" aria-label="Permalink to &quot;1.1 å…ˆç†è§£ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆå•å±‚å™ªå£°ä¸å¤Ÿç”¨ï¼Ÿ&quot;">â€‹</a></h3><p>æƒ³è±¡ä½ åœ¨ç”¨ç”»ç¬”ç”»ä¸€åº§å±±ï¼š</p><ul><li>åªç”»<strong>ç²—ç•¥è½®å»“</strong>ï¼šçœ‹èµ·æ¥åƒä¸ªä¸‰è§’å½¢,å¤ªå‡</li><li>åªç”»<strong>ç»†å°é¢—ç²’</strong>ï¼šçœ‹ä¸å‡ºæ•´ä½“å½¢çŠ¶,ä¸€å›¢ä¹±éº»</li><li><strong>æ­£ç¡®åšæ³•</strong>ï¼šå…ˆç”»å¤§è½®å»“,å†ç”»ä¸­ç­‰ç»†èŠ‚,æœ€ååŠ å°é¢—ç²’</li></ul><p><strong>è¿™å°±æ˜¯åˆ†å½¢çš„æœ¬è´¨</strong> - å°†ä¸åŒå°ºåº¦çš„ç»†èŠ‚ç»„åˆåœ¨ä¸€èµ·!</p><p>çœ‹çœ‹è¿™äº›ä¾‹å­:</p><table><thead><tr><th>è‡ªç„¶ç°è±¡</th><th>åˆ†å½¢ç‰¹å¾</th></tr></thead><tbody><tr><td>ğŸŒ³ <strong>æ ‘æœ¨</strong></td><td>æ ‘æçš„ç»“æ„å’Œæ•´æ£µæ ‘çš„å½¢çŠ¶ç›¸ä¼¼</td></tr><tr><td>â›°ï¸ <strong>å±±è„‰</strong></td><td>å°å±±ä¸˜å’Œå¤§å±±è„‰çš„è½®å»“å½¢çŠ¶ä¸€è‡´</td></tr><tr><td>â˜ï¸ <strong>äº‘æœµ</strong></td><td>äº‘çš„è¾¹ç¼˜åœ¨ä»»ä½•å°ºåº¦éƒ½æ˜¯å¤æ‚çš„</td></tr><tr><td>ğŸŒŠ <strong>æµ·å²¸çº¿</strong></td><td>æ— è®ºå¤šè¿‘çœ‹,æµ·å²¸çº¿éƒ½å……æ»¡ç»†èŠ‚</td></tr><tr><td>â„ï¸ <strong>é›ªèŠ±</strong></td><td>å…­è¾¹å½¢çš„æ¯ä¸ªåˆ†æ”¯éƒ½æœ‰ç›¸ä¼¼çš„ç»“æ„</td></tr></tbody></table><p>è¿™å°±æ˜¯<strong>åˆ†å½¢ (Fractal)</strong> çš„æœ¬è´¨ - åœ¨ä¸åŒå°ºåº¦ä¸Š<strong>é‡å¤ç›¸ä¼¼çš„æ¨¡å¼</strong>ã€‚</p><h3 id="_1-2-åˆ†å½¢åœ¨-shader-ä¸­çš„ä»·å€¼" tabindex="-1">1.2 åˆ†å½¢åœ¨ Shader ä¸­çš„ä»·å€¼ <a class="header-anchor" href="#_1-2-åˆ†å½¢åœ¨-shader-ä¸­çš„ä»·å€¼" aria-label="Permalink to &quot;1.2 åˆ†å½¢åœ¨ Shader ä¸­çš„ä»·å€¼&quot;">â€‹</a></h3><p><strong>é—®é¢˜:</strong> å•å±‚å™ªå£°çœ‹èµ·æ¥å¤ª&quot;å…‰æ»‘&quot;ã€å¤ª&quot;äººå·¥&quot;</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>å•å±‚ Perlin Noise:      å¤šå±‚åˆ†å½¢å™ªå£°:</span></span>
<span class="line"><span>   ï½ï½ï½ï½ï½ï½              ï½âˆ¿ï½âˆ¾ï½âˆ¿ï½âˆ¾ï½</span></span>
<span class="line"><span>  ï½ï½ï½ï½ï½ï½ï½            âˆ¿ï½âˆ¾ï½âˆ¿ï½âˆ¾ï½âˆ¿ï½</span></span>
<span class="line"><span> ï½ï½ï½ï½ï½ï½ï½ï½           ï½âˆ¾ï½âˆ¿ï½âˆ¾ï½âˆ¿ï½âˆ¾</span></span>
<span class="line"><span>   å¹³æ»‘ä½†å•è°ƒ              ç»†èŠ‚ä¸°å¯Œã€è‡ªç„¶</span></span></code></pre></div><p><strong>è§£å†³æ–¹æ¡ˆ:</strong> å åŠ <strong>å¤šä¸ªé¢‘ç‡</strong>çš„å™ªå£°,å°±åƒè‡ªç„¶ç•Œä¸€æ ·!</p><hr><h2 id="_2-åˆ†å½¢å¸ƒæœ—è¿åŠ¨-fractal-brownian-motion-fbm" tabindex="-1">2. åˆ†å½¢å¸ƒæœ—è¿åŠ¨ (Fractal Brownian Motion, fBm) <a class="header-anchor" href="#_2-åˆ†å½¢å¸ƒæœ—è¿åŠ¨-fractal-brownian-motion-fbm" aria-label="Permalink to &quot;2. åˆ†å½¢å¸ƒæœ—è¿åŠ¨ (Fractal Brownian Motion, fBm)&quot;">â€‹</a></h2><h3 id="_2-1-æ•°å­¦åŸç†" tabindex="-1">2.1 æ•°å­¦åŸç† <a class="header-anchor" href="#_2-1-æ•°å­¦åŸç†" aria-label="Permalink to &quot;2.1 æ•°å­¦åŸç†&quot;">â€‹</a></h3><p>fBm çš„æ ¸å¿ƒæ€æƒ³: <strong>å°†ä¸åŒé¢‘ç‡å’ŒæŒ¯å¹…çš„å™ªå£°å åŠ èµ·æ¥</strong></p><blockquote><p>ğŸ’¡ <strong>é€šä¿—ç†è§£</strong>ï¼šå°±åƒéŸ³ä¹çš„å’Œå¼¦ - ä½éŸ³æä¾›åŸºç¡€(ä½é¢‘),ä¸­éŸ³å¢åŠ æ—‹å¾‹(ä¸­é¢‘),é«˜éŸ³å¢åŠ ç»†èŠ‚(é«˜é¢‘),ä¸‰è€…å åŠ æ‰åŠ¨å¬!</p></blockquote><p><strong>æ•°å­¦å…¬å¼:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>fBm(x) = Î£(i=0 to octaves) amplitude(i) Ã— noise(frequency(i) Ã— x)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>å…¶ä¸­:</span></span>
<span class="line"><span>- frequency(i) = initial_frequency Ã— lacunarity^i  (é¢‘ç‡æŒ‡æ•°å¢é•¿)</span></span>
<span class="line"><span>- amplitude(i) = initial_amplitude Ã— gain^i        (æŒ¯å¹…æŒ‡æ•°è¡°å‡)</span></span></code></pre></div><p><strong>ä¸ºä»€ä¹ˆè¦æŒ‡æ•°å˜åŒ–ï¼Ÿ</strong></p><ul><li><strong>é¢‘ç‡æŒ‡æ•°å¢é•¿</strong>ï¼šæ¯å±‚ç»†èŠ‚æ˜¯ä¸Šä¸€å±‚çš„2å€å¯†é›† â†’ åƒç´ çº§ç»†èŠ‚</li><li><strong>æŒ¯å¹…æŒ‡æ•°è¡°å‡</strong>ï¼šæ¯å±‚å½±å“åŠ›å‡åŠ â†’ é¿å…é«˜é¢‘å™ªå£°&quot;å–§å®¾å¤ºä¸»&quot;</li></ul><p><strong>å‚æ•°è§£æ:</strong></p><table><thead><tr><th>å‚æ•°</th><th>å«ä¹‰</th><th>å…¸å‹å€¼</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><strong>octaves</strong></td><td>å åŠ å±‚æ•°</td><td>4-8</td><td>è¶Šå¤šè¶Šç»†è‡´,ä½†æ€§èƒ½ä¸‹é™</td></tr><tr><td><strong>lacunarity</strong></td><td>é¢‘ç‡å€å¢ç³»æ•°</td><td>2.0</td><td>æ¯å±‚é¢‘ç‡çš„å¢é•¿é€Ÿåº¦</td></tr><tr><td><strong>gain</strong></td><td>æŒ¯å¹…è¡°å‡ç³»æ•°</td><td>0.5</td><td>æ¯å±‚æŒ¯å¹…çš„è¡°å‡é€Ÿåº¦</td></tr><tr><td><strong>initial frequency</strong></td><td>åˆå§‹é¢‘ç‡</td><td>1.0</td><td>åŸºç¡€æ³¢é•¿</td></tr><tr><td><strong>initial amplitude</strong></td><td>åˆå§‹æŒ¯å¹…</td><td>0.5</td><td>åŸºç¡€å¼ºåº¦</td></tr></tbody></table><h3 id="_2-3-å¯è§†åŒ–ç†è§£" tabindex="-1">2.3 å¯è§†åŒ–ç†è§£ <a class="header-anchor" href="#_2-3-å¯è§†åŒ–ç†è§£" aria-label="Permalink to &quot;2.3 å¯è§†åŒ–ç†è§£&quot;">â€‹</a></h3><p>æƒ³è±¡ä½ åœ¨ç”»ä¸€åº§å±±:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ç¬¬1å±‚ (octave 0):  åŸºç¡€è½®å»“</span></span>
<span class="line"><span>amplitude = 0.5    â•±â€¾â€¾â€¾â•²___</span></span>
<span class="line"><span>frequency = 1.0   â•±        â•²___</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ç¬¬2å±‚ (octave 1):  æ·»åŠ ä¸­ç­‰ç»†èŠ‚</span></span>
<span class="line"><span>amplitude = 0.25   â•±â€¾â•²_â•±â€¾â•²_</span></span>
<span class="line"><span>frequency = 2.0   â•±  â•²â•±  â•²â•±</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ç¬¬3å±‚ (octave 2):  æ·»åŠ å°ç»†èŠ‚</span></span>
<span class="line"><span>amplitude = 0.125  â•±â€¾â•²â•±â€¾â•²â•±â€¾â•²â•±</span></span>
<span class="line"><span>frequency = 4.0   â•± â•²â•± â•²â•± â•²â•±</span></span>
<span class="line"><span></span></span>
<span class="line"><span>æœ€ç»ˆå åŠ :         â•±â€¾â•²_â•±â€¾â•²_</span></span>
<span class="line"><span>                â•±â€¾â•² â•²â•± â•²â•±â•²_</span></span>
<span class="line"><span>               â•±  â•²â•²â•±â•²_â•±  â•²â•±â•²_</span></span>
<span class="line"><span>                  ç»†èŠ‚ä¸°å¯Œçš„å±±è„‰!</span></span></code></pre></div><p><strong>å…³é”®è§„å¾‹:</strong></p><ul><li>ğŸ”Š <strong>ä½é¢‘ (å¤§æ³¢é•¿)</strong>: æ§åˆ¶æ•´ä½“å½¢çŠ¶</li><li>ğŸ”‰ <strong>ä¸­é¢‘</strong>: æ·»åŠ ä¸­ç­‰ç»†èŠ‚</li><li>ğŸ”ˆ <strong>é«˜é¢‘ (å°æ³¢é•¿)</strong>: æ·»åŠ å¾®å°ç»†èŠ‚</li></ul><h3 id="_2-4-ğŸ”§-åŸºç¡€-fbm-å®ç°" tabindex="-1">2.4 ğŸ”§ åŸºç¡€ fBm å®ç° <a class="header-anchor" href="#_2-4-ğŸ”§-åŸºç¡€-fbm-å®ç°" aria-label="Permalink to &quot;2.4 ğŸ”§ åŸºç¡€ fBm å®ç°&quot;">â€‹</a></h3><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#ifdef</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GL_ES</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">precision mediump </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#endif</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uniform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uniform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_time;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ“ 2Déšæœºå‡½æ•° (ä»ä¸Šä¸€ç¯‡å¤åˆ¶)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vec2 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fract</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12.9898</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">78.233</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 43758.5453123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸŒŠ 2D Value Noise (ä»ä¸Šä¸€ç¯‡å¤åˆ¶)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> noise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vec2 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> floor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fract</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 u </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a, b, u.x), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c, d, u.x), u.y);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ”ï¸ åˆ†å½¢å¸ƒæœ—è¿åŠ¨ (æ ¸å¿ƒ!)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vec2 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     // ç´¯ç§¯å€¼ - ç”¨æ¥å­˜å‚¨æ‰€æœ‰å±‚å åŠ çš„ç»“æœ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> amplitude </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // åˆå§‹æŒ¯å¹… - ç¬¬ä¸€å±‚çš„å½±å“åŠ›(0.5 = 50%)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> frequency </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // åˆå§‹é¢‘ç‡ - ç¬¬ä¸€å±‚çš„æ³¢é•¿(1.0 = åŸºå‡†å¤§å°)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âš™ï¸ é…ç½®å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> octaves </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å åŠ 6å±‚ - å±‚æ•°è¶Šå¤šç»†èŠ‚è¶Šä¸°å¯Œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lacunarity </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // é¢‘ç‡æ¯å±‚ç¿»å€ - 2.0 è¡¨ç¤ºæ¯å±‚æ¯”ä¸Šå±‚å¯†é›†2å€</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gain </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       // æŒ¯å¹…æ¯å±‚å‡åŠ - 0.5 è¡¨ç¤ºæ¯å±‚å½±å“åŠ›å‡å°‘50%</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ”„ å åŠ å¤šå±‚å™ªå£°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> octaves; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ç¬¬iå±‚çš„è´¡çŒ® = å½“å‰æŒ¯å¹… Ã— å½“å‰é¢‘ç‡ä¸‹çš„å™ªå£°å€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> amplitude </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> noise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> frequency);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ä¸ºä¸‹ä¸€å±‚å‡†å¤‡å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        frequency </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lacunarity;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é¢‘ç‡å¢åŠ  â†’ ä¸‹ä¸€å±‚æ›´ç»†å¯†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        amplitude </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gain;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æŒ¯å¹…è¡°å‡ â†’ ä¸‹ä¸€å±‚å½±å“åŠ›æ›´å°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ’¡ å…³é”®ç‚¹ï¼š</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç¬¬1å±‚: amplitude=0.5, frequency=1.0  (ç²—ç³™è½®å»“,å½±å“æœ€å¤§)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç¬¬2å±‚: amplitude=0.25, frequency=2.0 (ä¸­ç­‰ç»†èŠ‚)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç¬¬3å±‚: amplitude=0.125, frequency=4.0 (ç²¾ç»†ç»†èŠ‚)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...ä»¥æ­¤ç±»æ¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragCoord.xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.xy;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç¼©æ”¾åæ ‡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_2-5-ğŸ¨-æ•ˆæœå¯¹æ¯”" tabindex="-1">2.5 ğŸ¨ æ•ˆæœå¯¹æ¯” <a class="header-anchor" href="#_2-5-ğŸ¨-æ•ˆæœå¯¹æ¯”" aria-label="Permalink to &quot;2.5 ğŸ¨ æ•ˆæœå¯¹æ¯”&quot;">â€‹</a></h3><p>å°è¯•ä¿®æ”¹å‚æ•°,è§‚å¯Ÿæ•ˆæœå˜åŒ–:</p><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ¨ é…ç½®1: ç²—ç³™åœ°å½¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">octaves </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lacunarity </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gain </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">â†’ æ•ˆæœ: å±±è„‰è½®å»“æ¸…æ™°,ç»†èŠ‚é€‚ä¸­</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ¨ é…ç½®2: ç»†è…»äº‘æœµ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">octaves </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lacunarity </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gain </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">â†’ æ•ˆæœ: æå…¶ç»†è…»,åƒçœŸå®äº‘æœµ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ¨ é…ç½®3: ç²—ç³™å²©çŸ³</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">octaves </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lacunarity </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gain </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.6</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">â†’ æ•ˆæœ: å°–é”çš„çº¹ç†,é€‚åˆå²©çŸ³</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ¨ é…ç½®4: å¹³æ»‘æ°´é¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">octaves </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lacunarity </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gain </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">â†’ æ•ˆæœ: å¹³æ»‘èµ·ä¼,é€‚åˆæ°´é¢</span></span></code></pre></div><h3 id="_2-6-ğŸ“Š-å‚æ•°å½±å“é€ŸæŸ¥è¡¨" tabindex="-1">2.6 ğŸ“Š å‚æ•°å½±å“é€ŸæŸ¥è¡¨ <a class="header-anchor" href="#_2-6-ğŸ“Š-å‚æ•°å½±å“é€ŸæŸ¥è¡¨" aria-label="Permalink to &quot;2.6 ğŸ“Š å‚æ•°å½±å“é€ŸæŸ¥è¡¨&quot;">â€‹</a></h3><table><thead><tr><th>å‚æ•°å˜åŒ–</th><th>è§†è§‰æ•ˆæœ</th><th>åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>octaves â†‘</strong></td><td>ç»†èŠ‚å¢åŠ ,æ€§èƒ½ä¸‹é™</td><td>éœ€è¦æè‡´ç»†èŠ‚æ—¶(è¿œæ™¯)</td></tr><tr><td><strong>octaves â†“</strong></td><td>æ›´å…‰æ»‘,æ€§èƒ½æå‡</td><td>å®æ—¶åº”ç”¨,ç§»åŠ¨ç«¯</td></tr><tr><td><strong>lacunarity â†‘</strong></td><td>é«˜é¢‘ç»†èŠ‚æ›´æ˜æ˜¾</td><td>ç²—ç³™è¡¨é¢(å²©çŸ³)</td></tr><tr><td><strong>lacunarity â†“</strong></td><td>å„å±‚è¿‡æ¸¡æ›´å¹³æ»‘</td><td>æŸ”å’Œæ•ˆæœ(é›¾æ°”)</td></tr><tr><td><strong>gain â†‘</strong></td><td>ç»†èŠ‚å±‚å½±å“æ›´å¤§</td><td>å°–é”çº¹ç†(é—ªç”µ)</td></tr><tr><td><strong>gain â†“</strong></td><td>åŸºç¡€å±‚ä¸»å¯¼</td><td>å¹³æ»‘çº¹ç†(æ²™ä¸˜)</td></tr></tbody></table><h3 id="_2-7-âš ï¸-å¸¸è§è¯¯åŒºä¸ä¼˜åŒ–å»ºè®®" tabindex="-1">2.7 âš ï¸ å¸¸è§è¯¯åŒºä¸ä¼˜åŒ–å»ºè®® <a class="header-anchor" href="#_2-7-âš ï¸-å¸¸è§è¯¯åŒºä¸ä¼˜åŒ–å»ºè®®" aria-label="Permalink to &quot;2.7 âš ï¸ å¸¸è§è¯¯åŒºä¸ä¼˜åŒ–å»ºè®®&quot;">â€‹</a></h3><h4 id="_2-7-1-è¯¯åŒº-1-octaves-è¶Šå¤šè¶Šå¥½" tabindex="-1">2.7.1 è¯¯åŒº 1: Octaves è¶Šå¤šè¶Šå¥½ <a class="header-anchor" href="#_2-7-1-è¯¯åŒº-1-octaves-è¶Šå¤šè¶Šå¥½" aria-label="Permalink to &quot;2.7.1 è¯¯åŒº 1: Octaves è¶Šå¤šè¶Šå¥½&quot;">â€‹</a></h4><p><strong>é”™è¯¯æƒ³æ³•</strong>: è®¾ç½® octaves = 20 è®©æ•ˆæœæ›´ç»†è…» <strong>é—®é¢˜</strong>:</p><ul><li>GPU è®¡ç®—é‡æŒ‡æ•°å¢é•¿,å¸§ç‡æš´è·Œ</li><li>è¶…è¿‡ 8 å±‚åäººçœ¼å·²ç»éš¾ä»¥å¯Ÿè§‰å·®å¼‚ <strong>æ­£ç¡®åšæ³•</strong>:</li></ul><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¹æ®åº”ç”¨åœºæ™¯é€‰æ‹©:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> octaves </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç§»åŠ¨ç«¯/å®æ—¶åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> octaves </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ¡Œé¢ç«¯/ä¸€èˆ¬åœºæ™¯ âœ“ æ¨è</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> octaves </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é«˜å“è´¨é™æ€æ¸²æŸ“</span></span></code></pre></div><h4 id="_2-7-2-è¯¯åŒº-2-ä¸å½’ä¸€åŒ–ç»“æœ" tabindex="-1">2.7.2 è¯¯åŒº 2: ä¸å½’ä¸€åŒ–ç»“æœ <a class="header-anchor" href="#_2-7-2-è¯¯åŒº-2-ä¸å½’ä¸€åŒ–ç»“æœ" aria-label="Permalink to &quot;2.7.2 è¯¯åŒº 2: ä¸å½’ä¸€åŒ–ç»“æœ&quot;">â€‹</a></h4><p><strong>é—®é¢˜</strong>: fBm çš„è¾“å‡ºèŒƒå›´ä¸æ˜¯ [0, 1],å¯èƒ½å¯¼è‡´é¢œè‰²æº¢å‡º <strong>æ­£ç¡®åšæ³•</strong>:</p><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbmNormalized</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vec2 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å½’ä¸€åŒ–: fBm çš„ç†è®ºèŒƒå›´æ˜¯ [0, 1/(1-gain)]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å½“ gain=0.5 æ—¶,èŒƒå›´çº¦ä¸º [0, 2]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ˜ å°„åˆ° [0, 1]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="_2-7-3-è¯¯åŒº-3-å¿½ç•¥æ€§èƒ½ä¼˜åŒ–" tabindex="-1">2.7.3 è¯¯åŒº 3: å¿½ç•¥æ€§èƒ½ä¼˜åŒ– <a class="header-anchor" href="#_2-7-3-è¯¯åŒº-3-å¿½ç•¥æ€§èƒ½ä¼˜åŒ–" aria-label="Permalink to &quot;2.7.3 è¯¯åŒº 3: å¿½ç•¥æ€§èƒ½ä¼˜åŒ–&quot;">â€‹</a></h4><p><strong>ä¼˜åŒ–æŠ€å·§</strong>:</p><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ å·®: æ¯æ¬¡éƒ½é‡æ–°è®¡ç®—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ“ å¥½: å¤ç”¨è®¡ç®—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> detail </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> detail </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><hr><h2 id="_3-ğŸŒŠ-fbm-å®æˆ˜åº”ç”¨" tabindex="-1">3. ğŸŒŠ fBm å®æˆ˜åº”ç”¨ <a class="header-anchor" href="#_3-ğŸŒŠ-fbm-å®æˆ˜åº”ç”¨" aria-label="Permalink to &quot;3. ğŸŒŠ fBm å®æˆ˜åº”ç”¨&quot;">â€‹</a></h2><h3 id="_3-1-åº”ç”¨-1-ç¨‹åºåŒ–äº‘æœµ" tabindex="-1">3.1 åº”ç”¨ 1: ç¨‹åºåŒ–äº‘æœµ <a class="header-anchor" href="#_3-1-åº”ç”¨-1-ç¨‹åºåŒ–äº‘æœµ" aria-label="Permalink to &quot;3.1 åº”ç”¨ 1: ç¨‹åºåŒ–äº‘æœµ&quot;">â€‹</a></h3><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uniform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uniform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_time;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> noise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vec2 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ... (ä½¿ç”¨ä¹‹å‰çš„å™ªå£°å‡½æ•°)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vec2 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ... (ä½¿ç”¨ä¹‹å‰çš„ fBm å‡½æ•°)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ“ å½’ä¸€åŒ–åæ ‡åˆ° [0, 1]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragCoord.xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.xy;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // â˜ï¸ äº‘æœµè¿åŠ¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 cloudPos </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // æ”¾å¤§3å€ â†’ äº‘æœµå°ºå¯¸é€‚ä¸­</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cloudPos.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_time </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // å‘å³é£˜åŠ¨ (0.1 = é€Ÿåº¦,è¶Šå¤§è¶Šå¿«)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸŒŠ ç”Ÿæˆäº‘æœµå¯†åº¦</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> clouds </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cloudPos);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¨ å¢å¼ºå¯¹æ¯”åº¦ - è®©äº‘æœµè¾¹ç•Œæ›´æ¸…æ™°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // smoothstep(0.4, 0.8, x) çš„æ•ˆæœ:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // - x &lt; 0.4: è¾“å‡º 0 (å®Œå…¨é€æ˜)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // - 0.4 &lt; x &lt; 0.8: å¹³æ»‘è¿‡æ¸¡</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // - x &gt; 0.8: è¾“å‡º 1 (å®Œå…¨ä¸é€æ˜)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    clouds </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> smoothstep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, clouds);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸŒˆ å¤©ç©ºé¢œè‰²æ¸å˜ (ä»åœ°å¹³çº¿åˆ°å¤©é¡¶)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 skyColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åœ°å¹³çº¿: æµ…è“ (åº•éƒ¨ st.y=0)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¤©é¡¶: æ·±è“ (é¡¶éƒ¨ st.y=1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        st.y</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                  // ç”¨Yåæ ‡ä½œä¸ºæ··åˆç³»æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // â˜ï¸ äº‘æœµé¢œè‰²</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 cloudColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.95</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.95</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç™½è‰²å¸¦ç‚¹è“ (çœŸå®äº‘çš„é¢œè‰²)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¨ æ··åˆå¤©ç©ºå’Œäº‘æœµ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // clouds ä½œä¸ºæ··åˆç³»æ•°: 0=å®Œå…¨æ˜¾ç¤ºå¤©ç©º, 1=å®Œå…¨æ˜¾ç¤ºäº‘æœµ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(skyColor, cloudColor, clouds);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ’¡ è°ƒè¯•æç¤º:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - å¦‚æœçœ‹ä¸åˆ°äº‘: å°è¯•å‡å° smoothstep çš„é˜ˆå€¼ (å¦‚ 0.3, 0.7)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - å¦‚æœäº‘å¤ªå¯†é›†: å¢å¤§ cloudPos çš„ç¼©æ”¾ç³»æ•° (å¦‚ 5.0)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - å¦‚æœæƒ³è¦åŠ¨æ€å˜åŒ–: å¯ä»¥è®© octaves æˆ– gain éšæ—¶é—´å˜åŒ–</span></span></code></pre></div><p><strong>æ•ˆæœ:</strong> çœŸå®æ„Ÿçš„æµåŠ¨äº‘æœµ,å¤©ç©ºé¢œè‰²æ¸å˜!</p><h3 id="_3-2-åº”ç”¨-2-ç¨‹åºåŒ–åœ°å½¢" tabindex="-1">3.2 åº”ç”¨ 2: ç¨‹åºåŒ–åœ°å½¢ <a class="header-anchor" href="#_3-2-åº”ç”¨-2-ç¨‹åºåŒ–åœ°å½¢" aria-label="Permalink to &quot;3.2 åº”ç”¨ 2: ç¨‹åºåŒ–åœ°å½¢&quot;">â€‹</a></h3><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragCoord.xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.xy;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ”¾å¤§5å€ â†’ åœ°å½¢ç»†èŠ‚åˆé€‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ”ï¸ ç”Ÿæˆé«˜åº¦å›¾ (0~1 èŒƒå›´,å¯ä»¥ç†è§£ä¸ºæµ·æ‹”é«˜åº¦)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> height </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¨ æ ¹æ®é«˜åº¦æ˜ å°„é¢œè‰² (æ¨¡æ‹ŸçœŸå®åœ°å½¢çš„é¢œè‰²åˆ†å±‚)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(height </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ğŸŒŠ æ°´é¢ (ä½æµ·æ‹” 0~0.3)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ·±è“è‰²</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(height </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ğŸ–ï¸ æ²™æ»©/æµ·å²¸ (æµ·æ‹” 0.3~0.5)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ²™é»„è‰²</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(height </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ğŸŒ² æ£®æ—/è‰åœ° (æµ·æ‹” 0.5~0.7)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ·±ç»¿è‰²</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // â›°ï¸ å±±é¡¶/é›ªå±± (é«˜æµ·æ‹” 0.7~1.0)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.95</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç™½è‰²/ç°è‰²</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ“ æ·»åŠ åœ°å½¢é˜´å½± (åŸºäºæ¢¯åº¦) - è®©åœ°å½¢æ›´ç«‹ä½“</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åŸç†: è®¡ç®—é«˜åº¦å˜åŒ–ç‡ â†’ å¡åº¦è¶Šé™¡è¶Šæš—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.01</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> height;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Xæ–¹å‘çš„é«˜åº¦å·®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.01</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> height;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Yæ–¹å‘çš„é«˜åº¦å·®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> slope </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dx, dy)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       // åˆæˆå¡åº¦ (3.0 æ˜¯å¢å¼ºç³»æ•°)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> slope </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é™¡å³­çš„åœ°æ–¹å‡å°‘äº®åº¦ (0.3 = é˜´å½±å¼ºåº¦)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ’¡ è¿›é˜¶ä¼˜åŒ–:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. æ·»åŠ å¹³æ»‘è¿‡æ¸¡: ç”¨ smoothstep æ›¿ä»£ if-else è®©é¢œè‰²æ¸å˜</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. æ·»åŠ ç»†èŠ‚: åœ¨æ¯ä¸ªé«˜åº¦å¸¦å åŠ å°å™ªå£° (å¦‚å²©çŸ³çº¹ç†)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. æ·»åŠ å…‰ç…§: æ ¹æ®å¡åº¦æ–¹å‘è®¡ç®—å…‰ç…§è§’åº¦</span></span></code></pre></div><h3 id="_3-3-åº”ç”¨-3-æœ¨çº¹çº¹ç†" tabindex="-1">3.3 åº”ç”¨ 3: æœ¨çº¹çº¹ç† <a class="header-anchor" href="#_3-3-åº”ç”¨-3-æœ¨çº¹çº¹ç†" aria-label="Permalink to &quot;3.3 åº”ç”¨ 3: æœ¨çº¹çº¹ç†&quot;">â€‹</a></h3><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragCoord.xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.xy;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ”¾å¤§5å€ â†’ æœ¨çº¹å°ºå¯¸åˆé€‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸªµ åˆ›å»ºå¹´è½®æ•ˆæœ (åŒå¿ƒåœ†)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åŸç†: ä»ä¸­å¿ƒå‘å¤–,è·ç¦»è¶Šè¿œå€¼è¶Šå¤§</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 center </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¸­å¿ƒç‚¹ (5.0 Ã— 0.5 = 2.5)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rings </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> center) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è·ç¦»ä¸­å¿ƒçš„åŠå¾„ Ã— 5 (æ§åˆ¶å¹´è½®å¯†åº¦)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸŒŠ ç”¨ fBm æ‰°åŠ¨å¹´è½® (æ¨¡æ‹Ÿè‡ªç„¶ç”Ÿé•¿çš„ä¸è§„åˆ™æ€§)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 noisePos </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> distortion </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(noisePos) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 0.3 = æ‰°åŠ¨å¼ºåº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rings </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> distortion;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å°†å™ªå£°æ·»åŠ åˆ°åŠå¾„ä¸Š â†’ å¹´è½®å˜å¾—ä¸è§„åˆ™</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¨ åˆ›å»ºæ¡çº¹ (å¹´è½®çš„æ˜æš—äº¤æ›¿)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pattern </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fract</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(rings);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å–å°æ•°éƒ¨åˆ† â†’ [0, 1] å¾ªç¯ â†’ å‘¨æœŸæ€§æ¡çº¹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pattern </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> smoothstep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, pattern);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è®©è¿‡æ¸¡æ›´å¹³æ»‘</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ•ˆæœ: 0.3ä»¥ä¸‹æ˜¯æ·±è‰², 0.7ä»¥ä¸Šæ˜¯æµ…è‰², ä¸­é—´å¹³æ»‘è¿‡æ¸¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸªµ æœ¨æé¢œè‰² (ä¸¤ç§æ£•è‰²)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 darkWood </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // æ·±è‰²å¹´è½® (æ·±æ£•)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 lightWood </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // æµ…è‰²å¹´è½® (æµ…æ£•)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(darkWood, lightWood, pattern);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ ¹æ® pattern æ··åˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âœ¨ æ·»åŠ æœ¨æå…‰æ³½ (ç»†å¾®çš„çº¹ç†ç»†èŠ‚)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grain </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é«˜é¢‘å™ªå£° (20.0) Ã— å°æŒ¯å¹… (0.1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grain;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ·»åŠ å¾®å°çš„äº®åº¦å˜åŒ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ’¡ è¿›é˜¶æŠ€å·§:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. åå¿ƒåœ†: ä¿®æ”¹ center ä½ç½®æ¨¡æ‹Ÿæ ‘æœ¨åˆ‡é¢</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. æ–¹å‘æ€§çº¹ç†: æ·»åŠ  sin(atan(st.y, st.x)) åˆ›é€ æœ¨æçº¤ç»´æ„Ÿ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. éšæœºåŒ–: ç”¨å™ªå£°æ§åˆ¶ darkWood å’Œ lightWood çš„é¢œè‰²</span></span></code></pre></div><h3 id="_3-4-åº”ç”¨-4-å¤§ç†çŸ³çº¹ç†" tabindex="-1">3.4 åº”ç”¨ 4: å¤§ç†çŸ³çº¹ç† <a class="header-anchor" href="#_3-4-åº”ç”¨-4-å¤§ç†çŸ³çº¹ç†" aria-label="Permalink to &quot;3.4 åº”ç”¨ 4: å¤§ç†çŸ³çº¹ç†&quot;">â€‹</a></h3><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragCoord.xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.xy;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ”¾å¤§3å€ â†’ çº¹ç†å°ºå¯¸é€‚ä¸­</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸŒ€ åˆ›å»ºæ‰­æ›²çš„æµåŠ¨æ„Ÿ (å¤§ç†çŸ³çš„åŸºç¡€æµå‘)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pattern </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åŸºç¡€å€¾æ–œçº¿ (45åº¦å€¾æ–œ)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è§£é‡Š: st.x æ˜¯æ°´å¹³æ–¹å‘, st.y*0.5 æ·»åŠ å€¾æ–œ,ç³»æ•°è¶Šå¤§å€¾æ–œè¶Šæ˜æ˜¾</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸŒŠ ç”¨å¤šå±‚ fBm åˆ›é€ å¤æ‚çš„æ‰­æ›² (æ¨¡æ‹Ÿåœ°è´¨å½¢å˜)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pattern </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¤§å°ºåº¦æ‰­æ›²</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pattern </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // ä¸­ç­‰å°ºåº¦æ‰­æ›²</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åŸç†: æ¯å±‚æ‰­æ›²é¢‘ç‡ç¿»å€,æŒ¯å¹…å‡åŠ â†’ ç±»ä¼¼fBmçš„æ€æƒ³</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¨ æ­£å¼¦æ³¢åˆ›é€ æ¡çº¹ (å¤§ç†çŸ³çš„çº¹ç†)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> marble </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> abs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pattern </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.14159</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // sinäº§ç”Ÿå‘¨æœŸæ€§,-1~1, abså˜ä¸º0~1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    marble </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(marble, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¹‚è¿ç®—è°ƒæ•´å¯¹æ¯”åº¦ (0.5ä½¿æ˜æš—æ›´å‡åŒ€)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ’¡ è°ƒæ•´ pow çš„æŒ‡æ•°å¯ä»¥æ”¹å˜çº¹ç†æ ·å¼:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // - pow(marble, 0.3): æ›´å¤šæµ…è‰²åŒºåŸŸ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // - pow(marble, 2.0): æ›´å¤šæ·±è‰²åŒºåŸŸ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ’ å¤§ç†çŸ³é¢œè‰² (ç»å…¸ç™½è‰²å¤§ç†çŸ³å¸¦é»‘è‰²çº¹ç†)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 veinColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ·±è‰²çº¹è·¯ (å‡ ä¹é»‘è‰²)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 baseColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.85</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // æµ…è‰²åº•è‰² (ç±³ç™½è‰²)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(veinColor, baseColor, marble);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // marble=0é»‘, marble=1ç™½</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âœ¨ æ·»åŠ ç»†å¾®çš„å™ªå£°ç»†èŠ‚ (å¾®è§‚è´¨æ„Ÿ)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> detail </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.05</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é«˜é¢‘ (10.0) å°æŒ¯å¹… (0.05)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> detail;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ’¡ å˜ä½“:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - ç»¿è‰²å¤§ç†çŸ³: baseColor = vec3(0.7, 0.9, 0.8)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - é‡‘è‰²å¤§ç†çŸ³: baseColor = vec3(1.0, 0.9, 0.7)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - æ›´å¯†é›†çš„çº¹è·¯: pattern * 6.28318 (2å€é¢‘ç‡)</span></span></code></pre></div><hr><h2 id="_4-ğŸŒ€-åŸŸæ‰­æ›²-domain-warping-å™ªå£°çš„å™ªå£°" tabindex="-1">4. ğŸŒ€ åŸŸæ‰­æ›² (Domain Warping) - å™ªå£°çš„å™ªå£° <a class="header-anchor" href="#_4-ğŸŒ€-åŸŸæ‰­æ›²-domain-warping-å™ªå£°çš„å™ªå£°" aria-label="Permalink to &quot;4. ğŸŒ€ åŸŸæ‰­æ›² (Domain Warping) - å™ªå£°çš„å™ªå£°&quot;">â€‹</a></h2><h3 id="_4-1-ğŸ¯-æ ¸å¿ƒæ€æƒ³" tabindex="-1">4.1 ğŸ¯ æ ¸å¿ƒæ€æƒ³ <a class="header-anchor" href="#_4-1-ğŸ¯-æ ¸å¿ƒæ€æƒ³" aria-label="Permalink to &quot;4.1 ğŸ¯ æ ¸å¿ƒæ€æƒ³&quot;">â€‹</a></h3><p>ä¸ç›´æ¥ä½¿ç”¨å™ªå£°,è€Œæ˜¯<strong>ç”¨å™ªå£°æ¥æ‰­æ›²åæ ‡ç³»</strong>,ç„¶ååœ¨æ‰­æ›²çš„ç©ºé—´ä¸­é‡‡æ ·å™ªå£°!</p><blockquote><p>ğŸ’¡ <strong>ç”Ÿæ´»ç±»æ¯”</strong>ï¼šæƒ³è±¡ä½ åœ¨çœ‹ä¸€å¼ ç…§ç‰‡</p><ul><li><strong>ä¼ ç»Ÿæ–¹å¼</strong>ï¼šç›´æ¥æ‹ç…§ â†’ å¾—åˆ°è§„åˆ™çš„å›¾åƒ</li><li><strong>åŸŸæ‰­æ›²</strong>ï¼šé€è¿‡æ°´é¢æ‹ç…§ â†’ æ°´æ³¢æ‰­æ›²äº†å½±åƒ,äº§ç”Ÿå¥‡å¦™æ•ˆæœ</li></ul></blockquote><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ä¼ ç»Ÿæ–¹å¼:              åŸŸæ‰­æ›²:</span></span>
<span class="line"><span>noise(x, y)           noise(x + noise(x,y), y + noise(x,y))</span></span>
<span class="line"><span>                            â†‘</span></span>
<span class="line"><span>                      ç”¨å™ªå£°åç§»åæ ‡!</span></span></code></pre></div><p><strong>å…³é”®ç†è§£ï¼š</strong></p><ol><li><strong>ç¬¬ä¸€æ­¥</strong>ï¼šç”Ÿæˆå™ªå£°A â†’ å¾—åˆ°åç§»é‡</li><li><strong>ç¬¬äºŒæ­¥</strong>ï¼šç”¨åç§»é‡ä¿®æ”¹åæ ‡ â†’ æ‰­æ›²çš„åæ ‡ç³»</li><li><strong>ç¬¬ä¸‰æ­¥</strong>ï¼šåœ¨æ‰­æ›²çš„åæ ‡ç³»ä¸­å†æ¬¡é‡‡æ ·å™ªå£°B â†’ å¤æ‚ç»“æœ</li></ol><p><strong>å¯è§†åŒ–:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>åŸå§‹ç½‘æ ¼:            æ‰­æ›²åçš„ç½‘æ ¼:</span></span>
<span class="line"><span>â”Œâ”€â”¬â”€â”¬â”€â”¬â”€â”           â•±â•²â•±â•²â•±â•²</span></span>
<span class="line"><span>â”œâ”€â”¼â”€â”¼â”€â”¼â”€â”¤          â•±â•² â•²â•± â•±â•²</span></span>
<span class="line"><span>â”œâ”€â”¼â”€â”¼â”€â”¼â”€â”¤         â•±  â•²â•±â•²â•±  â•²</span></span>
<span class="line"><span>â””â”€â”´â”€â”´â”€â”´â”€â”˜        â•±   â•±â•²â•±â•²   â•²</span></span>
<span class="line"><span>è§„æ•´              æ‰­æ›²å˜å½¢</span></span></code></pre></div><h3 id="_3-2-åŸºç¡€å®ç°" tabindex="-1">3.2 åŸºç¡€å®ç° <a class="header-anchor" href="#_3-2-åŸºç¡€å®ç°" aria-label="Permalink to &quot;3.2 åŸºç¡€å®ç°&quot;">â€‹</a></h3><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> noise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vec2 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ... (ä¹‹å‰çš„å™ªå£°å‡½æ•°)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vec2 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ... (ä¹‹å‰çš„ fBm å‡½æ•°)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸŒ€ åŸŸæ‰­æ›²ç‰ˆæœ¬çš„ fBm</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbmWarped</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vec2 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 1ï¸âƒ£ ç¬¬ä¸€æ¬¡æ‰­æ›² - ç”ŸæˆåŸºç¡€åç§»å‘é‡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 q </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)),</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     // Xæ–¹å‘çš„åç§»é‡ (ä»åŸå§‹ä½ç½®é‡‡æ ·)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Yæ–¹å‘çš„åç§»é‡ (ä»åç§»ä½ç½®é‡‡æ ·,ä¿è¯x/yç‹¬ç«‹)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ’¡ q çš„å€¼èŒƒå›´å¤§çº¦ [0, 1],è¡¨ç¤ºæ¯ä¸ªç‚¹è¦åç§»å¤šå°‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 2ï¸âƒ£ ç¬¬äºŒæ¬¡æ‰­æ›² (ç”¨ç¬¬ä¸€æ¬¡çš„ç»“æœ) - æ›´å¤æ‚çš„å˜å½¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> q </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)),</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç”¨qçš„4å€æ”¾å¤§æ‰­æ›²å¹…åº¦</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> q </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // å†åŠ ä¸Šéšæœºåç§»ä¿è¯å¤šæ ·æ€§</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ’¡ r åŸºäºå·²ç»æ‰­æ›²çš„åæ ‡(st + 4.0*q)å†æ¬¡æ‰­æ›² â†’ æ‰­æ›²çš„æ‰­æ›²!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 3ï¸âƒ£ æœ€ç»ˆé‡‡æ · - åœ¨åŒé‡æ‰­æ›²çš„ç©ºé—´ä¸­é‡‡æ ·</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> r);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ’¡ æœ€ç»ˆåæ ‡ = åŸå§‹åæ ‡ + 4å€çš„äºŒæ¬¡æ‰­æ›² â†’ æå…¶å¤æ‚çš„æœ‰æœºå½¢çŠ¶!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ“ å­¦ä¹ æç¤ºï¼š</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - å‚æ•° 4.0 æ§åˆ¶æ‰­æ›²å¼ºåº¦,å¯ä»¥å°è¯• 1.0 ~ 8.0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - vec2(5.2, 1.3) ç­‰æ˜¯&quot;é­”æ³•æ•°å­—&quot;,ç”¨æ¥é¿å…x/yæ–¹å‘çš„æ‰­æ›²ç›¸åŒ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - æ‰­æ›²æ¬¡æ•°è¶Šå¤š,æ•ˆæœè¶Šå¤æ‚,ä½†æ€§èƒ½è¶Šä½</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragCoord.xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.xy;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbmWarped</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>æ•ˆæœ:</strong> äº§ç”Ÿç±»ä¼¼<strong>ç«ç„°</strong>ã€<strong>æ¶²ä½“</strong>ã€<strong>æœ‰æœºç”Ÿç‰©</strong>çš„å¤æ‚çº¹ç†!</p><h3 id="_3-3-ğŸ¨-åŸŸæ‰­æ›²çš„è‰ºæœ¯åº”ç”¨" tabindex="-1">3.3 ğŸ¨ åŸŸæ‰­æ›²çš„è‰ºæœ¯åº”ç”¨ <a class="header-anchor" href="#_3-3-ğŸ¨-åŸŸæ‰­æ›²çš„è‰ºæœ¯åº”ç”¨" aria-label="Permalink to &quot;3.3 ğŸ¨ åŸŸæ‰­æ›²çš„è‰ºæœ¯åº”ç”¨&quot;">â€‹</a></h3><h4 id="_3-3-1-åº”ç”¨-1-ç«ç„°æ•ˆæœ" tabindex="-1">3.3.1 åº”ç”¨ 1: ç«ç„°æ•ˆæœ <a class="header-anchor" href="#_3-3-1-åº”ç”¨-1-ç«ç„°æ•ˆæœ" aria-label="Permalink to &quot;3.3.1 åº”ç”¨ 1: ç«ç„°æ•ˆæœ&quot;">â€‹</a></h4><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ“ åæ ‡é¢„å¤„ç†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragCoord.xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.xy;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.y;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¿®æ­£å®½é«˜æ¯”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // ä¸­å¿ƒåŒ–åˆ° [-0.5, 0.5]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç«ç„°ä»åº•éƒ¨å¼€å§‹ (å‘ä¸‹åç§»)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ”¥ å‘ä¸ŠæµåŠ¨ (æ¨¡æ‹Ÿç«ç„°ä¸Šå‡)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_time </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Yåæ ‡éšæ—¶é—´å¢åŠ  â†’ å›¾æ¡ˆå‘ä¸Šç§»åŠ¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸŒ€ åŸŸæ‰­æ›²åˆ›é€ ç«ç„°å½¢çŠ¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç¬¬ä¸€æ¬¡æ‰­æ›²: ç”Ÿæˆç«ç„°çš„åŸºç¡€æ‰­æ›²å‘é‡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 q </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    // Xæ–¹å‘çš„æ‰­æ›²</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Yæ–¹å‘çš„æ‰­æ›² (åç§»é¿å…é‡å¤)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç¬¬äºŒæ¬¡æ‰­æ›²: åœ¨æ‰­æ›²çš„åæ ‡ç³»ä¸­å†æ¬¡é‡‡æ ·</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> flame </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> q);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 4.0 æ§åˆ¶æ‰­æ›²å¼ºåº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¨ ç«ç„°é¢œè‰²æ˜ å°„ (ä»å¤–åˆ°å†…: æš—çº¢ â†’ æ©™ â†’ é»„)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é»„è‰² (æ ¸å¿ƒ,æœ€çƒ­)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ©™è‰² (ä¸­é—´)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ·±çº¢ (è¾¹ç¼˜,è¾ƒå†·)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ ¹æ® flame å€¼åˆ†æ®µæ··åˆé¢œè‰²</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color3, color2, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">smoothstep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, flame));</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä½å€¼: çº¢â†’æ©™</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, color1, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">smoothstep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, flame));</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // é«˜å€¼: æ©™â†’é»„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ“‰ åº•éƒ¨æ›´äº®,é¡¶éƒ¨æ›´æš— (æ¨¡æ‹Ÿç«ç„°è‡ªç„¶æ¶ˆæ•£)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // smoothstep(-0.5, 0.5, -st.y) çš„æ•ˆæœ:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // - åº•éƒ¨ (st.y=-0.3): è¾“å‡ºæ¥è¿‘1 (å®Œå…¨æ˜¾ç¤º)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // - é¡¶éƒ¨ (st.y=0.2): è¾“å‡ºæ¥è¿‘0 (é€æ¸æ¶ˆå¤±)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> smoothstep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">st.y);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ’¡ è°ƒä¼˜å»ºè®®:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - é€Ÿåº¦: ä¿®æ”¹ u_time * 0.2 çš„ç³»æ•° (0.1~0.5)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - æ‰­æ›²å¼ºåº¦: ä¿®æ”¹ 4.0 * q çš„ç³»æ•° (2.0~8.0)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - ç«ç„°é«˜åº¦: ä¿®æ”¹ st.y -= 0.3 çš„å€¼ (-0.5~0.0)</span></span></code></pre></div><h4 id="_3-3-2-åº”ç”¨-2-æ°´é¢æ³¢çº¹" tabindex="-1">3.3.2 åº”ç”¨ 2: æ°´é¢æ³¢çº¹ <a class="header-anchor" href="#_3-3-2-åº”ç”¨-2-æ°´é¢æ³¢çº¹" aria-label="Permalink to &quot;3.3.2 åº”ç”¨ 2: æ°´é¢æ³¢çº¹&quot;">â€‹</a></h4><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragCoord.xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.xy;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸŒŠ ç”¨åŸŸæ‰­æ›²æ¨¡æ‹Ÿæ°´æµ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 flow </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(u_time </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, u_time </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> water </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> flow);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸŒŠ åˆ›å»ºæ³¢çº¹é«˜å…‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> specular </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(water, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¨ æ°´çš„é¢œè‰²</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 deepWater </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 shallowWater </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 highlight </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.95</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(deepWater, shallowWater, water);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, highlight, specular);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="_5-ğŸ“-åˆ†å½¢å‡ ä½•-æ•°å­¦ä¹‹ç¾" tabindex="-1">5. ğŸ“ åˆ†å½¢å‡ ä½• - æ•°å­¦ä¹‹ç¾ <a class="header-anchor" href="#_5-ğŸ“-åˆ†å½¢å‡ ä½•-æ•°å­¦ä¹‹ç¾" aria-label="Permalink to &quot;5. ğŸ“ åˆ†å½¢å‡ ä½• - æ•°å­¦ä¹‹ç¾&quot;">â€‹</a></h2><p>é™¤äº†å™ªå£°,Shader è¿˜å¯ä»¥ç»˜åˆ¶ç»å…¸çš„<strong>åˆ†å½¢å‡ ä½•å›¾å½¢</strong>!</p><h3 id="_5-1-ğŸ”º-è°¢å°”å®¾æ–¯åŸºä¸‰è§’å½¢-sierpinski-triangle" tabindex="-1">5.1 ğŸ”º è°¢å°”å®¾æ–¯åŸºä¸‰è§’å½¢ (SierpiÅ„ski Triangle) <a class="header-anchor" href="#_5-1-ğŸ”º-è°¢å°”å®¾æ–¯åŸºä¸‰è§’å½¢-sierpinski-triangle" aria-label="Permalink to &quot;5.1 ğŸ”º è°¢å°”å®¾æ–¯åŸºä¸‰è§’å½¢ (SierpiÅ„ski Triangle)&quot;">â€‹</a></h3><p><strong>è§„åˆ™:</strong> ä»ä¸€ä¸ªä¸‰è§’å½¢å¼€å§‹,é€’å½’åœ°ç§»é™¤ä¸­é—´çš„ä¸‰è§’å½¢</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>è¿­ä»£0:     è¿­ä»£1:      è¿­ä»£2:</span></span>
<span class="line"><span>  â–²         â–²          â–²</span></span>
<span class="line"><span> â–¼â–¼        â–² â–²        â–² â–²</span></span>
<span class="line"><span>â–¼â–¼â–¼â–¼      â–²â–¼â–¼â–²      â–² â–² â–² â–²</span></span>
<span class="line"><span>                    â–²â–¼â–¼â–²â–¼â–¼â–²</span></span></code></pre></div><h4 id="_5-1-1-ğŸ”§-å®ç°æ–¹æ³•" tabindex="-1">5.1.1 ğŸ”§ å®ç°æ–¹æ³• <a class="header-anchor" href="#_5-1-1-ğŸ”§-å®ç°æ–¹æ³•" aria-label="Permalink to &quot;5.1.1 ğŸ”§ å®ç°æ–¹æ³•&quot;">â€‹</a></h4><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uniform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> triangle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vec2 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä½¿ç”¨ SDF å®šä¹‰ä¸‰è§’å½¢</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> abs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st.x) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.866025</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> step</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> step</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">st.y, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sierpinski</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vec2 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> iterations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> triangle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 scale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 offset </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> iterations) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æ£€æŸ¥æ˜¯å¦åœ¨ä¸­é—´çš„ä¸‰è§’å½¢å†… (è¦ç§»é™¤çš„éƒ¨åˆ†)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        vec2 st_scaled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">triangle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st_scaled) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // é€’å½’åˆ°å­ä¸‰è§’å½¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            st.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragCoord.xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.xy;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.y;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pattern </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sierpinski</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pattern);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_5-2-ğŸŒ€-æ›¼å¾·å¸ƒæ´›ç‰¹é›†-mandelbrot-set" tabindex="-1">5.2 ğŸŒ€ æ›¼å¾·å¸ƒæ´›ç‰¹é›† (Mandelbrot Set) <a class="header-anchor" href="#_5-2-ğŸŒ€-æ›¼å¾·å¸ƒæ´›ç‰¹é›†-mandelbrot-set" aria-label="Permalink to &quot;5.2 ğŸŒ€ æ›¼å¾·å¸ƒæ´›ç‰¹é›† (Mandelbrot Set)&quot;">â€‹</a></h3><blockquote><p>ğŸ’¡ <strong>ä»€ä¹ˆæ˜¯æ›¼å¾·å¸ƒæ´›ç‰¹é›†ï¼Ÿ</strong></p><p>æƒ³è±¡ä½ åœ¨ç©ä¸€ä¸ªæ¸¸æˆ:</p><ol><li>é€‰ä¸€ä¸ªèµ·ç‚¹ c (å¤æ•°åæ ‡)</li><li>ä» z=0 å¼€å§‹,ä¸æ–­é‡å¤è®¡ç®—: z = zÂ² + c</li><li>å¦‚æœ z çš„å€¼è¶Šæ¥è¶Šå¤§ â†’ c ä¸åœ¨é›†åˆé‡Œ (ç”¨é¢œè‰²æ ‡è®°å¤šå°‘æ­¥é€ƒé€¸)</li><li>å¦‚æœ z çš„å€¼å§‹ç»ˆå¾ˆå° â†’ c åœ¨é›†åˆé‡Œ (ç”¨é»‘è‰²è¡¨ç¤º)</li></ol><p><strong>è¿™å°±æ˜¯é‚£ä¸ªè‘—åçš„&quot;æ— é™æ”¾å¤§éƒ½æœ‰ç»†èŠ‚&quot;çš„åˆ†å½¢!</strong></p></blockquote><p><strong>æ•°å­¦å®šä¹‰:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>å¯¹äºå¤æ•° c = (x + yi),è¿­ä»£å…¬å¼:</span></span>
<span class="line"><span>zâ‚€ = 0</span></span>
<span class="line"><span>z_{n+1} = z_nÂ² + c</span></span>
<span class="line"><span></span></span>
<span class="line"><span>å¦‚æœ |z_n| åœ¨è¿­ä»£ä¸­ä¿æŒæœ‰ç•Œ (&lt; 2.0),åˆ™ c å±äºæ›¼å¾·å¸ƒæ´›ç‰¹é›†</span></span></code></pre></div><h4 id="_5-2-1-ğŸ”§-å®ç°" tabindex="-1">5.2.1 ğŸ”§ å®ç° <a class="header-anchor" href="#_5-2-1-ğŸ”§-å®ç°" aria-label="Permalink to &quot;5.2.1 ğŸ”§ å®ç°&quot;">â€‹</a></h4><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uniform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uniform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_mouse;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ“ åæ ‡å½’ä¸€åŒ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragCoord.xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.xy;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ˜ å°„åˆ° [-1, 1]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.y;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¿®æ­£å®½é«˜æ¯”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¯ ç¼©æ”¾åˆ°æ„Ÿå…´è¶£çš„åŒºåŸŸ (æ›¼å¾·å¸ƒæ´›ç‰¹é›†ä¸»ä½“åœ¨ [-2, 1] Ã— [-1.5, 1.5])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ’¡ st*2.0 æ”¾å¤§è§†é‡, -vec2(0.5, 0.0) å‘å³åç§»è®©é›†åˆå±…ä¸­</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸŒ€ è¿­ä»£è®¡ç®—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 z </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       // åˆå§‹å€¼ zâ‚€ = 0 (å¤æ•°è¡¨ç¤º: 0+0i)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> maxIterations </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æœ€å¤§è¿­ä»£æ¬¡æ•° (è¶Šå¤§è¶Šç²¾ç¡®ä½†è¶Šæ…¢)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> iterations </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       // è®°å½•å®é™…è¿­ä»£æ¬¡æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ğŸ“ å¤æ•°ä¹˜æ³•: zÂ² = (a+bi)Â² = (aÂ²-bÂ²) + (2ab)i</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        z </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            z.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> z.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> z.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> z.y,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å®éƒ¨: aÂ² - bÂ²</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            2.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> z.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> z.y</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         // è™šéƒ¨: 2ab</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åŠ ä¸Š c (æ ¸å¿ƒè¿­ä»£å…¬å¼)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // âœ… æ£€æŸ¥æ˜¯å¦å‘æ•£ (é€ƒé€¸åˆ¤å®š)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æ•°å­¦è¯æ˜: å¦‚æœ |z| &gt; 2, åˆ™ z ä¼šè¶‹å‘æ— ç©·</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(z) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            iterations </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è®°å½•åœ¨ç¬¬å‡ æ­¥é€ƒé€¸</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           // è·³å‡ºå¾ªç¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¦‚æœå¾ªç¯ç»“æŸè¿˜æ²¡è·³å‡º â†’ iterations=0 â†’ å±äºæ›¼å¾·å¸ƒæ´›ç‰¹é›†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¨ æ ¹æ®è¿­ä»£æ¬¡æ•°ç€è‰²</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> brightness </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(iterations) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(maxIterations);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // brightness: 0=ä»æœªé€ƒé€¸(é»‘è‰²), 1=ç«‹å³é€ƒé€¸(äº®è‰²)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸŒˆ å½©è™¹è‰²æ˜ å°„ (Inigo Quilez ç»å…¸æŠ€å·§)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        6.28318</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (brightness </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.33</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.67</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åŸç†: cos äº§ç”Ÿå‘¨æœŸæ€§é¢œè‰², vec3(0.0, 0.33, 0.67) æ˜¯ç›¸ä½åç§» (RGBä¸‰é€šé“)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âš« é›†åˆå†…éƒ¨ç”¨é»‘è‰²</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(iterations </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ’¡ äº¤äº’å¢å¼º:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. é¼ æ ‡ç¼©æ”¾: c = (st - u_mouse) * zoom + offset</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. å¹³æ»‘ç€è‰²: brightness = (i + 1 - log2(log2(length(z)))) / maxIterations</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. æé«˜ç²¾åº¦: ä½¿ç”¨åŒç²¾åº¦æµ®ç‚¹ (ä½†GLSL ESä¸æ”¯æŒ)</span></span></code></pre></div><p><strong>æ•ˆæœ:</strong> æ— é™å¤æ‚çš„åˆ†å½¢è¾¹ç•Œ,å¯ä»¥æ— é™æ”¾å¤§!è¾¹ç•Œå¤„çš„ç»†èŠ‚æ°¸è¿œæ¢ç´¢ä¸å®Œã€‚</p><h3 id="_5-3-ğŸŒ¿-ç§‘èµ«é›ªèŠ±-koch-snowflake" tabindex="-1">5.3 ğŸŒ¿ ç§‘èµ«é›ªèŠ± (Koch Snowflake) <a class="header-anchor" href="#_5-3-ğŸŒ¿-ç§‘èµ«é›ªèŠ±-koch-snowflake" aria-label="Permalink to &quot;5.3 ğŸŒ¿ ç§‘èµ«é›ªèŠ± (Koch Snowflake)&quot;">â€‹</a></h3><p><strong>è§„åˆ™:</strong> å°†æ¯æ¡ç›´çº¿æ®µçš„ä¸­é—´ä¸‰åˆ†ä¹‹ä¸€æ›¿æ¢ä¸ºç­‰è¾¹ä¸‰è§’å½¢çš„ä¸¤è¾¹</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>è¿­ä»£0: _______________</span></span>
<span class="line"><span>è¿­ä»£1: ____â•±â•²____</span></span>
<span class="line"><span>è¿­ä»£2: __â•±â•²â•±  â•²â•±â•²__</span></span></code></pre></div><p>è¿™ä¸ªéœ€è¦ç”¨ SDF å’Œå¸ƒå°”è¿ç®—å®ç°,è¾ƒä¸ºå¤æ‚,å»ºè®®ä½¿ç”¨é€’å½’ç»˜åˆ¶ã€‚</p><hr><h2 id="_6-ğŸ¨-ç¨‹åºåŒ–å›¾æ¡ˆè®¾è®¡" tabindex="-1">6. ğŸ¨ ç¨‹åºåŒ–å›¾æ¡ˆè®¾è®¡ <a class="header-anchor" href="#_6-ğŸ¨-ç¨‹åºåŒ–å›¾æ¡ˆè®¾è®¡" aria-label="Permalink to &quot;6. ğŸ¨ ç¨‹åºåŒ–å›¾æ¡ˆè®¾è®¡&quot;">â€‹</a></h2><h3 id="_6-1-ğŸ“-ç“·ç –å›¾æ¡ˆ-tiling-patterns" tabindex="-1">6.1 ğŸ“ ç“·ç –å›¾æ¡ˆ (Tiling Patterns) <a class="header-anchor" href="#_6-1-ğŸ“-ç“·ç –å›¾æ¡ˆ-tiling-patterns" aria-label="Permalink to &quot;6.1 ğŸ“ ç“·ç –å›¾æ¡ˆ (Tiling Patterns)&quot;">â€‹</a></h3><p>åˆ©ç”¨ <code>mod</code> å’Œ <code>fract</code> åˆ›å»ºé‡å¤å›¾æ¡ˆ:</p><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragCoord.xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.xy;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 10x10 ç½‘æ ¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¨ æ–¹æ¡ˆ1: æ£‹ç›˜æ ¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 grid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> floor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> checker </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(grid.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grid.y, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¨ æ–¹æ¡ˆ2: æ¯ä¸ªæ ¼å­å†…ç”»åœ†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 localSt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fract</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å±€éƒ¨åæ ‡ (0~1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    localSt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¸­å¿ƒåŒ–</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> circle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> smoothstep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.21</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(localSt));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¨ æ–¹æ¡ˆ3: ç –å¢™å›¾æ¡ˆ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> row </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> floor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st.y);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> step</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(row, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¥‡æ•°è¡Œåç§»</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 brickSt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fract</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> brick </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> step</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.05</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, brickSt.x) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> step</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.05</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, brickSt.y);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(brick);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_6-2-ğŸ”·-ä¼Šæ–¯å…°å‡ ä½•å›¾æ¡ˆ" tabindex="-1">6.2 ğŸ”· ä¼Šæ–¯å…°å‡ ä½•å›¾æ¡ˆ <a class="header-anchor" href="#_6-2-ğŸ”·-ä¼Šæ–¯å…°å‡ ä½•å›¾æ¡ˆ" aria-label="Permalink to &quot;6.2 ğŸ”· ä¼Šæ–¯å…°å‡ ä½•å›¾æ¡ˆ&quot;">â€‹</a></h3><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PI</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.14159265359</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TWO_PI</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6.28318530718</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uniform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸŒŸ æ—‹è½¬å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">mat2</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rotate2d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> angle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mat2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(angle), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(angle), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(angle), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(angle));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ“ åæ ‡å½’ä¸€åŒ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec2 st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragCoord.xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.xy;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä» [0,1] æ˜ å°„åˆ° [-1,1]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.y;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¿®æ­£å®½é«˜æ¯”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ”· åˆ›å»º8é‡å¯¹ç§° (ç«ç‘°çª—æ•ˆæœ)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> angle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> atan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st.y, st.x);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è·å–æåæ ‡è§’åº¦ [-Ï€, Ï€]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> radius </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       // è·å–è·ç¦»ä¸­å¿ƒçš„åŠå¾„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸª æŠ˜å åˆ°1/8æ‰‡å½¢ (360Â° Ã· 8 = 45Â°)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åŸç†: å°†æ‰€æœ‰è§’åº¦æ˜ å°„åˆ° [0, 45Â°] èŒƒå›´å†…</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    angle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(angle, TWO_PI </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å–æ¨¡åˆ° [0, 45Â°]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    angle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> abs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(angle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TWO_PI </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // é•œåƒæŠ˜å ,è½´çº¿åœ¨ 22.5Â°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ”„ é‡å»ºåæ ‡ (ä»æåæ ‡è½¬å›ç¬›å¡å°”åæ ‡)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(angle), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(angle)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> radius;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç°åœ¨ st åœ¨æŠ˜å åçš„ç©ºé—´ä¸­,ç»˜åˆ¶ä¸€æ¬¡å›¾æ¡ˆä¼šè‡ªåŠ¨å¤åˆ¶8æ¬¡!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ¨ åœ¨æŠ˜å ç©ºé—´ä¸­ç»˜åˆ¶ç®€å•å›¾æ¡ˆ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pattern </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç»˜åˆ¶å‚ç›´æ¡çº¹ (è·ç¦»Yè½´0.3å•ä½çš„çº¿)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pattern </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> step</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st.x) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç»˜åˆ¶æ°´å¹³æ¡çº¹ (è·ç¦»Xè½´0.5å•ä½çš„çº¿)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pattern </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> step</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st.y) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pattern);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ğŸ’¡ åŸç†è§£é‡Š:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - å¯¹ç§°æŠ˜å : åªç”» 1/8,å…¶ä½™ 7/8 è‡ªåŠ¨é•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - è§’åº¦æŠ˜å : mod() åˆ›é€ æ—‹è½¬å¯¹ç§°, abs() åˆ›é€ é•œåƒå¯¹ç§°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - å®ç”¨æŠ€å·§: ä¿®æ”¹ TWO_PI/8.0 ä¸º TWO_PI/6.0 å¯å¾—6é‡å¯¹ç§°(é›ªèŠ±)</span></span></code></pre></div><hr><h2 id="_7-æœ¬ç« æ€»ç»“" tabindex="-1">7. æœ¬ç« æ€»ç»“ <a class="header-anchor" href="#_7-æœ¬ç« æ€»ç»“" aria-label="Permalink to &quot;7. æœ¬ç« æ€»ç»“&quot;">â€‹</a></h2><h3 id="_7-1-ä½ å­¦åˆ°äº†ä»€ä¹ˆ" tabindex="-1">7.1 ä½ å­¦åˆ°äº†ä»€ä¹ˆ <a class="header-anchor" href="#_7-1-ä½ å­¦åˆ°äº†ä»€ä¹ˆ" aria-label="Permalink to &quot;7.1 ä½ å­¦åˆ°äº†ä»€ä¹ˆ&quot;">â€‹</a></h3><p><strong>åˆ†å½¢å¸ƒæœ—è¿åŠ¨ (fBm):</strong></p><ul><li>ğŸŒŠ å¤šå±‚å™ªå£°å åŠ çš„åŸç† - ä½é¢‘æ§åˆ¶è½®å»“,é«˜é¢‘æ§åˆ¶ç»†èŠ‚</li><li>âš™ï¸ octaves, lacunarity, gain å‚æ•°çš„ä½œç”¨ - æ§åˆ¶å¤æ‚åº¦ä¸æ€§èƒ½å¹³è¡¡</li><li>ğŸ¨ åº”ç”¨: äº‘æœµã€åœ°å½¢ã€æœ¨çº¹ã€å¤§ç†çŸ³ - æ¶µç›–è‡ªç„¶ä¸äººå·¥çº¹ç†</li></ul><p><strong>åŸŸæ‰­æ›²:</strong></p><ul><li>ğŸŒ€ ç”¨å™ªå£°æ‰­æ›²åæ ‡ç³» - &quot;å™ªå£°çš„å™ªå£°&quot;åˆ›é€ å¤æ‚æ•ˆæœ</li><li>ğŸ”¥ åˆ›é€ æœ‰æœºã€æµåŠ¨çš„æ•ˆæœ - ç«ç„°ã€çƒŸé›¾ã€æ¶²ä½“çš„æ ¸å¿ƒæŠ€æœ¯</li><li>ğŸ¨ åº”ç”¨: ç«ç„°ã€æ°´é¢ã€æ¶²ä½“ - æ¨¡æ‹ŸåŠ¨æ€è‡ªç„¶ç°è±¡</li></ul><p><strong>åˆ†å½¢å‡ ä½•:</strong></p><ul><li>ğŸ”º è°¢å°”å®¾æ–¯åŸºä¸‰è§’å½¢ - é€’å½’åˆ†å‰²çš„ç»å…¸æ¡ˆä¾‹</li><li>ğŸŒ€ æ›¼å¾·å¸ƒæ´›ç‰¹é›† - æ— é™å¤æ‚çš„æ•°å­¦ç¾</li><li>ğŸ“ è‡ªç›¸ä¼¼ç»“æ„ - ç†è§£åˆ†å½¢çš„æ•°å­¦æœ¬è´¨</li></ul><p><strong>ç¨‹åºåŒ–å›¾æ¡ˆ:</strong></p><ul><li>ğŸ“ ç“·ç –å’Œé‡å¤å›¾æ¡ˆ - åˆ©ç”¨ mod/fract åˆ›é€ æ— ç¼çº¹ç†</li><li>ğŸ”· å¯¹ç§°å’ŒæŠ˜å æŠ€æœ¯ - ç”¨ç®€å•ä»£ç åˆ›é€ å¤æ‚å‡ ä½•</li><li>ğŸ¨ ä¼Šæ–¯å…°å‡ ä½•çº¹æ · - è‰ºæœ¯ä¸æ•°å­¦çš„ç»“åˆ</li></ul><h3 id="_7-2-å…³é”®æŠ€æœ¯å›é¡¾" tabindex="-1">7.2 å…³é”®æŠ€æœ¯å›é¡¾ <a class="header-anchor" href="#_7-2-å…³é”®æŠ€æœ¯å›é¡¾" aria-label="Permalink to &quot;7.2 å…³é”®æŠ€æœ¯å›é¡¾&quot;">â€‹</a></h3><h4 id="_7-2-1-ğŸ“-æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”" tabindex="-1">7.2.1 ğŸ“ æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯” <a class="header-anchor" href="#_7-2-1-ğŸ“-æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”" aria-label="Permalink to &quot;7.2.1 ğŸ“ æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”&quot;">â€‹</a></h4><table><thead><tr><th>æŠ€æœ¯</th><th>é€‚ç”¨åœºæ™¯</th><th>æ€§èƒ½å¼€é”€</th><th>å­¦ä¹ éš¾åº¦</th></tr></thead><tbody><tr><td><strong>å•å±‚å™ªå£°</strong></td><td>ç®€å•çº¹ç†,æ°´æ³¢</td><td>ä½ âš¡</td><td>å…¥é—¨</td></tr><tr><td><strong>fBm</strong></td><td>è‡ªç„¶åœ°å½¢,äº‘æœµ</td><td>ä¸­ âš¡âš¡</td><td>ä¸­çº§</td></tr><tr><td><strong>åŸŸæ‰­æ›²</strong></td><td>ç«ç„°,æœ‰æœºç‰©</td><td>é«˜ âš¡âš¡âš¡</td><td>é«˜çº§</td></tr><tr><td><strong>åˆ†å½¢å‡ ä½•</strong></td><td>è‰ºæœ¯æ•ˆæœ</td><td>æé«˜ âš¡âš¡âš¡âš¡</td><td>ä¸“å®¶</td></tr></tbody></table><h4 id="_7-2-2-ğŸ› ï¸-å®ç”¨æŠ€å·§æ€»ç»“" tabindex="-1">7.2.2 ğŸ› ï¸ å®ç”¨æŠ€å·§æ€»ç»“ <a class="header-anchor" href="#_7-2-2-ğŸ› ï¸-å®ç”¨æŠ€å·§æ€»ç»“" aria-label="Permalink to &quot;7.2.2 ğŸ› ï¸ å®ç”¨æŠ€å·§æ€»ç»“&quot;">â€‹</a></h4><ol><li><p><strong>æ€§èƒ½ä¼˜åŒ–</strong></p><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¹æ®è·ç¦»åŠ¨æ€è°ƒæ•´è´¨é‡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dist </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cameraPos </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fragPos);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> octaves </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dist </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è¿‘å¤„é«˜è´¨é‡,è¿œå¤„ä½è´¨é‡</span></span></code></pre></div></li><li><p><strong>æ—¶é—´åŠ¨ç”»</strong></p><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®©å™ªå£°éšæ—¶é—´æ¼”åŒ–</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> animatedPos </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(u_time </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(animatedPos);</span></span></code></pre></div></li><li><p><strong>å¤šå±‚æ··åˆ</strong></p><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç»„åˆä¸åŒé¢‘ç‡çš„æ•ˆæœ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           // åŸºç¡€å±‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> detail </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // ç»†èŠ‚å±‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.7</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> detail </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åŠ æƒæ··åˆ</span></span></code></pre></div></li><li><p><strong>é¢œè‰²æ˜ å°„æŠ€å·§</strong></p><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å½©è™¹è‰²æ˜ å°„ (Inigo Quilez æŠ€å·§)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> cos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6.28318</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.33</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.67</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)));</span></span></code></pre></div></li></ol><h4 id="_7-2-3-âš ï¸-åˆå­¦è€…æ˜“é”™ç‚¹" tabindex="-1">7.2.3 âš ï¸ åˆå­¦è€…æ˜“é”™ç‚¹ <a class="header-anchor" href="#_7-2-3-âš ï¸-åˆå­¦è€…æ˜“é”™ç‚¹" aria-label="Permalink to &quot;7.2.3 âš ï¸ åˆå­¦è€…æ˜“é”™ç‚¹&quot;">â€‹</a></h4><ol><li><p><strong>å¿˜è®°å½’ä¸€åŒ–åæ ‡</strong> â†’ å›¾æ¡ˆå˜å½¢</p><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">st.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> u_resolution.y;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¿®æ­£å®½é«˜æ¯”</span></span></code></pre></div></li><li><p><strong>é¢œè‰²å€¼è¶…å‡ºèŒƒå›´</strong> â†’ ç”»é¢è¿‡æ›</p><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> clamp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(color, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é™åˆ¶åˆ°åˆæ³•èŒƒå›´</span></span></code></pre></div></li><li><p><strong>å¾ªç¯æ¬¡æ•°ä¸åŒ¹é…</strong> â†’ ç¼–è¯‘é”™è¯¯</p><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> octaves) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // GLSL è¦æ±‚å¾ªç¯ä¸Šé™æ˜¯å¸¸é‡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ol><h3 id="_7-3-æ¨èç»ƒä¹ -æŒ‰éš¾åº¦é€’å¢" tabindex="-1">7.3 æ¨èç»ƒä¹  (æŒ‰éš¾åº¦é€’å¢) <a class="header-anchor" href="#_7-3-æ¨èç»ƒä¹ -æŒ‰éš¾åº¦é€’å¢" aria-label="Permalink to &quot;7.3 æ¨èç»ƒä¹  (æŒ‰éš¾åº¦é€’å¢)&quot;">â€‹</a></h3><h4 id="_7-3-1-ğŸŒ±-åˆçº§-å·©å›ºåŸºç¡€" tabindex="-1">7.3.1 ğŸŒ± åˆçº§ (å·©å›ºåŸºç¡€) <a class="header-anchor" href="#_7-3-1-ğŸŒ±-åˆçº§-å·©å›ºåŸºç¡€" aria-label="Permalink to &quot;7.3.1 ğŸŒ± åˆçº§ (å·©å›ºåŸºç¡€)&quot;">â€‹</a></h4><ol><li><p><strong>å‚æ•°å®éªŒ</strong></p><ul><li>ä¿®æ”¹ octaves, lacunarity, gain è§‚å¯Ÿæ•ˆæœ</li><li>å°è¯•ä¸åŒç»„åˆæ‰¾åˆ°æœ€ä½³é…ç½®</li><li>è®°å½•å‚æ•°ä¸æ•ˆæœçš„å…³ç³»</li></ul></li><li><p><strong>ç®€å•åŠ¨ç”»</strong></p><ul><li>è®©äº‘æœµå·¦å³é£˜åŠ¨</li><li>è®©ç«ç„°ä¸Šä¸‹è·³åŠ¨</li><li>ç”¨ sin(u_time) åˆ›é€ å‘¨æœŸæ€§å˜åŒ–</li></ul></li></ol><h4 id="_7-3-2-ğŸŒ¿-ä¸­çº§-ç»¼åˆåº”ç”¨" tabindex="-1">7.3.2 ğŸŒ¿ ä¸­çº§ (ç»¼åˆåº”ç”¨) <a class="header-anchor" href="#_7-3-2-ğŸŒ¿-ä¸­çº§-ç»¼åˆåº”ç”¨" aria-label="Permalink to &quot;7.3.2 ğŸŒ¿ ä¸­çº§ (ç»¼åˆåº”ç”¨)&quot;">â€‹</a></h4><ol start="3"><li><p><strong>åŠ¨æ€äº‘å±‚</strong></p><ul><li>ä½¿ç”¨ fBm ç”Ÿæˆäº‘</li><li>æ·»åŠ å¤šå±‚äº‘å±‚æ·±åº¦æ„Ÿ (è¿œè¿‘ä¸åŒé€Ÿåº¦)</li><li>å®ç°æ—¥å‡ºæ—¥è½çš„é¢œè‰²å˜åŒ–</li></ul></li><li><p><strong>ç¨‹åºåŒ–è¡Œæ˜Ÿè¡¨é¢</strong></p><ul><li>fBm ç”Ÿæˆé«˜åº¦å›¾</li><li>æ ¹æ®é«˜åº¦åˆ†å±‚ç€è‰² (æµ·æ´‹/é™†åœ°/é›ªå±±)</li><li>æ·»åŠ å¤§æ°”å±‚æ•ˆæœ (è¾¹ç¼˜æ¸å˜)</li></ul></li></ol><h4 id="_7-3-3-ğŸŒ³-é«˜çº§-æŒ‘æˆ˜è‡ªæˆ‘" tabindex="-1">7.3.3 ğŸŒ³ é«˜çº§ (æŒ‘æˆ˜è‡ªæˆ‘) <a class="header-anchor" href="#_7-3-3-ğŸŒ³-é«˜çº§-æŒ‘æˆ˜è‡ªæˆ‘" aria-label="Permalink to &quot;7.3.3 ğŸŒ³ é«˜çº§ (æŒ‘æˆ˜è‡ªæˆ‘)&quot;">â€‹</a></h4><ol start="5"><li><p><strong>äº¤äº’å¼æ›¼å¾·å¸ƒæ´›ç‰¹é›†</strong></p><ul><li>é¼ æ ‡æ§åˆ¶ç¼©æ”¾å’Œå¹³ç§»</li><li>å½©è‰²è¿­ä»£æ˜ å°„ (å½©è™¹æ•ˆæœ)</li><li>å®ç°å¹³æ»‘ç€è‰²ç®—æ³• (é¿å…è‰²å¸¦)</li></ul></li><li><p><strong>åˆ†å½¢æ ‘</strong></p><ul><li>ç”¨é€’å½’æ€æƒ³ç»˜åˆ¶æ ‘æ</li><li>æ·»åŠ éšæœºæ‰°åŠ¨ (æ¯æ ¹æ ‘æç•¥æœ‰ä¸åŒ)</li><li>å®ç°é£å¹åŠ¨ç”» (åŸŸæ‰­æ›²åº”ç”¨)</li></ul></li></ol><h4 id="_7-3-4-ğŸ’¡-è°ƒè¯•æŠ€å·§" tabindex="-1">7.3.4 ğŸ’¡ è°ƒè¯•æŠ€å·§ <a class="header-anchor" href="#_7-3-4-ğŸ’¡-è°ƒè¯•æŠ€å·§" aria-label="Permalink to &quot;7.3.4 ğŸ’¡ è°ƒè¯•æŠ€å·§&quot;">â€‹</a></h4><ul><li><strong>å¯è§†åŒ–ä¸­é—´æ­¥éª¤</strong>: æŠŠæ¯ä¸ªoctaveå•ç‹¬è¾“å‡ºçœ‹æ•ˆæœ<div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">gl_FragColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">noise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> frequency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åªçœ‹æŸä¸€å±‚</span></span></code></pre></div></li><li><strong>ä½¿ç”¨è°ƒè¯•é¢œè‰²</strong>: ç”¨é¢œè‰²æ ‡è®°ä¸åŒåŒºåŸŸ<div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // çº¢è‰²æ ‡è®°ä½å€¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              // ç»¿è‰²æ ‡è®°é«˜å€¼</span></span></code></pre></div></li></ul><h3 id="_7-4-å¿«é€Ÿå‚è€ƒå¡ç‰‡" tabindex="-1">7.4 å¿«é€Ÿå‚è€ƒå¡ç‰‡ <a class="header-anchor" href="#_7-4-å¿«é€Ÿå‚è€ƒå¡ç‰‡" aria-label="Permalink to &quot;7.4 å¿«é€Ÿå‚è€ƒå¡ç‰‡&quot;">â€‹</a></h3><h4 id="_7-4-1-ğŸ“‹-fbm-æ ‡å‡†æ¨¡æ¿" tabindex="-1">7.4.1 ğŸ“‹ fBm æ ‡å‡†æ¨¡æ¿ <a class="header-anchor" href="#_7-4-1-ğŸ“‹-fbm-æ ‡å‡†æ¨¡æ¿" aria-label="Permalink to &quot;7.4.1 ğŸ“‹ fBm æ ‡å‡†æ¨¡æ¿&quot;">â€‹</a></h4><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vec2 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">st</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> octaves</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> lacunarity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> gain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> amplitude </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> frequency </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æœ€å¤§å¾ªç¯æ¬¡æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> octaves) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> amplitude </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> noise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> frequency);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        frequency </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lacunarity;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        amplitude </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gain;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ç¤ºä¾‹:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 6å±‚,é¢‘ç‡ç¿»å€,æŒ¯å¹…å‡åŠ</span></span></code></pre></div><h4 id="_7-4-2-ğŸ¨-å¸¸ç”¨å‚æ•°é…ç½®é€ŸæŸ¥" tabindex="-1">7.4.2 ğŸ¨ å¸¸ç”¨å‚æ•°é…ç½®é€ŸæŸ¥ <a class="header-anchor" href="#_7-4-2-ğŸ¨-å¸¸ç”¨å‚æ•°é…ç½®é€ŸæŸ¥" aria-label="Permalink to &quot;7.4.2 ğŸ¨ å¸¸ç”¨å‚æ•°é…ç½®é€ŸæŸ¥&quot;">â€‹</a></h4><div class="language-glsl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">glsl</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è‡ªç„¶åœ°å½¢</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æŸ”å’Œäº‘æœµ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç²—ç³™å²©çŸ³</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¹³æ»‘æ°´é¢</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç«ç„°/é—ªç”µ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fbm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(st, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h4 id="_7-4-3-ğŸ”§-æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•" tabindex="-1">7.4.3 ğŸ”§ æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å• <a class="header-anchor" href="#_7-4-3-ğŸ”§-æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•" aria-label="Permalink to &quot;7.4.3 ğŸ”§ æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•&quot;">â€‹</a></h4><ul><li>[ ] octaves æ˜¯å¦ â‰¤ 8?</li><li>[ ] æ˜¯å¦å¤ç”¨è®¡ç®—ç»“æœ?</li><li>[ ] æ˜¯å¦éœ€è¦ LOD (è¿œå¤„é™ä½è´¨é‡)?</li><li>[ ] æ˜¯å¦å¯ä»¥é¢„è®¡ç®—é™æ€éƒ¨åˆ†?</li><li>[ ] å¾ªç¯ä¸Šé™æ˜¯å¦æ˜¯å¸¸é‡?</li></ul><h4 id="_7-4-4-ğŸ›-è°ƒè¯•æ£€æŸ¥æ¸…å•" tabindex="-1">7.4.4 ğŸ› è°ƒè¯•æ£€æŸ¥æ¸…å• <a class="header-anchor" href="#_7-4-4-ğŸ›-è°ƒè¯•æ£€æŸ¥æ¸…å•" aria-label="Permalink to &quot;7.4.4 ğŸ› è°ƒè¯•æ£€æŸ¥æ¸…å•&quot;">â€‹</a></h4><ul><li>[ ] åæ ‡æ˜¯å¦å½’ä¸€åŒ–?</li><li>[ ] å®½é«˜æ¯”æ˜¯å¦ä¿®æ­£?</li><li>[ ] é¢œè‰²å€¼æ˜¯å¦åœ¨ [0,1] èŒƒå›´?</li><li>[ ] å™ªå£°å‡½æ•°æ˜¯å¦æ­£ç¡®å®ç°?</li><li>[ ] uniform å˜é‡æ˜¯å¦æ­£ç¡®ä¼ é€’?</li></ul><h3 id="_7-5-å‚è€ƒèµ„æº" tabindex="-1">7.5 å‚è€ƒèµ„æº <a class="header-anchor" href="#_7-5-å‚è€ƒèµ„æº" aria-label="Permalink to &quot;7.5 å‚è€ƒèµ„æº&quot;">â€‹</a></h3><p><strong>æ ¸å¿ƒæ•™ç¨‹:</strong></p><ul><li><a href="https://iquilezles.org/articles/fbm/" target="_blank" rel="noreferrer">Inigo Quilez - FBM</a> - fBm çš„æƒå¨æŒ‡å—</li><li><a href="https://iquilezles.org/articles/warp/" target="_blank" rel="noreferrer">Inigo Quilez - Domain Warping</a> - åŸŸæ‰­æ›²æ·±åº¦è§£æ</li><li><a href="https://thebookofshaders.com/13/" target="_blank" rel="noreferrer">The Book of Shaders - Fractal Brownian Motion</a> - äº¤äº’å¼æ•™ç¨‹</li></ul><p><strong>æ•°å­¦èƒŒæ™¯:</strong></p><ul><li><a href="https://en.wikipedia.org/wiki/Fractal" target="_blank" rel="noreferrer">Wikipedia - Fractal</a> - åˆ†å½¢æ•°å­¦ç†è®º</li><li><a href="https://en.wikipedia.org/wiki/Brownian_motion" target="_blank" rel="noreferrer">Wikipedia - Brownian Motion</a> - å¸ƒæœ—è¿åŠ¨åŸç†</li></ul><p><strong>å®æˆ˜æ¡ˆä¾‹:</strong></p><ul><li><a href="https://www.shadertoy.com/view/XslGRr" target="_blank" rel="noreferrer">Shadertoy - Clouds</a> - Inigo Quilez çš„ç»å…¸äº‘æœµ</li><li><a href="https://www.shadertoy.com/view/Ms2SD1" target="_blank" rel="noreferrer">Shadertoy - Seascape</a> - ç¨‹åºåŒ–æµ·æ´‹</li><li><a href="https://www.shadertoy.com/view/XsX3RB" target="_blank" rel="noreferrer">Shadertoy - Volcanic</a> - ç«å±±æ•ˆæœ</li></ul><hr>`,148),k=[l];function p(t,e,E,r,d,g){return a(),i("div",null,k)}const c=s(h,[["render",p]]);export{F as __pageData,c as default};
