(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{615:function(n,a,e){"use strict";e.r(a);var t=e(2),r=Object(t.a)({},(function(){var n=this,a=n._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h2",{attrs:{id:"js将base64转为pdf文件并实现预览功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js将base64转为pdf文件并实现预览功能"}},[n._v("#")]),n._v(" js将base64转为pdf文件并实现预览功能")]),n._v(" "),a("h3",{attrs:{id:"方式一-通过img标签或者iframe标签的src进行输出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式一-通过img标签或者iframe标签的src进行输出"}},[n._v("#")]),n._v(" 方式一： 通过img标签或者iframe标签的src进行输出")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[n._v('```js  \n    <img class="img" src="data:image/jpg;base64,{base64}" >\n    <iframe  :src="\'data:application/pdf;base64,\'+basedatapdf"></iframe>\n\n```   \n')])])]),a("h3",{attrs:{id:"方式二-通过blob对象进行输出-推荐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式二-通过blob对象进行输出-推荐"}},[n._v("#")]),n._v(" 方式二： 通过Blob对象进行输出(推荐)")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[n._v("```js  \n    viewPdf (content) {\n      const blob = this.base64ToBlob(content)\n      if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        window.navigator.msSaveOrOpenBlob(blob)\n      } else {\n        const fileURL = URL.createObjectURL(blob)\n        \n        //1. 新页面打开pdf\n        window.open(fileURL) \n        \n        //2. 下载dpf用这个\n        const a = document.createElement('a')\n        a.href = fileURL\n        a.download = name + '.pdf'\n        document.body.appendChild(a)\n        a.click()\n        document.body.removeChild(a)\n        \n        //3. 用本地img、iframe展示pdf\n        document.querySelector('.iframe').src = fileURL\n        \n        //删除url绑定\n        window.URL.revokeObjectURL(fileURL)\n      }\n    },\n    base64ToBlob (code) {\n      code = code.replace(/[\\n\\r]/g, '')\n      const raw = window.atob(code)\n      const rawLength = raw.length\n      const uInt8Array = new Uint8Array(rawLength)\n      while (rawLength--) {uInt8Array[rawLength] = bstr.charCodeAt(rawLength);}\n      return new Blob([uInt8Array], { type: 'application/pdf' })\n    }    \n```\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);