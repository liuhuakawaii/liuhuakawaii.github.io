import{_ as s,c as i,o as a,a7 as n}from"./chunks/framework.DLSH1pMh.js";const c=JSON.parse('{"title":"æ·±å…¥ç†è§£DOMäº‹ä»¶æœºåˆ¶ï¼šä¸ºä»€ä¹ˆå¼‚æ­¥æ“ä½œåcurrentTargetæ˜¯nullï¼Ÿ","description":"","frontmatter":{"title":"æ·±å…¥ç†è§£DOMäº‹ä»¶æœºåˆ¶ï¼šä¸ºä»€ä¹ˆå¼‚æ­¥æ“ä½œåcurrentTargetæ˜¯nullï¼Ÿ","date":"2025-08-26T00:00:00.000Z","categories":["å‰ç«¯è¿›é˜¶","å·¥ä½œéšè®°","javascript","DOMäº‹ä»¶"]},"headers":[],"relativePath":"blogs/word/2025/20250826-Reactäº‹ä»¶æ± åŒ–.md","filePath":"blogs/word/2025/20250826-Reactäº‹ä»¶æ± åŒ–.md"}'),h={name:"blogs/word/2025/20250826-Reactäº‹ä»¶æ± åŒ–.md"},l=n(`<h1 id="æ·±å…¥ç†è§£domäº‹ä»¶æœºåˆ¶-ä¸ºä»€ä¹ˆå¼‚æ­¥æ“ä½œåcurrenttargetæ˜¯null" tabindex="-1">æ·±å…¥ç†è§£DOMäº‹ä»¶æœºåˆ¶ï¼šä¸ºä»€ä¹ˆå¼‚æ­¥æ“ä½œåcurrentTargetæ˜¯nullï¼Ÿ <a class="header-anchor" href="#æ·±å…¥ç†è§£domäº‹ä»¶æœºåˆ¶-ä¸ºä»€ä¹ˆå¼‚æ­¥æ“ä½œåcurrenttargetæ˜¯null" aria-label="Permalink to &quot;æ·±å…¥ç†è§£DOMäº‹ä»¶æœºåˆ¶ï¼šä¸ºä»€ä¹ˆå¼‚æ­¥æ“ä½œåcurrentTargetæ˜¯nullï¼Ÿ&quot;">â€‹</a></h1><h2 id="ğŸ”-é—®é¢˜å‘ç°" tabindex="-1">ğŸ” é—®é¢˜å‘ç° <a class="header-anchor" href="#ğŸ”-é—®é¢˜å‘ç°" aria-label="Permalink to &quot;ğŸ” é—®é¢˜å‘ç°&quot;">â€‹</a></h2><p>åœ¨Reactå¼€å‘ä¸­ï¼Œä½ å¯èƒ½é‡åˆ°è¿‡è¿™æ ·ä»¤äººå›°æƒ‘çš„ç°è±¡ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">onMouseEnter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{(e) =&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handleOpenBang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">historyItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleOpenBang</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">historyItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> beforeAwait </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.currentTarget;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(beforeAwait, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;---beforeAwait&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æœ‰å€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> buildBangHistoryList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        uuid: currentTaskUUid,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        model_version: historyItem.geoDisplayVersion,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> afterAwait</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.currentTarget;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(afterAwait, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;---afterAwait&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ nullï¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p><strong>ä¸ºä»€ä¹ˆ <code>e.currentTarget</code> ä¼šå˜æˆ <code>null</code>ï¼Ÿè¿™çœŸçš„æ˜¯Reactçš„é—®é¢˜å—ï¼Ÿ</strong> ğŸ¤”</p><h2 id="ğŸ¯-é—®é¢˜çš„çœŸç›¸-domäº‹ä»¶è¯­ä¹‰-ä¸æ˜¯reacté—®é¢˜" tabindex="-1">ğŸ¯ é—®é¢˜çš„çœŸç›¸ï¼šDOMäº‹ä»¶è¯­ä¹‰ï¼Œä¸æ˜¯Reacté—®é¢˜ï¼ <a class="header-anchor" href="#ğŸ¯-é—®é¢˜çš„çœŸç›¸-domäº‹ä»¶è¯­ä¹‰-ä¸æ˜¯reacté—®é¢˜" aria-label="Permalink to &quot;ğŸ¯ é—®é¢˜çš„çœŸç›¸ï¼šDOMäº‹ä»¶è¯­ä¹‰ï¼Œä¸æ˜¯Reacté—®é¢˜ï¼&quot;">â€‹</a></h2><h3 id="âŒ-å¸¸è§è¯¯è§£-reactäº‹ä»¶æ± åŒ–å¯¼è‡´çš„é—®é¢˜" tabindex="-1">âŒ å¸¸è§è¯¯è§£ï¼šReactäº‹ä»¶æ± åŒ–å¯¼è‡´çš„é—®é¢˜ <a class="header-anchor" href="#âŒ-å¸¸è§è¯¯è§£-reactäº‹ä»¶æ± åŒ–å¯¼è‡´çš„é—®é¢˜" aria-label="Permalink to &quot;âŒ å¸¸è§è¯¯è§£ï¼šReactäº‹ä»¶æ± åŒ–å¯¼è‡´çš„é—®é¢˜&quot;">â€‹</a></h3><p>å¾ˆå¤šå¼€å‘è€…ï¼ˆåŒ…æ‹¬æˆ‘ä¹‹å‰ï¼‰ä¼šè®¤ä¸ºè¿™æ˜¯Reactçš„äº‹ä»¶æ± åŒ–æœºåˆ¶å¯¼è‡´çš„ã€‚ä½†è¿™æ˜¯<strong>å®Œå…¨é”™è¯¯çš„ç†è§£</strong>ï¼</p><p><strong>äº‹å®æ˜¯ï¼š</strong></p><ul><li><strong>React 17+å·²ç»å®Œå…¨ç§»é™¤äº†äº‹ä»¶æ± åŒ–</strong></li><li><strong>React 18ä¸­ä½ é‡åˆ°çš„é—®é¢˜ä¸Reactæ— å…³</strong></li><li><strong>è¿™æ˜¯DOMäº‹ä»¶æœ¬èº«çš„è¯­ä¹‰ç‰¹æ€§</strong></li></ul><h3 id="âœ…-çœŸæ­£çš„åŸå› -domäº‹ä»¶ç”Ÿå‘½å‘¨æœŸ" tabindex="-1">âœ… çœŸæ­£çš„åŸå› ï¼šDOMäº‹ä»¶ç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#âœ…-çœŸæ­£çš„åŸå› -domäº‹ä»¶ç”Ÿå‘½å‘¨æœŸ" aria-label="Permalink to &quot;âœ… çœŸæ­£çš„åŸå› ï¼šDOMäº‹ä»¶ç”Ÿå‘½å‘¨æœŸ&quot;">â€‹</a></h3><p><code>currentTarget</code>ä¸ºnullçš„çœŸæ­£åŸå› æ˜¯<strong>DOMäº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸæœºåˆ¶</strong>ï¼š</p><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A[äº‹ä»¶è§¦å‘] --&gt; B[æ•è·é˜¶æ®µ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B --&gt; C[ç›®æ ‡é˜¶æ®µ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    C --&gt; D[å†’æ³¡é˜¶æ®µ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    D --&gt; E[äº‹ä»¶å¤„ç†å›è°ƒæ‰§è¡Œ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    E --&gt; F[åŒæ­¥å›è°ƒå®Œæˆ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    F --&gt; G[äº‹ä»¶è°ƒåº¦ç»“æŸ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    G --&gt; H[currentTargetè¢«è®¾ç½®ä¸ºnull]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    H --&gt; I[å¼‚æ­¥ä»£ç ç»§ç»­æ‰§è¡Œ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    I --&gt; J[æ­¤æ—¶è®¿é—®currentTargetå·²æ˜¯null]</span></span></code></pre></div><h4 id="ğŸ”-domäº‹ä»¶è§„èŒƒè¡Œä¸º" tabindex="-1">ğŸ” DOMäº‹ä»¶è§„èŒƒè¡Œä¸º <a class="header-anchor" href="#ğŸ”-domäº‹ä»¶è§„èŒƒè¡Œä¸º" aria-label="Permalink to &quot;ğŸ” DOMäº‹ä»¶è§„èŒƒè¡Œä¸º&quot;">â€‹</a></h4><p>æ ¹æ®DOMäº‹ä»¶è§„èŒƒï¼Œ<code>currentTarget</code>åªåœ¨<strong>äº‹ä»¶è°ƒåº¦æœŸé—´</strong>æœ‰æ•ˆï¼š</p><ol><li><strong>äº‹ä»¶å†’æ³¡/æ•è·è¿‡ç¨‹ä¸­</strong>ï¼š<code>currentTarget</code>æŒ‡å‘å½“å‰å¤„ç†äº‹ä»¶çš„å…ƒç´ </li><li><strong>åŒæ­¥äº‹ä»¶å¤„ç†å›è°ƒä¸­</strong>ï¼š<code>currentTarget</code>ä¾ç„¶æœ‰æ•ˆ</li><li><strong>äº‹ä»¶è°ƒåº¦ç»“æŸå</strong>ï¼š<code>currentTarget</code>è¢«è®¾ç½®ä¸º<code>null</code></li><li><strong>å¼‚æ­¥ä»£ç æ‰§è¡Œæ—¶</strong>ï¼šäº‹ä»¶è°ƒåº¦å·²ç»“æŸï¼Œ<code>currentTarget</code>ä¸º<code>null</code></li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŸç”ŸDOMäº‹ä»¶ä¹Ÿæœ‰åŒæ ·çš„è¡Œä¸ºï¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e.currentTarget); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… document</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(resolve, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e.currentTarget); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ nullï¼ˆä¸Reactæ— å…³ï¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="ğŸ”§-é—®é¢˜è¯Šæ–­ä¸è§£å†³æ–¹æ¡ˆ" tabindex="-1">ğŸ”§ é—®é¢˜è¯Šæ–­ä¸è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#ğŸ”§-é—®é¢˜è¯Šæ–­ä¸è§£å†³æ–¹æ¡ˆ" aria-label="Permalink to &quot;ğŸ”§ é—®é¢˜è¯Šæ–­ä¸è§£å†³æ–¹æ¡ˆ&quot;">â€‹</a></h2><h3 id="ğŸ¯-ä¸‡èƒ½è§£å†³æ–¹æ¡ˆ-æå‰ä¿å­˜äº‹ä»¶å±æ€§" tabindex="-1">ğŸ¯ ä¸‡èƒ½è§£å†³æ–¹æ¡ˆï¼šæå‰ä¿å­˜äº‹ä»¶å±æ€§ <a class="header-anchor" href="#ğŸ¯-ä¸‡èƒ½è§£å†³æ–¹æ¡ˆ-æå‰ä¿å­˜äº‹ä»¶å±æ€§" aria-label="Permalink to &quot;ğŸ¯ ä¸‡èƒ½è§£å†³æ–¹æ¡ˆï¼šæå‰ä¿å­˜äº‹ä»¶å±æ€§&quot;">â€‹</a></h3><p>æ— è®ºæ˜¯å“ªä¸ªReactç‰ˆæœ¬ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆåŸå› ï¼Œ<strong>åœ¨å¼‚æ­¥æ“ä½œå‰ä¿å­˜äº‹ä»¶å±æ€§éƒ½æ˜¯æœ€å®‰å…¨çš„åšæ³•</strong>ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleOpenBang</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">historyItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ”¥ å…³é”®ï¼šç«‹å³ä¿å­˜éœ€è¦çš„äº‹ä»¶å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> currentTarget</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.currentTarget;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.target;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eventType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.type;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> buildBangHistoryList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        uuid: currentTaskUUid,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        model_version: historyItem.geoDisplayVersion,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä½¿ç”¨ä¿å­˜çš„å€¼ï¼Œè€Œä¸æ˜¯äº‹ä»¶å¯¹è±¡çš„å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (currentTarget) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> rect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> currentTarget.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBoundingClientRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æ‰§è¡Œåç»­æ“ä½œ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="ğŸ”-æ·±å…¥ç†è§£-ä¸ºä»€ä¹ˆè¦è¿™æ ·åš" tabindex="-1">ğŸ” æ·±å…¥ç†è§£ï¼šä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Ÿ <a class="header-anchor" href="#ğŸ”-æ·±å…¥ç†è§£-ä¸ºä»€ä¹ˆè¦è¿™æ ·åš" aria-label="Permalink to &quot;ğŸ” æ·±å…¥ç†è§£ï¼šä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Ÿ&quot;">â€‹</a></h3><h4 id="_1-domäº‹ä»¶è¯­ä¹‰" tabindex="-1">1. DOMäº‹ä»¶è¯­ä¹‰ <a class="header-anchor" href="#_1-domäº‹ä»¶è¯­ä¹‰" aria-label="Permalink to &quot;1. DOMäº‹ä»¶è¯­ä¹‰&quot;">â€‹</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿™åœ¨åŸç”ŸDOMä¸­ä¹Ÿä¼šå‘ç”Ÿ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;åŒæ­¥é˜¶æ®µ:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.currentTarget); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æœ‰å€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/data&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å¼‚æ­¥é˜¶æ®µ:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.currentTarget); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h4 id="_2-reactå†å²ç‰ˆæœ¬çš„äº‹ä»¶æ± åŒ–" tabindex="-1">2. Reactå†å²ç‰ˆæœ¬çš„äº‹ä»¶æ± åŒ– <a class="header-anchor" href="#_2-reactå†å²ç‰ˆæœ¬çš„äº‹ä»¶æ± åŒ–" aria-label="Permalink to &quot;2. Reactå†å²ç‰ˆæœ¬çš„äº‹ä»¶æ± åŒ–&quot;">â€‹</a></h4><p>ä»…åœ¨React 16åŠæ›´æ—©ç‰ˆæœ¬ä¸­ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// React 16åŠæ›´æ—©ç‰ˆæœ¬çš„è§£å†³æ–¹æ¡ˆ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">persist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é˜²æ­¢äº‹ä»¶æ± åŒ–æ¸…ç©º</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> someAsyncOperation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e.currentTarget); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç°åœ¨å¯ä»¥æ­£å¸¸è®¿é—®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p><strong>æ³¨æ„ï¼šReact 17+å·²ç»ç§»é™¤äº‹ä»¶æ± åŒ–ï¼Œä¸å†éœ€è¦<code>e.persist()</code></strong></p><h2 id="ğŸš€-å·¥ä½œä¸­çš„å®ç”¨çŸ¥è¯†ç‚¹æ‹“å±•" tabindex="-1">ğŸš€ å·¥ä½œä¸­çš„å®ç”¨çŸ¥è¯†ç‚¹æ‹“å±• <a class="header-anchor" href="#ğŸš€-å·¥ä½œä¸­çš„å®ç”¨çŸ¥è¯†ç‚¹æ‹“å±•" aria-label="Permalink to &quot;ğŸš€ å·¥ä½œä¸­çš„å®ç”¨çŸ¥è¯†ç‚¹æ‹“å±•&quot;">â€‹</a></h2><h3 id="_1-chrome-devtoolsè°ƒè¯•é™·é˜±" tabindex="-1">1. Chrome DevToolsè°ƒè¯•é™·é˜± <a class="header-anchor" href="#_1-chrome-devtoolsè°ƒè¯•é™·é˜±" aria-label="Permalink to &quot;1. Chrome DevToolsè°ƒè¯•é™·é˜±&quot;">â€‹</a></h3><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„è°ƒè¯•æŠ€å·§ï¼</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âŒ é”™è¯¯çš„è°ƒè¯•æ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å±•å¼€çœ‹åˆ°çš„æ˜¯&quot;æ­¤åˆ»&quot;çš„å€¼ï¼ŒcurrentTargetå¯èƒ½å·²ç»æ˜¯null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âœ… æ­£ç¡®çš„è°ƒè¯•æ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;currentTarget:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.currentTarget); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®°å½•&quot;å½“æ—¶&quot;çš„å¿«ç…§</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å®Œæ•´äº‹ä»¶å¯¹è±¡:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e}); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è§£æ„ä¿å­˜å½“æ—¶çš„çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> someAsyncOperation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å¼‚æ­¥å:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.currentTarget); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p><strong>Chrome DevToolsæƒ°æ€§å±•ç¤ºæœºåˆ¶ï¼š</strong></p><ul><li><code>console.log(e)</code>ï¼šæŒ‰å¼•ç”¨å±•ç¤ºï¼Œå±•å¼€æ—¶æ˜¾ç¤ºçš„æ˜¯å½“å‰æ—¶åˆ»çš„å€¼</li><li><code>console.log(e.currentTarget)</code>ï¼šç›´æ¥è¾“å‡ºå½“æ—¶çš„å€¼</li><li><code>console.log({...e})</code>ï¼šå±•å¼€ä¸ºå½“æ—¶çš„å¿«ç…§</li></ul><h3 id="_2-é€šç”¨äº‹ä»¶å±æ€§ä¿å­˜å·¥å…·" tabindex="-1">2. é€šç”¨äº‹ä»¶å±æ€§ä¿å­˜å·¥å…· <a class="header-anchor" href="#_2-é€šç”¨äº‹ä»¶å±æ€§ä¿å­˜å·¥å…·" aria-label="Permalink to &quot;2. é€šç”¨äº‹ä»¶å±æ€§ä¿å­˜å·¥å…·&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®ç”¨å·¥å…·ï¼šä¿å­˜äº‹ä»¶å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> captureEventData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    target: e.target,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    currentTarget: e.currentTarget,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    type: e.type,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    clientX: e.clientX,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    clientY: e.clientY,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    key: e.key,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ ¹æ®éœ€è¦æ·»åŠ å…¶ä»–å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ç¤ºä¾‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleMouseEvent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eventData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> captureEventData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> someAsyncOperation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å®‰å…¨ä½¿ç”¨ä¿å­˜çš„æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (eventData.currentTarget) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> rect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eventData.currentTarget.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBoundingClientRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="_3-reactç‰ˆæœ¬æ¼”è¿›å¯¹æ¯”" tabindex="-1">3. Reactç‰ˆæœ¬æ¼”è¿›å¯¹æ¯” <a class="header-anchor" href="#_3-reactç‰ˆæœ¬æ¼”è¿›å¯¹æ¯”" aria-label="Permalink to &quot;3. Reactç‰ˆæœ¬æ¼”è¿›å¯¹æ¯”&quot;">â€‹</a></h3><p>äº†è§£Reactäº‹ä»¶ç³»ç»Ÿçš„æ¼”è¿›å†å²ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// React 16åŠæ›´æ—©ï¼šäº‹ä»¶æ± åŒ– + documentäº‹ä»¶å§”æ‰˜</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// React 17ï¼šç§»é™¤äº‹ä»¶æ± åŒ– + rootå®¹å™¨äº‹ä»¶å§”æ‰˜  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// React 18ï¼šæ–°å¢discrete eventsåŒæ­¥è¡Œä¸º</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é€šç”¨çš„å®‰å…¨äº‹ä»¶å¤„ç†æ¨¡å¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> safeEventHandler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç«‹å³ä¿å­˜éœ€è¦çš„å±æ€§ï¼ˆé€‚ç”¨äºæ‰€æœ‰ç‰ˆæœ¬ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">currentTarget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> asyncOperation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä½¿ç”¨ä¿å­˜çš„å€¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (currentTarget) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å®‰å…¨è®¿é—®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="_3-æ€§èƒ½ä¼˜åŒ–-äº‹ä»¶å¤„ç†å‡½æ•°ç¼“å­˜" tabindex="-1">3. æ€§èƒ½ä¼˜åŒ–ï¼šäº‹ä»¶å¤„ç†å‡½æ•°ç¼“å­˜ <a class="header-anchor" href="#_3-æ€§èƒ½ä¼˜åŒ–-äº‹ä»¶å¤„ç†å‡½æ•°ç¼“å­˜" aria-label="Permalink to &quot;3. æ€§èƒ½ä¼˜åŒ–ï¼šäº‹ä»¶å¤„ç†å‡½æ•°ç¼“å­˜&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useCallback, useMemo } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EventOptimizedComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">items</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">onItemClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âœ… ä½¿ç”¨useCallbackç¼“å­˜äº‹ä»¶å¤„ç†å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> handleItemClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useCallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æå‰ä¿å­˜äº‹ä»¶ä¿¡æ¯ï¼ˆé˜²æ­¢è€ç‰ˆæœ¬Reacté—®é¢˜ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eventInfo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            target: e.target,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            currentTarget: e.currentTarget,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            shiftKey: e.shiftKey,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ctrlKey: e.ctrlKey</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        onItemClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item, eventInfo);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }, [onItemClick]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âœ… ä½¿ç”¨useMemoä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> itemElements</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useMemo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        items.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">li</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{item.id} </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleItemClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item, e)}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                {item.name}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">li</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        )), [items, handleItemClick]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{itemElements}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="_4-è°ƒè¯•æŠ€å·§-äº‹ä»¶å¯¹è±¡ç›‘æ§" tabindex="-1">4. è°ƒè¯•æŠ€å·§ï¼šäº‹ä»¶å¯¹è±¡ç›‘æ§ <a class="header-anchor" href="#_4-è°ƒè¯•æŠ€å·§-äº‹ä»¶å¯¹è±¡ç›‘æ§" aria-label="Permalink to &quot;4. è°ƒè¯•æŠ€å·§ï¼šäº‹ä»¶å¯¹è±¡ç›‘æ§&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¼€å‘ç¯å¢ƒä¸‹çš„äº‹ä»¶ç›‘æ§å·¥å…·</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createEventDebugger</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eventName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`ğŸ¯ Event: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Event Object:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Target:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.target);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;CurrentTarget:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.currentTarget);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Type:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.type);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;React Version:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, React.version);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æ£€æµ‹äº‹ä»¶æ± åŒ–çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;After async - Target:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.target);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;After async - CurrentTarget:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.currentTarget);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupEnd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ç¤ºä¾‹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createEventDebugger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;button-click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Debug Click</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="_5-è¡¨å•å¤„ç†çš„æœ€ä½³å®è·µ" tabindex="-1">5. è¡¨å•å¤„ç†çš„æœ€ä½³å®è·µ <a class="header-anchor" href="#_5-è¡¨å•å¤„ç†çš„æœ€ä½³å®è·µ" aria-label="Permalink to &quot;5. è¡¨å•å¤„ç†çš„æœ€ä½³å®è·µ&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FormComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">formData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setFormData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âœ… å¤„ç†è¡¨å•äº‹ä»¶çš„é€šç”¨æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> handleInputChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useCallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ç«‹å³æå–æ‰€éœ€å€¼ï¼ˆå…¼å®¹è€ç‰ˆæœ¬Reactï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">checked</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.target;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        setFormData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">prev</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">prev,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            [name]: type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;checkbox&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> checked </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }, []);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // âœ… å¼‚æ­¥è¡¨å•æäº¤å¤„ç†</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> handleSubmit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useCallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">preventDefault</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ä¿å­˜è¡¨å•å¼•ç”¨ï¼ˆé˜²æ­¢å¼‚æ­¥æ“ä½œåä¸¢å¤±ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> form</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.currentTarget;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> formData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FormData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(form);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> submitForm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(formData);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            form.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®‰å…¨åœ°é‡ç½®è¡¨å•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;æäº¤å¤±è´¥:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, error);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }, []);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">form</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onSubmit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{handleSubmit}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">input</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;username&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                onChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{handleInputChange}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                placeholder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç”¨æˆ·å&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;submit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;æäº¤&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">form</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h2 id="ğŸ“Š-é—®é¢˜åŸå› å¯¹æ¯”æ€»ç»“è¡¨" tabindex="-1">ğŸ“Š é—®é¢˜åŸå› å¯¹æ¯”æ€»ç»“è¡¨ <a class="header-anchor" href="#ğŸ“Š-é—®é¢˜åŸå› å¯¹æ¯”æ€»ç»“è¡¨" aria-label="Permalink to &quot;ğŸ“Š é—®é¢˜åŸå› å¯¹æ¯”æ€»ç»“è¡¨&quot;">â€‹</a></h2><table><thead><tr><th>é—®é¢˜åŸå› </th><th>React 16åŠæ›´æ—©</th><th>React 17+</th><th>æ‰€æœ‰ç‰ˆæœ¬é€šç”¨</th></tr></thead><tbody><tr><td><strong>äº‹ä»¶æ± åŒ–</strong></td><td>âœ… ä¼šå¯¼è‡´é—®é¢˜</td><td>âŒ å·²ç§»é™¤</td><td>âŒ ä¸æ˜¯ä¸»è¦åŸå› </td></tr><tr><td><strong>DOMäº‹ä»¶è¯­ä¹‰</strong></td><td>âœ… æ ¹æœ¬åŸå› </td><td>âœ… æ ¹æœ¬åŸå› </td><td>âœ… <strong>ä¸»è¦åŸå› </strong></td></tr><tr><td><strong>å¼‚æ­¥åcurrentTarget</strong></td><td>âŒ nullï¼ˆåŒé‡åŸå› ï¼‰</td><td>âŒ nullï¼ˆDOMè¯­ä¹‰ï¼‰</td><td>âŒ nullï¼ˆDOMè¯­ä¹‰ï¼‰</td></tr><tr><td><strong>è§£å†³æ–¹æ¡ˆ</strong></td><td>æå‰ä¿å­˜æˆ–<code>e.persist()</code></td><td>æå‰ä¿å­˜å³å¯</td><td><strong>æå‰ä¿å­˜</strong>ï¼ˆä¸‡èƒ½æ–¹æ¡ˆï¼‰</td></tr><tr><td><strong>äº‹ä»¶å§”æ‰˜ä½ç½®</strong></td><td><code>document</code></td><td><code>rootå®¹å™¨</code></td><td>ä¸å½±å“currentTargetè¡Œä¸º</td></tr></tbody></table><h2 id="ğŸ¯-æœ€ä½³å®è·µå»ºè®®" tabindex="-1">ğŸ¯ æœ€ä½³å®è·µå»ºè®® <a class="header-anchor" href="#ğŸ¯-æœ€ä½³å®è·µå»ºè®®" aria-label="Permalink to &quot;ğŸ¯ æœ€ä½³å®è·µå»ºè®®&quot;">â€‹</a></h2><h3 id="âœ…-æ ¸å¿ƒåŸåˆ™" tabindex="-1">âœ… æ ¸å¿ƒåŸåˆ™ <a class="header-anchor" href="#âœ…-æ ¸å¿ƒåŸåˆ™" aria-label="Permalink to &quot;âœ… æ ¸å¿ƒåŸåˆ™&quot;">â€‹</a></h3><ol><li><strong>ç†è§£DOMäº‹ä»¶ç”Ÿå‘½å‘¨æœŸ</strong>ï¼š<code>currentTarget</code>åªåœ¨äº‹ä»¶è°ƒåº¦æœŸé—´æœ‰æ•ˆ</li><li><strong>æ€»æ˜¯æå‰ä¿å­˜äº‹ä»¶å±æ€§</strong>ï¼šè¿™æ˜¯æœ€å®‰å…¨ã€æœ€é€šç”¨çš„åšæ³•</li><li><strong>æ­£ç¡®ä½¿ç”¨Chrome DevToolsè°ƒè¯•</strong>ï¼šé¿å…æƒ°æ€§å±•ç¤ºé™·é˜±</li><li><strong>ä¸è¦ä¾èµ–Reactç‰ˆæœ¬ç‰¹æ€§</strong>ï¼šDOMäº‹ä»¶è¯­ä¹‰æ˜¯æ ¹æœ¬</li></ol><h3 id="âŒ-é¿å…çš„é™·é˜±" tabindex="-1">âŒ é¿å…çš„é™·é˜± <a class="header-anchor" href="#âŒ-é¿å…çš„é™·é˜±" aria-label="Permalink to &quot;âŒ é¿å…çš„é™·é˜±&quot;">â€‹</a></h3><ol><li><strong>ä¸è¦åœ¨å¼‚æ­¥ä»£ç ä¸­ç›´æ¥è®¿é—®<code>e.currentTarget</code></strong></li><li><strong>ä¸è¦ä¾èµ–<code>console.log(e)</code>å±•å¼€åçš„å€¼è¿›è¡Œè°ƒè¯•</strong></li><li><strong>ä¸è¦è®¤ä¸ºè¿™æ˜¯Reactç‰¹æœ‰çš„é—®é¢˜</strong></li><li><strong>ä¸è¦åœ¨ç°ä»£Reactç‰ˆæœ¬ä¸­ä½¿ç”¨<code>e.persist()</code></strong></li></ol><h3 id="ğŸ”§-é€šç”¨è§£å†³æ–¹æ¡ˆ" tabindex="-1">ğŸ”§ é€šç”¨è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#ğŸ”§-é€šç”¨è§£å†³æ–¹æ¡ˆ" aria-label="Permalink to &quot;ğŸ”§ é€šç”¨è§£å†³æ–¹æ¡ˆ&quot;">â€‹</a></h3><p><strong>é€‚ç”¨äºæ‰€æœ‰æƒ…å†µçš„æœ€ä½³å®è·µï¼š</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleOpenBang</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">historyItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ğŸ”¥ ç«‹å³ä¿å­˜æ‰€éœ€çš„äº‹ä»¶å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> currentTarget</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.currentTarget;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">clientX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">clientY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> buildBangHistoryList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        uuid: currentTaskUUid,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        model_version: historyItem.geoDisplayVersion,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä½¿ç”¨ä¿å­˜çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯äº‹ä»¶å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (currentTarget) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> rect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> currentTarget.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBoundingClientRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ...åç»­é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="ğŸ”-è°ƒè¯•æŠ€å·§" tabindex="-1">ğŸ” è°ƒè¯•æŠ€å·§ <a class="header-anchor" href="#ğŸ”-è°ƒè¯•æŠ€å·§" aria-label="Permalink to &quot;ğŸ” è°ƒè¯•æŠ€å·§&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ­£ç¡®çš„è°ƒè¯•æ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> debugEventHandler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç«‹å³è®°å½•å½“æ—¶çš„å€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;äº‹ä»¶è§¦å‘æ—¶çš„currentTarget:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.currentTarget);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;äº‹ä»¶å¿«ç…§:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> someAsyncOperation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¿™æ—¶å€™å†çœ‹å°±æ˜¯nulläº†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å¼‚æ­¥åçš„currentTarget:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.currentTarget);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h2 id="ğŸ”—-æ·±å…¥å­¦ä¹ èµ„æº" tabindex="-1">ğŸ”— æ·±å…¥å­¦ä¹ èµ„æº <a class="header-anchor" href="#ğŸ”—-æ·±å…¥å­¦ä¹ èµ„æº" aria-label="Permalink to &quot;ğŸ”— æ·±å…¥å­¦ä¹ èµ„æº&quot;">â€‹</a></h2><ul><li><a href="https://www.w3.org/TR/DOM-Level-3-Events/" target="_blank" rel="noreferrer">DOM Events W3Cè§„èŒƒ</a></li><li><a href="https://react.dev/reference/react-dom/components/common#react-event-object" target="_blank" rel="noreferrer">Reactäº‹ä»¶ç³»ç»Ÿå®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://legacy.reactjs.org/docs/legacy-event-pooling.html" target="_blank" rel="noreferrer">React 17ç§»é™¤äº‹ä»¶æ± åŒ–è¯´æ˜</a></li><li><a href="https://stackoverflow.com" target="_blank" rel="noreferrer">Stack Overflow: currentTargetåœ¨å¼‚æ­¥åä¸ºnullçš„è§£é‡Š</a></li></ul><hr><h2 id="ğŸ¯-æœ€ç»ˆç»“è®º" tabindex="-1">ğŸ¯ æœ€ç»ˆç»“è®º <a class="header-anchor" href="#ğŸ¯-æœ€ç»ˆç»“è®º" aria-label="Permalink to &quot;ğŸ¯ æœ€ç»ˆç»“è®º&quot;">â€‹</a></h2><h3 id="âŒ-å¸¸è§è¯¯è§£" tabindex="-1">âŒ å¸¸è§è¯¯è§£ <a class="header-anchor" href="#âŒ-å¸¸è§è¯¯è§£" aria-label="Permalink to &quot;âŒ å¸¸è§è¯¯è§£&quot;">â€‹</a></h3><p>å¾ˆå¤šå¼€å‘è€…ï¼ˆåŒ…æ‹¬æˆ‘ä¹‹å‰ï¼‰è®¤ä¸ºè¿™æ˜¯Reactäº‹ä»¶æ± åŒ–å¯¼è‡´çš„é—®é¢˜ï¼Œä½†è¿™æ˜¯<strong>é”™è¯¯çš„ç†è§£</strong>ã€‚</p><h3 id="âœ…-äº‹å®çœŸç›¸" tabindex="-1">âœ… äº‹å®çœŸç›¸ <a class="header-anchor" href="#âœ…-äº‹å®çœŸç›¸" aria-label="Permalink to &quot;âœ… äº‹å®çœŸç›¸&quot;">â€‹</a></h3><p><strong><code>currentTarget</code>åœ¨å¼‚æ­¥æ“ä½œåå˜ä¸º<code>null</code>æ˜¯DOMäº‹ä»¶è§„èŒƒçš„æ­£å¸¸è¡Œä¸ºï¼Œä¸Reactæ— å…³ï¼</strong></p><h4 id="æ ¸å¿ƒè¦ç‚¹" tabindex="-1">æ ¸å¿ƒè¦ç‚¹ï¼š <a class="header-anchor" href="#æ ¸å¿ƒè¦ç‚¹" aria-label="Permalink to &quot;æ ¸å¿ƒè¦ç‚¹ï¼š&quot;">â€‹</a></h4><ol><li><strong>DOMäº‹ä»¶è¯­ä¹‰</strong>ï¼š<code>currentTarget</code>åªåœ¨äº‹ä»¶è°ƒåº¦æœŸé—´æœ‰æ•ˆ</li><li><strong>React 17+å·²ç§»é™¤äº‹ä»¶æ± åŒ–</strong>ï¼šä¸å†éœ€è¦<code>e.persist()</code></li><li><strong>Chrome DevToolsé™·é˜±</strong>ï¼š<code>console.log(e)</code>å±•å¼€çœ‹åˆ°çš„æ˜¯æƒ°æ€§åŠ è½½çš„å€¼</li><li><strong>é€šç”¨è§£å†³æ–¹æ¡ˆ</strong>ï¼šåœ¨å¼‚æ­¥æ“ä½œå‰ä¿å­˜äº‹ä»¶å±æ€§</li></ol><h3 id="ğŸ”§-ä¸‡èƒ½è§£å†³æ–¹æ¡ˆ" tabindex="-1">ğŸ”§ ä¸‡èƒ½è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#ğŸ”§-ä¸‡èƒ½è§£å†³æ–¹æ¡ˆ" aria-label="Permalink to &quot;ğŸ”§ ä¸‡èƒ½è§£å†³æ–¹æ¡ˆ&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… é€‚ç”¨äºæ‰€æœ‰æƒ…å†µçš„æœ€ä½³å®è·µ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleEvent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç«‹å³ä¿å­˜éœ€è¦çš„äº‹ä»¶å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">currentTarget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">clientX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">clientY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> someAsyncOperation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä½¿ç”¨ä¿å­˜çš„å€¼ï¼Œä¸æ˜¯äº‹ä»¶å¯¹è±¡çš„å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (currentTarget) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å®‰å…¨æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="ğŸ“-è°ƒè¯•æŠ€å·§" tabindex="-1">ğŸ“ è°ƒè¯•æŠ€å·§ <a class="header-anchor" href="#ğŸ“-è°ƒè¯•æŠ€å·§" aria-label="Permalink to &quot;ğŸ“ è°ƒè¯•æŠ€å·§&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ­£ç¡®è°ƒè¯•æ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;currentTarget:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e.currentTarget); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®°å½•å½“æ—¶çš„å€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;äº‹ä»¶å¿«ç…§:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e}); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¿å­˜å®Œæ•´å¿«ç…§</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ é”™è¯¯è°ƒè¯•æ–¹å¼  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å±•å¼€åçœ‹åˆ°çš„æ˜¯&quot;æ­¤åˆ»&quot;çš„å€¼ï¼Œä¸æ˜¯&quot;å½“æ—¶&quot;çš„å€¼</span></span></code></pre></div><p><strong>è®°ä½ï¼šè¿™ä¸æ˜¯Reactçš„bugï¼Œæ˜¯DOMäº‹ä»¶çš„æ ‡å‡†è¡Œä¸ºï¼ç†è§£è¿™ä¸€ç‚¹æ¯”è®°ä½è§£å†³æ–¹æ¡ˆæ›´é‡è¦ã€‚</strong> ğŸ¯</p>`,72),t=[l];function k(p,e,E,r,d,g){return a(),i("div",null,t)}const o=s(h,[["render",k]]);export{c as __pageData,o as default};
