import{_ as s,c as i,o as a,a5 as n}from"./chunks/framework.BIhQMg0k.js";const g=JSON.parse('{"title":"Performanceä½¿ç”¨è¯¦è§£","description":"","frontmatter":{"title":"Performanceä½¿ç”¨è¯¦è§£","date":"2023-09-10T00:00:00.000Z","categories":["æµè§ˆå™¨","å·¥ä½œéšè®°"]},"headers":[],"relativePath":"blogs/word/2023/0910.md","filePath":"blogs/word/2023/0910.md"}'),e={name:"blogs/word/2023/0910.md"},l=n(`<h1 id="ğŸš€-performance-api-å®Œå…¨æŒ‡å—" tabindex="-1">ğŸš€ Performance API å®Œå…¨æŒ‡å— <a class="header-anchor" href="#ğŸš€-performance-api-å®Œå…¨æŒ‡å—" aria-label="Permalink to &quot;ğŸš€ Performance API å®Œå…¨æŒ‡å—&quot;">â€‹</a></h1><h2 id="ğŸ“š-ç®€ä»‹" tabindex="-1">ğŸ“š ç®€ä»‹ <a class="header-anchor" href="#ğŸ“š-ç®€ä»‹" aria-label="Permalink to &quot;ğŸ“š ç®€ä»‹&quot;">â€‹</a></h2><p>Performance API æ˜¯æµè§ˆå™¨æä¾›çš„æ€§èƒ½ç›‘æ§å·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°äº†è§£ç½‘é¡µæ€§èƒ½ç“¶é¢ˆã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Performance API è¿›è¡Œæ€§èƒ½åˆ†æå’Œä¼˜åŒ–ã€‚</p><h2 id="ğŸ”-æ ¸å¿ƒæ¦‚å¿µ" tabindex="-1">ğŸ” æ ¸å¿ƒæ¦‚å¿µ <a class="header-anchor" href="#ğŸ”-æ ¸å¿ƒæ¦‚å¿µ" aria-label="Permalink to &quot;ğŸ” æ ¸å¿ƒæ¦‚å¿µ&quot;">â€‹</a></h2><h3 id="performance-timeline" tabindex="-1">Performance Timeline <a class="header-anchor" href="#performance-timeline" aria-label="Permalink to &quot;Performance Timeline&quot;">â€‹</a></h3><ul><li>Navigation Timing</li><li>Resource Timing</li><li>User Timing</li><li>Paint Timing</li></ul><h2 id="ğŸ’¡-å¸¸ç”¨-api-è¯¦è§£" tabindex="-1">ğŸ’¡ å¸¸ç”¨ API è¯¦è§£ <a class="header-anchor" href="#ğŸ’¡-å¸¸ç”¨-api-è¯¦è§£" aria-label="Permalink to &quot;ğŸ’¡ å¸¸ç”¨ API è¯¦è§£&quot;">â€‹</a></h2><h3 id="_1-æ€§èƒ½è®¡æ—¶-api" tabindex="-1">1. æ€§èƒ½è®¡æ—¶ API <a class="header-anchor" href="#_1-æ€§èƒ½è®¡æ—¶-api" aria-label="Permalink to &quot;1. æ€§èƒ½è®¡æ—¶ API&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–æ€§èƒ½æ—¶é—´çº¿</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance.timeOrigin</span></span></code></pre></div><h3 id="_2-é¡µé¢åŠ è½½æ€§èƒ½" tabindex="-1">2. é¡µé¢åŠ è½½æ€§èƒ½ <a class="header-anchor" href="#_2-é¡µé¢åŠ è½½æ€§èƒ½" aria-label="Permalink to &quot;2. é¡µé¢åŠ è½½æ€§èƒ½&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–é¡µé¢åŠ è½½ç›¸å…³æ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> timing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> performance.timing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    DNSæŸ¥è¯¢è€—æ—¶: timing.domainLookupEnd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> timing.domainLookupStart,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    TCPè¿æ¥è€—æ—¶: timing.connectEnd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> timing.connectStart,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    é¦–å±æ—¶é—´: timing.domContentLoadedEventEnd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> timing.navigationStart</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="_3-èµ„æºåŠ è½½æ€§èƒ½" tabindex="-1">3. èµ„æºåŠ è½½æ€§èƒ½ <a class="header-anchor" href="#_3-èµ„æºåŠ è½½æ€§èƒ½" aria-label="Permalink to &quot;3. èµ„æºåŠ è½½æ€§èƒ½&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–èµ„æºåŠ è½½è¯¦æƒ…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> resources</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> performance.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getEntriesByType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;resource&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h2 id="âš ï¸-ä½¿ç”¨æ³¨æ„äº‹é¡¹" tabindex="-1">âš ï¸ ä½¿ç”¨æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#âš ï¸-ä½¿ç”¨æ³¨æ„äº‹é¡¹" aria-label="Permalink to &quot;âš ï¸ ä½¿ç”¨æ³¨æ„äº‹é¡¹&quot;">â€‹</a></h2><ol><li>Performance API åœ¨ä¸åŒæµè§ˆå™¨ä¸­çš„å®ç°å¯èƒ½å­˜åœ¨å·®å¼‚</li><li>æŸäº›æ€§èƒ½æ•°æ®å¯èƒ½å› ä¸ºæµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥è€Œæ— æ³•è·å–</li><li>å»ºè®®ç»“åˆ Chrome DevTools çš„ Performance é¢æ¿ä¸€èµ·ä½¿ç”¨</li></ol><h2 id="ğŸŒŸ-æœ€ä½³å®è·µ" tabindex="-1">ğŸŒŸ æœ€ä½³å®è·µ <a class="header-anchor" href="#ğŸŒŸ-æœ€ä½³å®è·µ" aria-label="Permalink to &quot;ğŸŒŸ æœ€ä½³å®è·µ&quot;">â€‹</a></h2><h3 id="æ€§èƒ½ç›‘æ§ç¤ºä¾‹" tabindex="-1">æ€§èƒ½ç›‘æ§ç¤ºä¾‹ <a class="header-anchor" href="#æ€§èƒ½ç›‘æ§ç¤ºä¾‹" aria-label="Permalink to &quot;æ€§èƒ½ç›‘æ§ç¤ºä¾‹&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›‘æ§é¡µé¢æ€§èƒ½</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> monitorPagePerformance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> performance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> window.performance;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">performance) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å½“å‰æµè§ˆå™¨ä¸æ”¯æŒ Performance API&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è·å–å…³é”®æ€§èƒ½æŒ‡æ ‡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> timing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> performance.timing;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> performanceMetrics</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // é¡µé¢åŠ è½½æ€»è€—æ—¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        loadTime: timing.loadEventEnd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> timing.navigationStart,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // é¦–æ¬¡æ¸²æŸ“æ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        firstPaint: timing.responseEnd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> timing.navigationStart,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // DOMè§£æè€—æ—¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        domReady: timing.domContentLoadedEventEnd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> timing.navigationStart</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> performanceMetrics;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="ğŸ“ˆ-æ€§èƒ½ä¼˜åŒ–å»ºè®®" tabindex="-1">ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®® <a class="header-anchor" href="#ğŸ“ˆ-æ€§èƒ½ä¼˜åŒ–å»ºè®®" aria-label="Permalink to &quot;ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®&quot;">â€‹</a></h2><ol><li>ä½¿ç”¨ Performance API å»ºç«‹æ€§èƒ½åŸºå‡†</li><li>å®šæœŸç›‘æ§å…³é”®æ€§èƒ½æŒ‡æ ‡</li><li>å¯¹è¾ƒå¤§èµ„æºè¿›è¡Œæ‡’åŠ è½½</li><li>ä¼˜åŒ–å…³é”®æ¸²æŸ“è·¯å¾„</li></ol><h2 id="ğŸ”—-ç›¸å…³èµ„æº" tabindex="-1">ğŸ”— ç›¸å…³èµ„æº <a class="header-anchor" href="#ğŸ”—-ç›¸å…³èµ„æº" aria-label="Permalink to &quot;ğŸ”— ç›¸å…³èµ„æº&quot;">â€‹</a></h2><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance" target="_blank" rel="noreferrer">MDN Performance API æ–‡æ¡£</a></li><li><a href="https://web.dev/vitals/" target="_blank" rel="noreferrer">Web Vitals</a></li><li><a href="https://developer.chrome.com/docs/devtools/performance/" target="_blank" rel="noreferrer">Chrome DevTools Performance</a></li></ul><h2 id="ğŸ“-æ€»ç»“" tabindex="-1">ğŸ“ æ€»ç»“ <a class="header-anchor" href="#ğŸ“-æ€»ç»“" aria-label="Permalink to &quot;ğŸ“ æ€»ç»“&quot;">â€‹</a></h2><p>Performance API æ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„é‡è¦å·¥å…·ï¼Œåˆç†ä½¿ç”¨å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£å’Œæ”¹å–„ç½‘é¡µæ€§èƒ½ã€‚å»ºè®®åœ¨å®é™…å¼€å‘ä¸­ç»“åˆå…·ä½“åœºæ™¯é€‰æ‹©åˆé€‚çš„æ€§èƒ½æŒ‡æ ‡è¿›è¡Œç›‘æ§å’Œä¼˜åŒ–ã€‚</p>`,24),t=[l];function h(p,r,k,o,d,c){return a(),i("div",null,t)}const m=s(e,[["render",h]]);export{g as __pageData,m as default};
