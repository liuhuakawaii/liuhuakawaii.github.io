import{_ as s,c as i,o as a,a5 as h}from"./chunks/framework.BIhQMg0k.js";const n="/assets/04.3_nrGd1E.png",F=JSON.parse('{"title":"å‰ç«¯è·¯ç”±æœºåˆ¶è¯¦è§£","description":"","frontmatter":{"title":"å‰ç«¯è·¯ç”±æœºåˆ¶è¯¦è§£","date":"2022-03-03T00:00:00.000Z","categories":["javascript","æµè§ˆå™¨"]},"headers":[],"relativePath":"blogs/javascript/jstips/20220303.md","filePath":"blogs/javascript/jstips/20220303.md"}'),l={name:"blogs/javascript/jstips/20220303.md"},t=h('<h1 id="å‰ç«¯è·¯ç”±æœºåˆ¶è¯¦è§£-ğŸš€" tabindex="-1">å‰ç«¯è·¯ç”±æœºåˆ¶è¯¦è§£ ğŸš€ <a class="header-anchor" href="#å‰ç«¯è·¯ç”±æœºåˆ¶è¯¦è§£-ğŸš€" aria-label="Permalink to &quot;å‰ç«¯è·¯ç”±æœºåˆ¶è¯¦è§£ ğŸš€&quot;">â€‹</a></h1><h2 id="_1-spa-vs-mpa-å¯¹æ¯”-ğŸ”„" tabindex="-1">1. SPA vs MPA å¯¹æ¯” ğŸ”„ <a class="header-anchor" href="#_1-spa-vs-mpa-å¯¹æ¯”-ğŸ”„" aria-label="Permalink to &quot;1. SPA vs MPA å¯¹æ¯” ğŸ”„&quot;">â€‹</a></h2><h3 id="_1-1-spa-å•é¡µåº”ç”¨" tabindex="-1">1.1 SPA (å•é¡µåº”ç”¨) <a class="header-anchor" href="#_1-1-spa-å•é¡µåº”ç”¨" aria-label="Permalink to &quot;1.1 SPA (å•é¡µåº”ç”¨)&quot;">â€‹</a></h3><ul><li>åªæœ‰ä¸€ä¸ªä¸»é¡µé¢</li><li>é¡µé¢åˆ‡æ¢ä¸åˆ·æ–°</li><li>å‰ç«¯è·¯ç”±å®ç°é¡µé¢åˆ‡æ¢</li><li>ä¼˜ç‚¹ï¼šç”¨æˆ·ä½“éªŒå¥½ï¼Œåˆ‡æ¢å¿«é€Ÿ</li><li>ç¼ºç‚¹ï¼šé¦–å±åŠ è½½è¾ƒæ…¢ï¼ŒSEOç›¸å¯¹è¾ƒå·®</li></ul><h3 id="_1-2-mpa-å¤šé¡µåº”ç”¨" tabindex="-1">1.2 MPA (å¤šé¡µåº”ç”¨) <a class="header-anchor" href="#_1-2-mpa-å¤šé¡µåº”ç”¨" aria-label="Permalink to &quot;1.2 MPA (å¤šé¡µåº”ç”¨)&quot;">â€‹</a></h3><ul><li>å¤šä¸ªç‹¬ç«‹é¡µé¢</li><li>é¡µé¢åˆ‡æ¢éœ€è¦åˆ·æ–°</li><li>æœåŠ¡å™¨è·¯ç”±æ§åˆ¶åˆ‡æ¢</li><li>ä¼˜ç‚¹ï¼šé¦–å±åŠ è½½å¿«ï¼ŒSEOå‹å¥½</li><li>ç¼ºç‚¹ï¼šé¡µé¢åˆ‡æ¢ä½“éªŒè¾ƒå·®</li></ul><p><img src="'+n+`" alt="SPAå’ŒMPAå¯¹æ¯”"></p><h2 id="_2-å‰ç«¯è·¯ç”±å®ç°æ–¹å¼-ğŸ› ï¸" tabindex="-1">2. å‰ç«¯è·¯ç”±å®ç°æ–¹å¼ ğŸ› ï¸ <a class="header-anchor" href="#_2-å‰ç«¯è·¯ç”±å®ç°æ–¹å¼-ğŸ› ï¸" aria-label="Permalink to &quot;2. å‰ç«¯è·¯ç”±å®ç°æ–¹å¼ ğŸ› ï¸&quot;">â€‹</a></h2><h3 id="_2-1-hashè·¯ç”±" tabindex="-1">2.1 Hashè·¯ç”± (#) <a class="header-anchor" href="#_2-1-hashè·¯ç”±" aria-label="Permalink to &quot;2.1 Hashè·¯ç”± (#)&quot;">â€‹</a></h3><p>Hashè·¯ç”±æ˜¯å‰ç«¯è·¯ç”±æœ€ç®€å•çš„å®ç°æ–¹å¼ï¼Œé€šè¿‡ç›‘å¬URLä¸­hashå€¼çš„å˜åŒ–æ¥å®ç°è·¯ç”±åˆ‡æ¢ã€‚</p><h4 id="æ ¸å¿ƒç‰¹ç‚¹" tabindex="-1">æ ¸å¿ƒç‰¹ç‚¹ï¼š <a class="header-anchor" href="#æ ¸å¿ƒç‰¹ç‚¹" aria-label="Permalink to &quot;æ ¸å¿ƒç‰¹ç‚¹ï¼š&quot;">â€‹</a></h4><ul><li>ä¸ä¼šè§¦å‘é¡µé¢åˆ·æ–°</li><li>å…¼å®¹æ€§å¥½</li><li>URLä¸­å¸¦æœ‰#å·</li><li>å¯ä»¥é€šè¿‡<code>window.onhashchange</code>ç›‘å¬è·¯ç”±å˜åŒ–</li></ul><h4 id="å®ç°ç¤ºä¾‹" tabindex="-1">å®ç°ç¤ºä¾‹ï¼š <a class="header-anchor" href="#å®ç°ç¤ºä¾‹" aria-label="Permalink to &quot;å®ç°ç¤ºä¾‹ï¼š&quot;">â€‹</a></h4><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">nav</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nav-box&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> href</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;é¦–é¡µ&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> href</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#/product&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;äº§å“&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> href</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#/personal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;ä¸ªäººä¸­å¿ƒ&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">nav</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;view-box&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> viewBox</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.view-box&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·¯ç”±é…ç½®è¡¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> routes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, component: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;é¦–é¡µå†…å®¹&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/product&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, component: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;äº§å“å†…å®¹&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/personal&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, component: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ä¸ªäººä¸­å¿ƒå†…å®¹&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·¯ç”±åŒ¹é…å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> routerMatch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> hash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> location.hash.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">substring</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> route</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> routes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item.path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> hash);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    viewBox.innerHTML </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> route </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> route.component </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;404&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆå§‹åŒ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">location.hash </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">routerMatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›‘å¬hashå˜åŒ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.onhashchange </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> routerMatch;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="_2-2-historyè·¯ç”±-ğŸ”„" tabindex="-1">2.2 Historyè·¯ç”± ğŸ”„ <a class="header-anchor" href="#_2-2-historyè·¯ç”±-ğŸ”„" aria-label="Permalink to &quot;2.2 Historyè·¯ç”± ğŸ”„&quot;">â€‹</a></h3><p>Historyè·¯ç”±åˆ©ç”¨HTML5çš„History APIå®ç°ï¼Œæä¾›äº†æ›´ä¼˜é›…çš„URLæ ¼å¼ã€‚</p><h4 id="æ ¸å¿ƒç‰¹ç‚¹-1" tabindex="-1">æ ¸å¿ƒç‰¹ç‚¹ï¼š <a class="header-anchor" href="#æ ¸å¿ƒç‰¹ç‚¹-1" aria-label="Permalink to &quot;æ ¸å¿ƒç‰¹ç‚¹ï¼š&quot;">â€‹</a></h4><ul><li>æ— #å·çš„å¹²å‡€URL</li><li>éœ€è¦æœåŠ¡å™¨é…ç½®æ”¯æŒ</li><li>æä¾›æ›´å¼ºå¤§çš„çŠ¶æ€ç®¡ç†</li><li>å¯ä»¥é€šè¿‡<code>popstate</code>äº‹ä»¶ç›‘å¬è·¯ç”±å˜åŒ–</li></ul><h4 id="å®ç°ç¤ºä¾‹-1" tabindex="-1">å®ç°ç¤ºä¾‹ï¼š <a class="header-anchor" href="#å®ç°ç¤ºä¾‹-1" aria-label="Permalink to &quot;å®ç°ç¤ºä¾‹ï¼š&quot;">â€‹</a></h4><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">nav</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nav-box&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> href</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;é¦–é¡µ&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> href</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/product&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;äº§å“&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> href</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/personal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;ä¸ªäººä¸­å¿ƒ&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">nav</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;view-box&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> viewBox</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.view-box&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> navBox</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.nav-box&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·¯ç”±é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> routes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, component: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;é¦–é¡µå†…å®¹&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/product&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, component: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;äº§å“å†…å®¹&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/personal&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, component: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ä¸ªäººä¸­å¿ƒå†…å®¹&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·¯ç”±åŒ¹é…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> routerMatch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> location.pathname;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> route</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> routes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item.path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    viewBox.innerHTML </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> route </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> route.component </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;404&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‹¦æˆªå¯¼èˆªç‚¹å‡»</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">navBox.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onclick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e.target.tagName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;A&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">preventDefault</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> href</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.target.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;href&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        history.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pushState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({}, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, href);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        routerMatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆå§‹åŒ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">history.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pushState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({}, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">routerMatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›‘å¬æµè§ˆå™¨å‰è¿›åé€€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.onpopstate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> routerMatch;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="_3-æ³¨æ„äº‹é¡¹-âš ï¸" tabindex="-1">3. æ³¨æ„äº‹é¡¹ âš ï¸ <a class="header-anchor" href="#_3-æ³¨æ„äº‹é¡¹-âš ï¸" aria-label="Permalink to &quot;3. æ³¨æ„äº‹é¡¹ âš ï¸&quot;">â€‹</a></h2><h3 id="_3-1-hashè·¯ç”±æ³¨æ„ç‚¹" tabindex="-1">3.1 Hashè·¯ç”±æ³¨æ„ç‚¹ <a class="header-anchor" href="#_3-1-hashè·¯ç”±æ³¨æ„ç‚¹" aria-label="Permalink to &quot;3.1 Hashè·¯ç”±æ³¨æ„ç‚¹&quot;">â€‹</a></h3><ul><li>hashå€¼å˜åŒ–ä¸ä¼šå¯¼è‡´é¡µé¢åˆ·æ–°</li><li>å…¼å®¹æ€§å¥½ï¼Œæ”¯æŒè€ç‰ˆæœ¬æµè§ˆå™¨</li><li>ä¸å¤ªç¾è§‚ï¼ŒURLä¸­å¸¦æœ‰#å·</li><li>ä¸åˆ©äºSEO</li></ul><h3 id="_3-2-historyè·¯ç”±æ³¨æ„ç‚¹" tabindex="-1">3.2 Historyè·¯ç”±æ³¨æ„ç‚¹ <a class="header-anchor" href="#_3-2-historyè·¯ç”±æ³¨æ„ç‚¹" aria-label="Permalink to &quot;3.2 Historyè·¯ç”±æ³¨æ„ç‚¹&quot;">â€‹</a></h3><ul><li>éœ€è¦æœåŠ¡å™¨é…ç½®æ”¯æŒï¼Œå¦åˆ™åˆ·æ–°ä¼š404</li><li>URLæ›´ç¾è§‚</li><li>æä¾›æ›´ä¸°å¯Œçš„APIï¼ˆpushState, replaceStateç­‰ï¼‰</li><li>éœ€è¦è€ƒè™‘æµè§ˆå™¨å…¼å®¹æ€§</li></ul><h3 id="_3-3-æœåŠ¡å™¨é…ç½®ç¤ºä¾‹" tabindex="-1">3.3 æœåŠ¡å™¨é…ç½®ç¤ºä¾‹ <a class="header-anchor" href="#_3-3-æœåŠ¡å™¨é…ç½®ç¤ºä¾‹" aria-label="Permalink to &quot;3.3 æœåŠ¡å™¨é…ç½®ç¤ºä¾‹&quot;">â€‹</a></h3><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try_files </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$uri $uri/ /index.html;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="_4-ç°ä»£æ¡†æ¶ä¸­çš„åº”ç”¨-ğŸ¯" tabindex="-1">4. ç°ä»£æ¡†æ¶ä¸­çš„åº”ç”¨ ğŸ¯ <a class="header-anchor" href="#_4-ç°ä»£æ¡†æ¶ä¸­çš„åº”ç”¨-ğŸ¯" aria-label="Permalink to &quot;4. ç°ä»£æ¡†æ¶ä¸­çš„åº”ç”¨ ğŸ¯&quot;">â€‹</a></h2><ul><li>Vue Routerï¼šé»˜è®¤æ”¯æŒhashå’Œhistoryä¸¤ç§æ¨¡å¼</li><li>React Routerï¼šåŒæ ·æ”¯æŒä¸¤ç§æ¨¡å¼</li><li>Angular Routerï¼šä¸»è¦ä½¿ç”¨historyæ¨¡å¼</li></ul><h2 id="_5-æœ€ä½³å®è·µå»ºè®®-ğŸ’¡" tabindex="-1">5. æœ€ä½³å®è·µå»ºè®® ğŸ’¡ <a class="header-anchor" href="#_5-æœ€ä½³å®è·µå»ºè®®-ğŸ’¡" aria-label="Permalink to &quot;5. æœ€ä½³å®è·µå»ºè®® ğŸ’¡&quot;">â€‹</a></h2><ol><li>SPAåº”ç”¨æ¨èä½¿ç”¨Historyæ¨¡å¼</li><li>éœ€è¦å…¼å®¹è€æ—§æµè§ˆå™¨æ—¶ä½¿ç”¨Hashæ¨¡å¼</li><li>ç¡®ä¿æ­£ç¡®é…ç½®æœåŠ¡å™¨ä»¥æ”¯æŒHistoryæ¨¡å¼</li><li>åˆç†ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½ä¼˜åŒ–æ€§èƒ½</li><li>æ³¨æ„å¤„ç†404é¡µé¢çš„ä¼˜é›…é™çº§</li></ol>`,31),k=[t];function p(e,E,r,d,g,y){return a(),i("div",null,k)}const c=s(l,[["render",p]]);export{F as __pageData,c as default};
